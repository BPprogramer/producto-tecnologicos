{"version":3,"sources":["cajas/cajas.js","categorias/categorias.js","fiados/cargar-clientes.js","fiados/fiados.js","clientes/clientes.js","inicio/index.js","mercado/infoVenta.js","mercado/mercadolibre.js","productos-ventas/index.js","pagos/pagos.js","usuarios/login.js","usuarios/usuario.js","proveedores/proveedores.js","transacciones/egresos.js","transacciones/ingresos.js","ventas/crear-ventas.js","ventas/info-venta.js","ventas/reporte-ventas-graficas.js","ventas/reporte-ventas.js","ventas/ventas.js","productos/avastesimiento.js","productos/precios-producto.js","productos/productos.js","productos/stock_productos.js"],"names":["document","querySelector","btnAbrirCaja","formulario","btnSubmit","tablaCajas","id","efectivoAperturaInput","eliminarToastAnterior","remove","async","accionesModal","reset","disabled","$","modal","validate","resetForm","destroy","find","removeClass","respuesta","fetch","resultado","value","parseFloat","toLocaleString","llenarFormulario","json","error","console","log","consultarCaja","inicializarValidador","validator","setDefaults","submitHandler","datos","FormData","append","url","location","origin","body","method","type","Toasts","class","title","msg","ajax","reload","setTimeout","enviarDatos","rules","efectivo_apertura","required","messages","errorElement","errorPlacement","element","addClass","closest","highlight","errorClass","validClass","unhighlight","addEventListener","e","valor","valor_sin_formato","replace","isNaN","formatearValor","target","dataTable","fnDestroy","DataTable","language","decimal","emptyTable","info","infoEmpty","infoFiltered","infoPostFix","thousands","lengthMenu","loadingRecords","processing","search","zeroRecords","paginate","first","last","next","previous","deferRender","retrieve","proccesing","responsive","on","currentTarget","dataset","cajaId","parentElement","childNodes","textContent","Swal","fire","icon","html","showCancelButton","confirmButtonText","cancelButtonText","then","result","isConfirmed","eliminarCaja","alertaEliminarCaja","cerrarCaja","alertaCerrarCaja","event","tablaCategorias","btnRegistrarCategoria","categoria","consultarCategoria","trim","initComplete","fn","Buttons","buttons","container","appendTo","toUpperCase","categoriaId","eliminarCategoria","alertaEliminarCategoria","selectClientes","opcionDisabled","createElement","appendChild","forEach","cliente","opcion","nombre","select2","theme","consultarCLientes","datosDeuda","monto","deuda","saldo","venta_id","ventasInpagas","idCliente","btnSumitPago","bodyFiados","totalDeuda","deudaActual","btnPagarTodo","saldoRestante","text","consultarInfoCliente","calcularSaldoRestante","customValidation","addMethod","param","notEqualChar","limpiarHtml","ventas_fiadas","length","total_deuda","venta_fiada","codigo","total_factura","recaudo","pagado","push","tr","tdCodigo","tdTotal","tdAbono","tdDeuda","tdEstado","divEstado","classList","add","btnEstado","tdInfo","divInfo","btnInfo","innerHTML","btnPagos","btnPagar","onclick","fiado","productos","codigoVenta","clienteVenta","fechaVenta","totalVenta","recaudoVenta","saldoVenta","nombre_cliente","fecha","total","bodyProductos","producto","cantidad","precio","tdNombre","tdCantidad","tdPrecio","tdSubTotal","mostrarInfoFiado","consultarInfoVentaFiada","pagos","bodyPagos","pago","payment_number","date","payment_amount","responsible","remaining_balance","tdPaymentNumber","tdDate","tdResponsible","tdPaymentAmount","tdRemainingaBalance","tdActions","divActions","btnDelete","eliminarPago","alertaEliminarPago","mostrarPagos","data","cosultarPagosVentaFianda","pagarVentaFiada","cliente_id","mostrarFiados","referencia","firstChild","removeChild","deudaSinFormat","monto_ingresado","tablaClientes","btnRegistrarCliente","cedula","celular","direccion","email","consultarCliente","minlength","digits","rangelength","clienteId","eliminarCliente","alertaEliminarCliente","total_ventas","total_recuados","costos","ganancia_no_realizada","ganancia_realizada","inventario","numero_ventas","numero_fiados","numero_pagos","numero_cajas","numero_productos","numero_clientes","total_recaudos","mostrarInfo","cargarInformacion","productos_venta","venta","totalVentaSinComision","metodoVenta","estadoVenta","metodo_pago","contains","estado","mostrarInfoVenta","consultarInfoVenta","ventaId","tablaMercadoLibre","pagosAuto","tablaProductosVendidos","input_fecha_inicial","input_fecha_final","fecha_actual","Date","fecha_final","getFullYear","getMonth","slice","getDate","setMonth","fecha_inicial","consultarProductosVendidos","dataFilter","jsonData","JSON","parse","newJson","row","index","parseInt","existe","indexProducto","stringify","dataType","success","req","resposeText","inicializarValidadorStock","idProductoActualizarStock","nuevo_stock","precio_compra_nuevo","btnSubmitNewStock","formularioStock","enviarDatosStock","tablaProductos","password","window","href","tablaUsuarios","btnRegistrarUsuario","roll","limpiarSelect","optionDisabledEstado","setAttribute","optionEstado","optionEstado1","optionDisabledRoll","optionRoll","optionRoll1","consultarUsuario","passwordRules","passwordMsg","terms","isDataTable","serverSide","mostrarUsuarios","usuarioId","eliminarUsuario","alertaEliminarUsuario","tablaProveedores","btnRegistrarProvedor","proveedorId","proveedor","eliminarProveedor","alertaEliminarProveedor","btnRegistrarEgreso","tablaEgresos","egreso","descripcion","consultarEgreso","ingreso","egresoId","eliminarEgreso","alertaEliminarEgreso","btnRegistrarIngreso","tablaIngresos","consultarIngreso","ingresoId","eliminarIngreso","alertaEliminarIngreso","idAnterior","listadoProductos","productoObj","precio_compra","precio_venta","precio_original","valor_total","stock","valoresObj","total_sin_descuento","total_pagar","descuento","costo","total_libre","focusCantidad","productosArray","guardarVentaBtn","totalInput","descuentoInput","totalPagarInput","medotodoPago","pagoContado","pagoCuotas","cantidadPagar","cantidadCambio","abono","nombreCliente","cedulaCliente","celularCliente","direccionCliente","emailCliente","bntAgregarCliente","btnQuitarCliente","contenedorCliente","codigoProducto","selectProductos","cargarCodigoVenta","codigo_venta","resetearCliente","val","trigger","mostrarProductos","contenedorProductos","rowDiv","productoId","col1Div","group1Div","prepend1Div","idProducto","filter","inputNombre","readOnly","col7Div","group7Div","prepend7Div","inputStock","col2Div","group2Div","prepend2Div","inputCantidad","focus","oninput","modificarTotalPorProducto","col3Div","group3Div","prepend3Div","inputPrecio","nuevo_precio_venta","col4Div","group4Div","prepend4Div","inputPrecioCantidad","resetarInputsMetodoPago","total_costo","Number","toFixed","calcularTotal","parametro","aux","map","consultarInfoProducto","some","selected","urlActual","URL","params","URLSearchParams","size","atob","get","productosVenta","productoVenta","precio_factura","cedula_cliente","celular_cliente","direccion_cliente","undefined","email_cliente","optionToSelect","llenarInformacion","consultarVenta","leerDatosUrl","preventDefault","miString","test","keyCode","productoSeleccionado","toLowerCase","productoPorCodigo","consultarProductos","valor_abono","resetearVentaAnterior","enviarInformacion","revisarVenta","cambio","mercadolibre","ventas","totalSInDescuento","fecha_actual_utc","fecha_actual_formateada","getTime","toISOString","llenarIputFecha","tablaVentas","idString","toString","btoa","revisarPagosAsociados","numero_venta","eliminarVenta","alertaEliminarVenta","open","imprimirVenta","order","mostrarVentas","nombre_producto","precio_paquete_nuevo","unidades_input_nuevo","calcularNuevoPrecioCompra","precio_paquete","unidades","Math","round","tablaCompras","precio_compra_input","precio_venta_input","porcentaje_venta","precio_paquete_input","unidades_input","calcularPrecioCompra","calcularPorcentaje","porcentaje","calcularPrecioVenta","btnRegistrarProducto","selectCategorias","selectProveedores","idCategoria","idProveedor","categoria_id","proveedor_id","stock_minimo","consultarCategorias","categorias","llenarSelectCategorias","consultarProveedores","proveedores","llenarSelectProveedores","consultarProducto","eliminarProducto","alertaEliminarProducto"],"mappings":"CAAA,WAEA,GADAA,SAAAC,cAAA,UACA,CAEA,MAAAC,EAAAF,SAAAC,cAAA,cACAE,EAAAH,SAAAC,cAAA,aACAG,EAAAJ,SAAAC,cAAA,cAEA,IAAAI,EAEAC,EACA,MAAAC,EAAAP,SAAAC,cAAA,sBA0QA,SAAAO,IACAR,SAAAC,cAAA,6BACAD,SAAAC,cAAA,4BAAAQ,SAIAC,eAAAC,IACAR,EAAAS,QACAR,EAAAS,UAAA,EACAC,EAAA,eAAAC,MAAA,QACAD,EAAA,aAAAE,WAAAC,YAEAH,EAAA,aAAAE,WAAAE,UAEAJ,EAAA,aAAAK,KAAA,eAAAC,YAAA,cACAd,GAYAI,iBAEA,IACA,MAAAW,QAAAC,MAAA,gBAAAhB,IAUA,SAAAiB,GAGAhB,EAAAiB,MAAAC,WAAAF,GAAAG,eAAA,MATAC,OAHAN,EAAAO,QAIA,MAAAC,GACAC,QAAAC,IAAAF,IApBAG,GAMAC,IAwBA,SAAAA,IAEAnB,EAAAoB,UAAAC,YAAA,CACAC,cAAA,YAhHA1B,iBAEA,MAAA2B,EAAA,IAAAC,SACAhC,GACA+B,EAAAE,OAAA,KAAAjC,GAEA+B,EAAAE,OAAA,oBAAAhC,EAAAiB,OAGApB,EAAAS,UAAA,EAEA,IAAA2B,EAAA,GAEAA,EADAlC,EACAmC,SAAAC,OAAA,mBAEAD,SAAAC,OAAA,kBAIA,IACA,MAAArB,QAAAC,MAAAkB,EAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAGApB,IAEAJ,EAAAS,UAAA,EACA,SAAAU,EAAAsB,MACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,MAEAnC,EAAA,eAAAC,MAAA,UAEAV,EAAA6C,KAAAC,SAEArC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAKA9C,EAAAS,QAEAE,EAAA,eAAAC,MAAA,SAGAqC,WAAA,KACA5C,KACA,KAEA,MAAAqB,KAsDAwB,MAMAvC,EAAA,aAAAE,SAAA,CACAsC,MAAA,CACAC,kBAAA,CACAC,UAAA,IAIAC,SAAA,CACAF,kBAAA,CACAC,SAAA,8EAKAE,aAAA,OACAC,eAAA,SAAA9B,EAAA+B,GACA/B,EAAAgC,SAAA,oBACAD,EAAAE,QAAA,eAAAvB,OAAAV,IAEAkC,UAAA,SAAAH,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAC,SAAA,eAEAK,YAAA,SAAAN,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAxC,YAAA,iBAyBA,SAAAZ,IACAR,SAAAC,cAAA,6BACAD,SAAAC,cAAA,4BAAAQ,SAlXAF,EAAA4D,iBAAA,SAAA,SAAAC,GACA7D,EAAAiB,MAsWA,SAAA6C,GAEA,IAAAC,EAAA7C,WAAA4C,EAAAE,QAAA,KAAA,KACAC,MAAAF,KACAA,EAAA,IAGA,OADAA,EAAA5C,eAAA,MA5WA+C,CAAAL,EAAAM,OAAAlD,UA2JAV,EAAA,UAAA6D,YAAAC,YAEAvE,EAAAS,EAAA,UAAA+D,UAAA,CACAC,SAAA,CACAC,QAAA,GACAC,WAAA,qBACAC,KAAA,gDACAC,UAAA,iCACAC,aAAA,qCACAC,YAAA,GACAC,UAAA,IACAC,WAAA,0BACAC,eAAA,cACAC,WAAA,gBACAC,OAAA,UACAC,YAAA,6BACAC,SAAA,CACAC,MAAA,UACAC,KAAA,SACAC,KAAA,YACAC,SAAA,aAGA7C,KAAA,aACA8C,aAAA,EACAC,UAAA,EACAC,YAAA,EACAC,YAAA,IAhLAjG,EAAAiE,iBAAA,SAAA,WACA7D,EAAA,KAEAK,OAGAG,EAAA,UAAAsF,GAAA,QAAA,WAAA,SAAAhC,GAEA9D,EAAA8D,EAAAiC,cAAAC,QAAAC,OAEA5F,OAIAG,EAAA,UAAAsF,GAAA,QAAA,aAAA,SAAAhC,IASA,SAAA9D,EAAA8D,GAEA,MAAAb,EAAAa,EAAAiC,cAAAG,cAAAA,cAAAA,cAAAC,WAAA,GAAAC,YAGAC,KAAAC,KAAA,CACAC,KAAA,UACAC,KAAA,6HAAAvD,6DAEAwD,kBAAA,EACAC,kBAAA,WACAC,iBAAA,aAGAC,KAAAC,IACAA,EAAAC,aAgEA1G,eAAAJ,GACA,MAAA+B,EAAA,IAAAC,SACAD,EAAAE,OAAA,KAAAjC,GAGAkC,IAAAC,SAAAC,OAAA,qBACA,IACA,MAAArB,QAAAC,MAAAkB,IAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAEApB,IAEA,SAAAe,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAIAnC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAMA5C,EAAA6C,KAAAC,UAEAC,WAAA,KACA5C,KACA,KACA,MAAAqB,KAtGAwF,CAAA/G,KAvBAgH,CADAlD,EAAAiC,cAAAC,QAAAC,OACAnC,MAEAtD,EAAA,UAAAsF,GAAA,QAAA,WAAA,SAAAhC,IAyBA,SAAA9D,EAAA8D,GAEAuC,KAAAC,KAAA,CACAC,KAAA,UACAC,KAAA,kGAEAC,kBAAA,EACAC,kBAAA,SACAC,iBAAA,aAGAC,KAAAC,IACAA,EAAAC,aAKA1G,eAAAJ,GAEA,MAAA+B,EAAA,IAAAC,SACAD,EAAAE,OAAA,KAAAjC,GAGAkC,IAAAC,SAAAC,OAAA,mBACA,IACA,MAAArB,QAAAC,MAAAkB,IAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAGApB,IAEA,SAAAe,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAIAnC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAGA5C,EAAA6C,KAAAC,UAEAC,WAAA,KACA5C,KACA,KACA,MAAAqB,KA1CA0F,CAAAjH,KApCAkH,CADApD,EAAAiC,cAAAC,QAAAC,WAiUAzF,EAAA,aAAAsF,GAAA,SAAA,SAAAqB,GACAxF,QAzWA,GCAA,WAEA,GADAjC,SAAAC,cAAA,eACA,CACA,IAAAyH,EACApH,EAAA,KAGA,MAAAqH,EAAA3H,SAAAC,cAAA,cACAE,EAAAH,SAAAC,cAAA,kBACA2H,EAAA5H,SAAAC,cAAA,cAgIA,SAAAU,IACAR,EAAAS,QACAR,UAAAS,UAAA,EACAC,EAAA,oBAAAC,MAAA,QACAkB,IACA3B,GAKAI,iBACA,IACA,MAAAW,QAAAC,MAAA,qBAAAhB,IASA,SAAAiB,GAEAqG,EAAApG,MAAAD,EAAAqG,UAPAjG,OAHAN,EAAAO,QAIA,MAAAC,GACAC,QAAAC,IAAAF,IAZAgG,GAgFA,SAAArH,IACAR,SAAAC,cAAA,6BACAD,SAAAC,cAAA,4BAAAQ,SAIA,SAAAwB,IACAnB,EAAAoB,UAAAC,YAAA,CACAC,cAAA,YAlEA1B,iBACA,MAAA2B,EAAA,IAAAC,SACAhC,GACA+B,EAAAE,OAAA,KAAAjC,GAEA+B,EAAAE,OAAA,YAAAqF,EAAA,MAAAE,QAGA1H,UAAAS,UAAA,EACA,IAAA2B,EAAA,GAEAA,EADAlC,EACAmC,SAAAC,OAAA,wBAEAD,SAAAC,OAAA,uBAGA,IACA,MAAArB,QAAAC,MAAAkB,EAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAGApB,IACAJ,UAAAS,UAAA,EACA,SAAAU,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAGAyE,EAAAxE,KAAAC,SAEArC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAGAG,WAAA,KACA5C,KACA,KAEAL,EAAAS,QAGAE,EAAA,oBAAAC,MAAA,SAIA,MAAAc,KAaAwB,MAKAvC,EAAA,kBAAAE,SAAA,CACAsC,MAAA,CACAsE,UAAA,CACApE,UAAA,IAGAC,SAAA,CACAmE,UAAA,CACApE,SAAA,6CAGAE,aAAA,OACAC,eAAA,SAAA9B,EAAA+B,GACA/B,EAAAgC,SAAA,oBACAD,EAAAE,QAAA,eAAAvB,OAAAV,IAEAkC,UAAA,SAAAH,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAC,SAAA,eAEAK,YAAA,SAAAN,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAxC,YAAA,iBAtJAN,EAAA,UAAA6D,YAAAC,YAEA8C,EAAA5G,EAAA,UAAA+D,UAAA,CACA3B,KAAA,kBACA8C,aAAA,EACAC,UAAA,EACAC,YAAA,EACAC,YAAA,EACA4B,aAAA,WAEA,IAAAjH,EAAAkH,GAAArD,UAAAsD,QAAAP,EAAA,CACAQ,QAAA,CAAA,OAAA,MAAA,QAAA,MAAA,WACAC,YAAAC,SAAA,qCAzGAR,EAAAzD,iBAAA,SAAA,SAAAC,GACAwD,EAAApG,MAAA4C,EAAAM,OAAA,MAAA2D,iBAGAV,EAAAxD,iBAAA,SAAA,WACA7D,EAAA,KACAK,OAIAG,EAAA,UAAAsF,GAAA,QAAA,WAAA,SAAAhC,GACA9D,EAAA8D,EAAAiC,cAAAC,QAAAgC,YACA3H,OAEAG,EAAA,UAAAsF,GAAA,QAAA,aAAA,SAAAhC,IAQA,SAAA9D,EAAA8D,GAEA,MAAAwD,EAAAxD,EAAAiC,cAAAG,cAAAA,cAAAA,cAAAC,WAAA,GAAAC,YAEAC,KAAAC,KAAA,CACAC,KAAA,UACAC,KAAA,qFAAAc,6DAEAb,kBAAA,EACAC,kBAAA,WACAC,iBAAA,aAGAC,KAAAC,IACAA,EAAAC,aAKA1G,eAAAJ,GACA,MAAA+B,EAAA,IAAAC,SACAD,EAAAE,OAAA,KAAAjC,GAEAkC,IAAAC,SAAAC,OAAA,0BACA,IACA,MAAArB,QAAAC,MAAAkB,IAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAEApB,IAEA,SAAAe,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAIAnC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAGAG,WAAA,KACA5C,KACA,KAGAkH,EAAAxE,KAAAC,UAEA,MAAAtB,GACAf,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAA,2EAGAS,WAAA,KACA5C,KACA,MAnDA+H,CAAAjI,KArBAkI,CADApE,EAAAiC,cAAAC,QAAAgC,YACAlE,MAuOAtD,EAAA,kBAAAsF,GAAA,SAAA,SAAAqB,GACAxF,QAtQA,GCAA,WAEA,GADAjC,SAAAC,cAAA,mBACA,CAEA,MAAAwI,EAAAzI,SAAAC,cAAA,oBAIAS,iBAGA,IACA,MAAAW,QAAAC,MAAAmB,SAAAC,OAAA,+BACAnB,QAAAF,EAAAO,OAKA8G,EAAA1I,SAAA2I,cAAA,UACAD,EAAAhC,YAAA,4BACAgC,EAAAlH,MAAA,IAEAiH,EAAAG,YAAAF,GAEAnH,EAAAsH,QAAAC,IAEA,MAAAC,EAAA/I,SAAA2I,cAAA,UACAI,EAAAvH,MAAAsH,EAAAxI,GACAyI,EAAArC,YAAAoC,EAAAE,OAEAP,EAAAG,YAAAG,KAIAjI,EAAA,mBAAAmI,UACAnI,EAAA,eAAAmI,QAAA,CACAC,MAAA,eAEA,MAAArH,GACAC,QAAAC,IAAAF,GAEAf,EAAA,oBAAAmI,UACAnI,EAAA,eAAAmI,QAAA,CACAC,MAAA,eArCAC,IANA,GCAA,WAIA,GAHAnJ,SAAAC,cAAA,mBAGA,CAEA,IAAAmJ,EAAA,CACAC,MAAA,EACAC,MAAA,EACAC,MAAA,EACAC,SAAA,IAGAC,EAAA,GACAC,EAAA,GACA,MAAAC,EAAA3J,SAAAC,cAAA,kBAEA2J,EAAA5J,SAAAC,cAAA,gBAEA4J,EAAA7J,SAAAC,cAAA,gBAEAE,GADAH,SAAAC,cAAA,UACAD,SAAAC,cAAA,cAEA6J,EAAA9J,SAAAC,cAAA,iBACA8J,EAAA/J,SAAAC,cAAA,eACAoJ,EAAArJ,SAAAC,cAAA,UACA+J,EAAAhK,SAAAC,cAAA,mBAkDAS,eAAA2C,IAGA,MAVA+F,EAAAG,MAAA,GAeA,YAJA5C,KAAAC,KAAA,CACAC,KAAA,UACAoD,KAAA,2DAMA,MAAA5H,EAAA,IAAAC,SACAD,EAAAE,OAAA,WAAA6G,EAAAI,UACAnH,EAAAE,OAAA,QAAA6G,EAAAC,OACAM,EAAA9I,UAAA,EACA,MAAA2B,EAAAC,SAAAC,OAAA,aACA,IACA,MAAArB,QAAAC,MAAAkB,EAAA,CACAI,OAAA,OACAD,KAAAN,IAEAd,QAAAF,EAAAO,OAEA+H,EAAA9I,UAAA,EACAC,EAAA,eAAAC,MAAA,QACAP,IAEA,SAAAe,EAAAsB,KAEA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAKAnC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAEAiH,EAAAR,IAEAtG,WAAA,KACA5C,KACA,KACA,MAAAqB,KAMA,SAAAsI,IACAf,EAAAG,MAAAH,EAAAE,MAAAF,EAAAC,MACA7E,MAAA4E,EAAAG,SACAH,EAAAG,MAAAH,EAAAE,OAEAU,EAAAtD,YAAA,IAAAjF,WAAA2H,EAAAG,OAAA7H,eAAA,MAGA,SAAAf,IAEAR,EAAAS,QAEA+I,EAAA9I,UAAA,EACAiB,QAAAC,IAAAqH,GAEAU,EAAAtI,MAAAC,WAAA2H,EAAAE,OAAA5H,eAAA,MACAsI,EAAAtD,YAAA,IAAAjF,WAAA2H,EAAAG,OAAA7H,eAAA,MAyZAZ,EAAAoB,UAAAC,YAAA,CACAC,cAAA,WACAiB,OASAvC,EAAA,aAAAE,SAAA,CACAsC,MAAA,CACA+F,MAAA,CACA7F,UAAA,EACA4G,iBAAA,MAGA3G,SAAA,CACA4F,MAAA,CACA7F,SAAA,kCACA4G,iBAAA,sCAGA1G,aAAA,OACAC,eAAA,SAAA9B,EAAA+B,GACA/B,EAAAgC,SAAA,oBACAD,EAAAE,QAAA,eAAAvB,OAAAV,IAEAkC,UAAA,SAAAH,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAC,SAAA,eAEAK,YAAA,SAAAN,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAxC,YAAA,iBAKAN,EAAAoB,UAAAmI,UAAA,oBAAA,SAAA7I,EAAAoC,GACA,OAhCA,SAAApC,EAAAoC,EAAA0G,GACA,OAAA9I,IAAA8I,EA+BAC,CAAA/I,EAAAoC,EAAA,OACA,uCAvbAlD,eAAAwJ,EAAA5J,GACAoJ,EAAApJ,EAEA,IACA0J,EAAAtD,YAAA,KACA,MAAArF,QAAAC,MAAA,GAAAmB,SAAAC,8BAAApC,KAEAiB,QAAAF,EAAAO,OAMA,GAFA4I,EAAAZ,GAEA,GAAArI,EAAAkJ,cAAAC,OACA/D,KAAAC,KAAA,CACAC,KAAA,UACAoD,KAAA,oCAEAJ,EAAAnD,YAAA,EACA0C,EAAAE,MAAA,EACAF,EAAAC,MAAA,EACAD,EAAAG,MAAA,MAGA,CACA,MAAAkB,cAAAA,GAAAlJ,GA8EA,SAAAkJ,GAEA,IAAAE,EAAA,EAEAF,EAAA5B,QAAA+B,IAEA,MAAAC,OAAAA,EAAAC,cAAAA,EAAAC,QAAAA,EAAAC,OAAAA,GAAAJ,EAEA,GAAAI,GACAvB,EAAAwB,OAGA,MAAAC,EAAAlL,SAAA2I,cAAA,MAEAwC,EAAAnL,SAAA2I,cAAA,MACAwC,EAAAzE,YAAA,IAAAmE,EAEA,MAAAO,EAAApL,SAAA2I,cAAA,MACAyC,EAAA1E,YAAA,IAAAjF,WAAAqJ,GAAApJ,eAAA,MAEA,MAAA2J,EAAArL,SAAA2I,cAAA,MACA0C,EAAA3E,YAAA,IAAAjF,WAAAsJ,GAAArJ,eAAA,MAEA,MAAA4J,EAAAtL,SAAA2I,cAAA,MACA2C,EAAA5E,YAAA,IAAAjF,WAAAqJ,EAAAC,GAAArJ,eAAA,MAEA,MAAA6J,EAAAvL,SAAA2I,cAAA,MAEA6C,EAAAxL,SAAA2I,cAAA,OACA6C,EAAAC,UAAAC,IAAA,SAAA,uBAAA,eAEA,MAAAC,EAAA3L,SAAA2I,cAAA,UACAgD,EAAA9I,KAAA,SAEA8I,EAAAF,UAAAC,IAAA,MAAA,OAAA,aAAA,UAEA,GAAAV,GACAL,EAAAA,EAAAlJ,WAAAqJ,GAAArJ,WAAAsJ,GACAY,EAAAjF,YAAA,YACAiF,EAAAF,UAAAC,IAAA,gBAEAC,EAAAjF,YAAA,SACAiF,EAAAF,UAAAC,IAAA,UAAA,eAKAF,EAAA5C,YAAA+C,GACAJ,EAAA3C,YAAA4C,GAEA,MAAAI,EAAA5L,SAAA2I,cAAA,MACAkD,EAAA7L,SAAA2I,cAAA,OACAkD,EAAAJ,UAAAC,IAAA,SAAA,yBAEA,MAAAI,EAAA9L,SAAA2I,cAAA,UACAmD,EAAAjJ,KAAA,SACAiJ,EAAAL,UAAAC,IAAA,MAAA,SAAA,gBAAA,aAAA,UAAA,QACAI,EAAAC,UAAA,2EACA,MAAAC,EAAAhM,SAAA2I,cAAA,UACAqD,EAAAnJ,KAAA,SACAmJ,EAAAP,UAAAC,IAAA,MAAA,SAAA,gBAAA,aAAA,UAAA,QACAM,EAAAD,UAAA,kFAEA,MAAAE,EAAAjM,SAAA2I,cAAA,UACAsD,EAAApJ,KAAA,SACAoJ,EAAAR,UAAAC,IAAA,MAAA,SAAA,gBAAA,aAAA,WACAO,EAAAF,UAAA,wEAEAD,EAAAI,QAAA,MAsIAxL,eAAAkK,GAEA9J,EAAA,eAAAC,MAAA,QAEA,IACA,MAAAM,QAAAC,MAAA,GAAAmB,SAAAC,wCAAAkI,EAAAtK,MACAiB,QAAAF,EAAAO,OAEA,SAAAL,EAAAsB,KACA8D,KAAAC,KAAA,CACAC,KAAA,QACAoD,KAAA1I,EAAA0B,MAjHA,SAAAkJ,EAAAC,GAGA,MAAAC,EAAArM,SAAAC,cAAA,iBACAqM,EAAAtM,SAAAC,cAAA,kBACAsM,EAAAvM,SAAAC,cAAA,gBAEAuM,EAAAxM,SAAAC,cAAA,gBACAwM,EAAAzM,SAAAC,cAAA,kBACAyM,EAAA1M,SAAAC,cAAA,gBAEAoM,EAAA3F,YAAAyF,EAAAtB,OACAyB,EAAA5F,YAAAyF,EAAAQ,eACAJ,EAAA7F,YAAAyF,EAAAS,MACAJ,EAAA9F,YAAAjF,WAAA0K,EAAAU,OAAAnL,eAAA,MACA+K,EAAA/F,YAAAjF,WAAA0K,EAAApB,SAAArJ,eAAA,MACAgL,EAAAhG,YAAAjF,WAAA0K,EAAAU,MAAAV,EAAApB,SAAArJ,eAAA,MAEA,MAAAoL,EAAA9M,SAAAC,cAAA,0BACAuK,EAAAsC,GAEAV,EAAAvD,QAAAkE,IACA,MAAA/D,OAAAA,EAAAgE,SAAAA,EAAAC,OAAAA,GAAAF,EACA7B,EAAAlL,SAAA2I,cAAA,MACAuE,EAAAlN,SAAA2I,cAAA,MACAuE,EAAAxG,YAAAsC,EACA,MAAAmE,EAAAnN,SAAA2I,cAAA,MACAwE,EAAAzG,YAAAsG,EACA,MAAAI,EAAApN,SAAA2I,cAAA,MACAyE,EAAA1G,YAAAjF,WAAAwL,GAAAvL,eAAA,MACA,MAAA2L,EAAArN,SAAA2I,cAAA,MACA0E,EAAA3G,YAAAjF,WAAAwL,EAAAD,GAAAtL,eAAA,MAGAwJ,EAAAtC,YAAAsE,GACAhC,EAAAtC,YAAAuE,GACAjC,EAAAtC,YAAAwE,GACAlC,EAAAtC,YAAAyE,GAEAP,EAAAlE,YAAAsC,KA8EAoC,CAAA1C,EAAArJ,GAEA,MAAAM,KAtJA0L,CAAA3C,IAEAoB,EAAAE,QAAA,MA2JAxL,eAAAkK,GAGA,IAEA,MAAAvJ,QAAAC,MAAA,GAAAmB,SAAAC,uCAAAkI,EAAAtK,MACAiB,QAAAF,EAAAO,OAGA,SAAAL,EAAAsB,KACA8D,KAAAC,KAAA,CACAC,KAAA,QACAoD,KAAA1I,EAAA0B,OAIAnC,EAAA,gBAAAC,MAAA,QAjGA,SAAA6J,EAAA4C,GACA,MAAAC,EAAAzN,SAAAC,cAAA,eACAuK,EAAAiD,GACAD,EAAA3E,QAAA6E,IACA,MAAAC,eAAAA,EAAAC,KAAAA,EAAAC,eAAAA,EAAAC,YAAAA,EAAAC,kBAAAA,GAAAL,EAEAxC,EAAAlL,SAAA2I,cAAA,MAEAqF,EAAAhO,SAAA2I,cAAA,MACAqF,EAAAtH,YAAA,IAAAiH,EAEA,MAAAM,EAAAjO,SAAA2I,cAAA,MACAsF,EAAAvH,YAAAkH,EACA,MAAAM,EAAAlO,SAAA2I,cAAA,MACAuF,EAAAxH,YAAAoH,EAAA9E,OAGA,MAAAmF,EAAAnO,SAAA2I,cAAA,MACAwF,EAAAzH,YAAA,IAAAjF,WAAAoM,GAAAnM,eAAA,MAEA,MAAA0M,EAAApO,SAAA2I,cAAA,MACAyF,EAAA1H,YAAA,IAAAjF,WAAAsM,GAAArM,eAAA,MAIA,MAAA2M,EAAArO,SAAA2I,cAAA,MACA2F,EAAAtO,SAAA2I,cAAA,OACA2F,EAAA7C,UAAAC,IAAA,SAAA,wBAGA,MAAA6C,EAAAvO,SAAA2I,cAAA,UACA4F,EAAA1L,KAAA,SACA0L,EAAA9C,UAAAC,IAAA,MAAA,SAAA,gBAAA,aAAA,WACA6C,EAAAxC,UAAA,yEAEAwC,EAAArC,QAAA,YApPA,SAAAwB,GAGA/G,KAAAC,KAAA,CACAC,KAAA,UACAC,KAAA,uDAAA4G,EAAAC,kEAAAlM,WAAAiM,EAAAG,gBAAAnM,eAAA,iEAEAqF,kBAAA,EACAC,kBAAA,WACAC,iBAAA,aAGAC,KAAAC,IACAA,EAAAC,aAMA1G,eAAAgN,GAEA,MAAArL,EAAA,IAAAC,SACAD,EAAAE,OAAA,KAAAmL,EAAApN,IACA,MAAAkC,EAAAC,SAAAC,OAAA,qBACA,IACA,MAAArB,QAAAC,MAAAkB,EAAA,CACAI,OAAA,OACAD,KAAAN,IAEAd,QAAAF,EAAAO,OAIApB,IAEA,SAAAe,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAIAnC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAEAnC,EAAA,gBAAAC,MAAA,QACAmJ,EAAAR,IAIAtG,WAAA,KACA5C,KACA,KACA,MAAAqB,KA5CA2M,CAAAd,KAwOAe,CAAAf,IAGAY,EAAA1F,YAAA2F,GACAF,EAAAzF,YAAA0F,GAEApD,EAAAtC,YAAAoF,GACA9C,EAAAtC,YAAAqF,GACA/C,EAAAtC,YAAAsF,GACAhD,EAAAtC,YAAAuF,GACAjD,EAAAtC,YAAAwF,GAGAlD,EAAAtC,YAAAyF,GACAZ,EAAA7E,YAAAsC,KA+CAwD,CAAA9D,EAAArJ,EAAAoN,OAEA,MAAA9M,KA7KA+M,CAAAhE,IAEAqB,EAAAC,QAAA,MAgLAxL,eAAAkK,GAEA,MAAAE,cAAAA,EAAAC,QAAAA,EAAAzK,GAAAA,EAAA0K,OAAAA,GAAAJ,EACA,GAAAI,EACArE,KAAAC,KAAA,CACAC,KAAA,UACAoD,KAAA,uDAGAnJ,EAAA,eAAAC,MAAA,QACAqI,EAAAE,MAAAwB,EAAAC,EACA3B,EAAAG,MAAAuB,EAAAC,EACA3B,EAAAI,SAAAlJ,EAEAK,KA7LAkO,CAAAjE,IAGAiB,EAAAjD,YAAAkD,GACAD,EAAAjD,YAAAoD,GACAH,EAAAjD,YAAAqD,GACAL,EAAAhD,YAAAiD,GAEAX,EAAAtC,YAAAuC,GACAD,EAAAtC,YAAAwC,GACAF,EAAAtC,YAAAyC,GACAH,EAAAtC,YAAA0C,GACAJ,EAAAtC,YAAA2C,GACAL,EAAAtC,YAAAgD,GACAhC,EAAAhB,YAAAsC,GACA9B,EAAA0F,WAAAlE,EAAAkE,aAEAjF,EAAAnD,YAAAjF,WAAAkJ,GAAAjJ,eAAA,MACA0H,EAAAE,MAAAqB,EACAvB,EAAAG,MAAAoB,EA3KAoE,CAAAtE,IAIA,MAAA5I,GAEAC,QAAAC,IAAAF,IAsWA,SAAA2I,EAAAwE,GAEA,KAAAA,EAAAC,YACAD,EAAAE,YAAAF,EAAAC,YAiDA,SAAAzO,IACAR,SAAAC,cAAA,6BACAD,SAAAC,cAAA,4BAAAQ,SA9jBAsJ,EAAA5F,iBAAA,SAAA,WACAiF,EAAAC,MAAAD,EAAAE,MACAD,EAAA7H,MAAAC,WAAA2H,EAAAC,OAAA3H,eAAA,MACAyI,OAGAd,EAAAlF,iBAAA,SAAA,SAAAC,GAEA,MAAAC,EAAAD,EAAAM,OAAAlD,MAEA,IAAA2N,EAAA1N,WAAA4C,EAAAE,QAAA,KAAA,KAEA,IAAA4K,IACAA,EAAA,GAEA/F,EAAAC,MAAA8F,EACAhF,IACA,MAAAiF,EA2eA,SAAA/K,GAEA,IAAAC,EAAA7C,WAAA4C,EAAAE,QAAA,KAAA,KACAC,MAAAF,KACAA,EAAA,IAGA,OADAA,EAAA5C,eAAA,MAjfA+C,CAAAJ,GAGAgF,EAAA7H,MAAA4N,KAKAtO,EAAA,mBAAAsF,GAAA,kBAAA,SAAAhC,GACA,GAAAA,EAAAM,OAAAlD,OAEA0I,EAAA9F,EAAAM,OAAAlD,WAxDA,GCAA,WAEA,GADAxB,SAAAC,cAAA,aACA,CACA,IAAAoP,EACA/O,EAAA,KACA,MAAAgP,EAAAtP,SAAAC,cAAA,cACAE,EAAAH,SAAAC,cAAA,gBACA+I,EAAAhJ,SAAAC,cAAA,WACAsP,EAAAvP,SAAAC,cAAA,WACAuP,EAAAxP,SAAAC,cAAA,YACAwP,EAAAzP,SAAAC,cAAA,cACAyP,EAAA1P,SAAAC,cAAA,UA+GA,SAAAU,IACAR,EAAAS,QACAR,UAAAS,UAAA,EACAC,EAAA,kBAAAC,MAAA,QACAkB,IACA3B,GAKAI,iBACA,IACA,MAAAW,QAAAC,MAAA,mBAAAhB,IASA,SAAAiB,GAEAyH,EAAAxH,MAAAD,EAAAyH,OACAuG,EAAA/N,MAAAD,EAAAgO,OACAC,EAAAhO,MAAAD,EAAAiO,QACAC,EAAAjO,MAAAD,EAAAkO,UACAC,EAAAlO,MAAAD,EAAAmO,MAXA/N,OAHAN,EAAAO,QAIA,MAAAC,GACAC,QAAAC,IAAAF,IAZA8N,GAyFA,SAAAnP,IACAR,SAAAC,cAAA,6BACAD,SAAAC,cAAA,4BAAAQ,SAIA,SAAAwB,IACAnB,EAAAoB,UAAAC,YAAA,CACAC,cAAA,YAvEA1B,iBACA,MAAA2B,EAAA,IAAAC,SACAhC,GACA+B,EAAAE,OAAA,KAAAjC,GAEA+B,EAAAE,OAAA,SAAAyG,EAAA,MAAAlB,QACAzF,EAAAE,OAAA,SAAAgN,EAAA,OACAlN,EAAAE,OAAA,UAAAiN,EAAA,OACAnN,EAAAE,OAAA,YAAAkN,EAAA,MAAA3H,QACAzF,EAAAE,OAAA,QAAAmN,EAAA,MAAA5H,QAGA1H,UAAAS,UAAA,EAGA,IAAA2B,EAAA,GAEAA,EADAlC,EACAmC,SAAAC,OAAA,sBAEAD,SAAAC,OAAA,qBAGA,IACA,MAAArB,QAAAC,MAAAkB,EAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAGApB,IACAJ,UAAAS,UAAA,EACA,SAAAU,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAGAoM,EAAAnM,KAAAC,SAEArC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAGAG,WAAA,KACA5C,KACA,KAEAL,EAAAS,QAEAE,EAAA,kBAAAC,MAAA,SAIA,MAAAc,KAaAwB,MAKAvC,EAAA,gBAAAE,SAAA,CACAsC,MAAA,CACA0F,OAAA,CACAxF,UAAA,EACAoM,UAAA,GAEAL,OAAA,CAEAM,QAAA,EACAD,UAAA,GAEAJ,QAAA,CAEAK,QAAA,EACAC,YAAA,CAAA,GAAA,KAEAJ,MAAA,CACAA,OAAA,IAIAjM,SAAA,CACAuF,OAAA,CACAxF,SAAA,2BACAoM,UAAA,oCAEAL,OAAA,CAEAM,OAAA,yBACAD,UAAA,iCAEAJ,QAAA,CAEAK,OAAA,yBACAC,YAAA,4BAGAJ,MAAA,CACAA,MAAA,0BAGAhM,aAAA,OACAC,eAAA,SAAA9B,EAAA+B,GACA/B,EAAAgC,SAAA,oBACAD,EAAAE,QAAA,eAAAvB,OAAAV,IAEAkC,UAAA,SAAAH,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAC,SAAA,eAEAK,YAAA,SAAAN,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAxC,YAAA,iBA7LAN,EAAA,UAAA6D,YAAAC,YAEAyK,EAAAvO,EAAA,UAAA+D,UAAA,CACA3B,KAAA,gBACA8C,aAAA,EACAC,UAAA,EACAC,YAAA,EACAC,YAAA,EACA4B,aAAA,WAEA,IAAAjH,EAAAkH,GAAArD,UAAAsD,QAAAoH,EAAA,CACAnH,QAAA,CAAA,OAAA,MAAA,QAAA,MAAA,WACAC,YAAAC,SAAA,qCAzFAkH,EAAAnL,iBAAA,SAAA,WACA7D,EAAA,KACAK,OAGAG,EAAA,UAAAsF,GAAA,QAAA,WAAA,SAAAhC,GACA9D,EAAA8D,EAAAiC,cAAAC,QAAAyJ,UACApP,OAEAG,EAAA,UAAAsF,GAAA,QAAA,aAAA,SAAAhC,IAMA,SAAA9D,EAAA8D,GAEA,MAAA0E,EAAA1E,EAAAiC,cAAAG,cAAAA,cAAAA,cAAAC,WAAA,GAAAC,YAEAC,KAAAC,KAAA,CACAC,KAAA,UACAC,KAAA,mFAAAgC,6DAEA/B,kBAAA,EACAC,kBAAA,WACAC,iBAAA,aAGAC,KAAAC,IACAA,EAAAC,aAKA1G,eAAAJ,GACA,MAAA+B,EAAA,IAAAC,SACAD,EAAAE,OAAA,KAAAjC,GAEAkC,IAAAC,SAAAC,OAAA,wBACA,IACA,MAAArB,QAAAC,MAAAkB,IAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAEApB,IAEA,SAAAe,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAIAnC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAGAG,WAAA,KACA5C,KACA,KAGA6O,EAAAnM,KAAAC,UAEA,MAAAtB,GACAC,QAAAC,IAAAF,IA1CAmO,CAAA1P,KAnBA2P,CADA7L,EAAAiC,cAAAC,QAAAyJ,UACA3L,MAmQAtD,EAAA,gBAAAsF,GAAA,SAAA,SAAAqB,GACAxF,QA9RA,GCAA,WAEA,GADAjC,SAAAC,cAAA,WACA,CAEA,MAAAiQ,EAAAlQ,SAAAC,cAAA,wBACAkQ,EAAAnQ,SAAAC,cAAA,0BACAmQ,EAAApQ,SAAAC,cAAA,kBACAoQ,EAAArQ,SAAAC,cAAA,iCACAqQ,EAAAtQ,SAAAC,cAAA,8BACAsQ,EAAAvQ,SAAAC,cAAA,sBACAuQ,EAAAxQ,SAAAC,cAAA,yBACAwQ,EAAAzQ,SAAAC,cAAA,yBACAyQ,EAAA1Q,SAAAC,cAAA,wBACA0Q,EAAA3Q,SAAAC,cAAA,wBACA2Q,EAAA5Q,SAAAC,cAAA,4BACA4Q,EAAA7Q,SAAAC,cAAA,4BA0BAS,iBACA,MAAA8B,EAAAC,SAAAC,OAAA,cACA,IACA,MAAArB,QAAAC,MAAAkB,IAvBA,SAAAjB,GAIA2O,EAAAxJ,YAAAnF,EAAA2O,aACAC,EAAAzJ,YAAAnF,EAAAuP,eACAV,EAAA1J,YAAAnF,EAAA6O,OACAC,EAAA3J,YAAAnF,EAAA8O,sBACAC,EAAA5J,YAAAnF,EAAA+O,mBACAC,EAAA7J,YAAAnF,EAAAgP,WACAC,EAAA9J,YAAAnF,EAAAiP,cACAC,EAAA/J,YAAAnF,EAAAkP,cACAC,EAAAhK,YAAAnF,EAAAmP,aACAC,EAAAjK,YAAAnF,EAAAoP,aACAC,EAAAlK,YAAAnF,EAAAqP,iBACAC,EAAAnK,YAAAnF,EAAAsP,gBAUAE,OADA1P,EAAAO,QAEA,MAAAC,GACAC,QAAAC,IAAAF,IA7BAmP,IAnBA,GCAA,WAEA,GADAhR,SAAAC,cAAA,iBACA,CAEAa,EAAA,UAAAsF,GAAA,QAAA,SAAA,SAAAhC,IAKA1D,eAAAJ,GACAQ,EAAA,eAAAC,MAAA,QAEA,MAAAyB,EAAA,GAAAC,SAAAC,uBAAApC,IACA,IACA,MAAAe,QAAAC,MAAAkB,IAWA,SAAAjB,GACA,MAAA0P,gBAAAA,EAAAC,MAAAA,GAAA3P,EAEA8K,EAAArM,SAAAC,cAAA,iBACAqM,EAAAtM,SAAAC,cAAA,kBACAsM,EAAAvM,SAAAC,cAAA,gBAEAuM,EAAAxM,SAAAC,cAAA,gBACAkR,EAAAnR,SAAAC,cAAA,uBACAwM,EAAAzM,SAAAC,cAAA,kBACAyM,EAAA1M,SAAAC,cAAA,gBACAmR,EAAApR,SAAAC,cAAA,iBACAoR,EAAArR,SAAAC,cAAA,iBAEAoM,EAAA3F,YAAAwK,EAAArG,OACAyB,EAAA5F,YAAAwK,EAAAvE,eACAJ,EAAA7F,YAAAwK,EAAAtE,MACAJ,EAAA9F,YAAAjF,WAAAyP,EAAApG,eAAApJ,eAAA,MACAyP,EAAAzK,YAAAjF,WAAAyP,EAAArE,OAAAnL,eAAA,MACA+K,EAAA/F,YAAAjF,WAAAyP,EAAAnG,SAAArJ,eAAA,MACAgL,EAAAhG,YAAAjF,WAAAyP,EAAApG,cAAAoG,EAAAnG,SAAArJ,eAAA,MAGA,GAAAwP,EAAAI,cACAF,EAAA1K,YAAA,SAEA,GAAAwK,EAAAI,cACAF,EAAA1K,YAAA,iBAEA,GAAAwK,EAAAI,cACAF,EAAA1K,YAAA,cAEA2K,EAAA5F,UAAA8F,SAAA,gBACAF,EAAA5F,UAAAhL,OAAA,eAEA4Q,EAAA5F,UAAA8F,SAAA,iBACAF,EAAA5F,UAAAhL,OAAA,gBAEA,GAAAyQ,EAAAM,QACAH,EAAA3K,YAAA,YACA2K,EAAA5F,UAAAC,IAAA,iBAEA2F,EAAA3K,YAAA,SACA2K,EAAA5F,UAAAC,IAAA,iBAIA,MAAAoB,EAAA9M,SAAAC,cAAA,0BA4BA,SAAA+O,GAEA,KAAAA,EAAAC,YACAD,EAAAE,YAAAF,EAAAC,aA9BAzE,CAAAsC,GAKAmE,EAAApI,QAAAkE,IACA,MAAA/D,OAAAA,EAAAgE,SAAAA,EAAAC,OAAAA,GAAAF,EACA7B,EAAAlL,SAAA2I,cAAA,MACAuE,EAAAlN,SAAA2I,cAAA,MACAuE,EAAAxG,YAAAsC,EACA,MAAAmE,EAAAnN,SAAA2I,cAAA,MACAwE,EAAAzG,YAAAsG,EACA,MAAAI,EAAApN,SAAA2I,cAAA,MACAyE,EAAA1G,YAAAjF,WAAAwL,GAAAvL,eAAA,MACA,MAAA2L,EAAArN,SAAA2I,cAAA,MACA0E,EAAA3G,YAAAjF,WAAAwL,EAAAD,GAAAtL,eAAA,MAGAwJ,EAAAtC,YAAAsE,GACAhC,EAAAtC,YAAAuE,GACAjC,EAAAtC,YAAAwE,GACAlC,EAAAtC,YAAAyE,GAEAP,EAAAlE,YAAAsC,KAhFAuG,OADApQ,EAAAO,QAEA,MAAAC,KAVA6P,CAFAtN,EAAAiC,cAAAC,QAAAqL,aALA,GCAA,WAEA,GADA3R,SAAAC,cAAA,iBACA,CAEA,IAAA2R,GAKAlR,iBAEA,UACAY,MAAAmB,SAAAC,OAAA,mBAIA,MAAAb,KAVAgQ,GAkBA/Q,EAAA,UAAA6D,YAAAC,YAEAgN,EAAA9Q,EAAA,UAAA+D,UAAA,CACA3B,KAAA,oBACA8C,aAAA,EACAC,UAAA,EACAC,YAAA,EACAC,YAAA,EACA4B,aAAA,WAEA,IAAAjH,EAAAkH,GAAArD,UAAAsD,QAAA2J,EAAA,CACA1J,QAAA,CAAA,OAAA,MAAA,QAAA,MAAA,WACAC,YAAAC,SAAA,sCApCA,GCAA,WAEA,GADApI,SAAAC,cAAA,uBACA,CAEA,IAAA6R,EACA,MAAAC,EAAA/R,SAAAC,cAAA,kBACA+R,EAAAhS,SAAAC,cAAA,gBAEAgS,EAAA,IAAAC,KAGA,IAAAC,EAAAF,EAAAG,cAAA,KAAA,KAAAH,EAAAI,WAAA,IAAAC,OAAA,GAAA,KAAA,IAAAL,EAAAM,WAAAD,OAAA,GAEAL,EAAAO,SAAAP,EAAAI,WAAA,GACA,IAAAI,EAAAR,EAAAG,cAAA,KAAA,KAAAH,EAAAI,WAAA,IAAAC,OAAA,GAAA,KAAA,IAAAL,EAAAM,WAAAD,OAAA,GAiCA,SAAAI,IAMA,GAHA,IAAAR,KAAAO,IACA,IAAAP,KAAAC,GAGAxL,KAAAC,KAAA,CACAC,KAAA,QACA7D,MAAA,QACAiH,KAAA,2DAIA,CACA,MAAA5H,EAAA,IAAAC,SACAD,EAAAE,OAAA,gBAAAkQ,GACApQ,EAAAE,OAAA,cAAA4P,GAEArR,EAAA,UAAA6D,YAAAC,YAEAkN,EAAAhR,EAAA,UAAA+D,UAAA,CACA3B,KAAA,CACAV,IAAA,GAAAC,SAAAC,+CAAA+P,iBAAAN,IACAQ,WAAA,SAAAhE,GACA,MAAAiE,EAAAC,KAAAC,MAAAnE,GACA,IAAAoE,EAAA,GAEA,MAAA1Q,EAAAuQ,EAAAjE,KA6CA,OA5CA7M,QAAAC,IAAAM,GAEAA,EAAAwG,SAAA,SAAAmK,EAAAC,GACAD,EAAA,GACAE,SAAAF,EAAA,IACA,GAAAD,EAAArI,OAAA,EAAA,CACA,IAAAyI,GAAA,EACAJ,EAAAlK,QAAA,CAAAkE,EAAAqG,KACArG,EAAA,IAAAiG,EAAA,KACAD,EAAAK,GAAA,GAAAF,SAAAH,EAAAK,GAAA,IAAAF,SAAAF,EAAA,IACAD,EAAAK,GAAA,GAAAF,SAAAH,EAAAK,GAAA,IAAAF,SAAAH,EAAAK,GAAA,IACAD,GAAA,KAIA,GAAAA,GACAJ,EAAA9H,KAAA+H,QAGAD,EAAA9H,KAAA+H,MAcAlR,QAAAC,IAAAgR,GAWAF,KAAAQ,UAAA,CAAA1E,KAAAoE,MAGA/M,aAAA,EACAC,UAAA,EACAC,YAAA,EACAC,YAAA,EACA4B,aAAA,WAEA,IAAAjH,EAAAkH,GAAArD,UAAAsD,QAAA6J,EAAA,CACA5J,QAAA,CAAA,OAAA,MAAA,QAAA,MAAA,QAAA,YACAC,YAAAC,SAAA,qCAgBAtH,EAAAoC,KAAA,CAEAV,IAAA,GAAAC,SAAAC,+CAAA+P,iBAAAN,IAEAmB,SAAA,OACAC,QAAA,SAAAC,GACA1R,QAAAC,IAAAyR,IAGA3R,MAAA,SAAAA,GACAC,QAAAC,IAAAF,EAAA4R,iBA6FA,SAAAC,EAAApT,GACAQ,EAAAoB,UAAAC,YAAA,CACAC,cAAA,YA3DA1B,iBACA,MAAA2B,EAAA,IAAAC,SAEAD,EAAAE,OAAA,KAAAoR,2BACAtR,EAAAE,OAAA,QAAAqR,YAAA,OACAvR,EAAAE,OAAA,gBAAAsR,oBAAA,OAEAC,kBAAAjT,UAAA,EAEA,MAAA2B,EAAAC,SAAAC,OAAA,6BAIA,IACA,MAAArB,QAAAC,MAAAkB,EAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAGApB,IAEAsT,kBAAAjT,UAAA,EAEA,SAAAU,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAIAnC,EAAA,UAAA+D,YAAA3B,KAAAC,SAEArC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAGAG,WAAA,KACA5C,KACA,KAEAuT,gBAAAnT,QAEAE,EAAA,gBAAAC,MAAA,SAIA,MAAAc,KAOAmS,MAKAlT,EAAA,cAAAE,SAAA,CACAsC,MAAA,CAGAsQ,YAAA,CACApQ,UAAA,GAGAqQ,oBAAA,CACArQ,UAAA,IAGAC,SAAA,CACAmQ,YAAA,CACApQ,SAAA,4BAEAqQ,oBAAA,CACArQ,SAAA,+CAIAE,aAAA,OACAC,eAAA,SAAA9B,EAAA+B,GACA/B,EAAAgC,SAAA,oBACAD,EAAAE,QAAA,eAAAvB,OAAAV,IAEAkC,UAAA,SAAAH,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAC,SAAA,eAEAK,YAAA,SAAAN,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAxC,YAAA,iBAOA,SAAAZ,IACAR,SAAAC,cAAA,6BACAD,SAAAC,cAAA,4BAAAQ,SApQAsR,EAAAvQ,MAAAiR,EACAT,EAAAxQ,MAAA2Q,EACAO,IArBA1S,SAAAmE,iBAAA,oBAAA,WAGA4N,EAAA5N,iBAAA,UAAA,WACAgO,EAAAH,EAAAxQ,MACAiR,EAAAV,EAAAvQ,MACAkR,OAEAV,EAAA7N,iBAAA,UAAA,WACAgO,EAAAH,EAAAxQ,MACAiR,EAAAV,EAAAvQ,MACAkR,UAuQA5R,EAAA,cAAAsF,GAAA,SAAA,SAAAqB,GACAiM,QArSA,GCAA,WAEA,GADA1T,SAAAC,cAAA,UACA,CAIA,IAAAgU,EAOAnT,EAAA,UAAA6D,YAAAC,YAEAqP,EAAAnT,EAAA,UAAA+D,UAAA,CACAC,SAAA,CACAC,QAAA,GACAC,WAAA,qBACAC,KAAA,gDACAC,UAAA,iCACAC,aAAA,qCACAC,YAAA,GACAC,UAAA,IACAC,WAAA,0BACAC,eAAA,cACAC,WAAA,gBACAC,OAAA,UACAC,YAAA,6BACAC,SAAA,CACAC,MAAA,UACAC,KAAA,SACAC,KAAA,YACAC,SAAA,aAGA7C,KAAA,aACA8C,aAAA,EACAC,UAAA,EACAC,YAAA,EACAC,YAAA,KAxCA,GCAA,WAGA,GAFAnG,SAAAC,cAAA,cAEA,CAEA,MAAAyP,EAAA1P,SAAAC,cAAA,UACAiU,EAAAlU,SAAAC,cAAA,aACAG,EAAAJ,SAAAC,cAAA,cAIAS,eAAA2C,IACAjD,EAAAS,UAAA,EACA,MAAAwB,EAAA,IAAAC,SACAD,EAAAE,OAAA,QAAAmN,EAAA,MAAA5H,QACAzF,EAAAE,OAAA,WAAA2R,EAAA1S,OAEA,IACA,MAAAgB,EAAA,qBACAnB,QAAAC,MAAAkB,EAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAkBA5B,SAAAC,cAAA,6BACAD,SAAAC,cAAA,4BAAAQ,SAjBA,SAAAc,EAAAsB,MACAzC,EAAAS,UAAA,EACAC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAGAkR,OAAA1R,SAAA2R,KAAA,UAEA,MAAAvS,KAUA,SAAAI,IACAnB,EAAAoB,UAAAC,YAAA,CACAC,cAAA,WAEAiB,OAKAvC,EAAA,cAAAE,SAAA,CACAsC,MAAA,CAEAoM,MAAA,CACAlM,UAAA,GAEA0Q,SAAA,CACA1Q,UAAA,IAGAC,SAAA,CAEAiM,MAAA,CACAlM,SAAA,6BAEA0Q,SAAA,CACA1Q,SAAA,+BAGAE,aAAA,OACAC,eAAA,SAAA9B,EAAA+B,GACA/B,EAAAgC,SAAA,oBACAD,EAAAE,QAAA,eAAAvB,OAAAV,IAEAkC,UAAA,SAAAH,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAC,SAAA,eAEAK,YAAA,SAAAN,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAxC,YAAA,iBA3EAa,IA+EAnB,EAAA,cAAAsF,GAAA,SAAA,SAAAqB,GACAxF,QAxFA,GCEA,WAGA,GADAjC,SAAAC,cAAA,aACA,CAGA,IAAAoU,EACA/T,EAAA,KAEA,MAAAgU,EAAAtU,SAAAC,cAAA,cACAE,EAAAH,SAAAC,cAAA,gBACAG,EAAAJ,SAAAC,cAAA,cACA+I,EAAAhJ,SAAAC,cAAA,WACAyP,EAAA1P,SAAAC,cAAA,UACAuR,EAAAxR,SAAAC,cAAA,WACAsU,EAAAvU,SAAAC,cAAA,SACAiU,EAAAlU,SAAAC,cAAA,aA0HA,SAAAU,IACAG,EAAA,gBAAAE,WAAAE,UACAf,EAAAS,QACAR,EAAAS,UAAA,EAEA2T,EAAAhD,GACAgD,EAAAD,GAEA,MAAAE,EAAAzU,SAAA2I,cAAA,UACA8L,EAAAC,aAAA,WAAA,YACAD,EAAAC,aAAA,WAAA,YACAD,EAAA/N,YAAA,iBAEA,MAAAiO,EAAA3U,SAAA2I,cAAA,UACAgM,EAAAnT,MAAA,EACAmT,EAAAjO,YAAA,WACA,MAAAkO,EAAA5U,SAAA2I,cAAA,UACAiM,EAAApT,MAAA,EACAoT,EAAAlO,YAAA,SAEA,MAAAmO,EAAA7U,SAAA2I,cAAA,UACAkM,EAAAH,aAAA,WAAA,YACAG,EAAAH,aAAA,WAAA,YACAG,EAAAnO,YAAA,iBAEA,MAAAoO,EAAA9U,SAAA2I,cAAA,UACAmM,EAAAtT,MAAA,EACAsT,EAAApO,YAAA,WACA,MAAAqO,EAAA/U,SAAA2I,cAAA,UACAoM,EAAAvT,MAAA,EACAuT,EAAArO,YAAA,gBAEA8K,EAAA5I,YAAA6L,GACAjD,EAAA5I,YAAA+L,GACAnD,EAAA5I,YAAAgM,GACAL,EAAA3L,YAAAiM,GACAN,EAAA3L,YAAAkM,GACAP,EAAA3L,YAAAmM,GAEAjU,EAAA,kBAAAC,MAAA,QACAkB,IACA3B,GAKAI,iBACA,IACA,MAAAW,QAAAC,MAAA,mBAAAhB,IAQA,SAAAiB,GAGAyH,EAAAxH,MAAAD,EAAAyH,OACA0G,EAAAlO,MAAAD,EAAAmO,MAEA8B,EAAAvR,cAAA,iBAAAsB,EAAAiQ,OAAA,MACAkD,aAAA,WAAA,YACAH,EAAAtU,cAAA,iBAAAsB,EAAAgT,KAAA,MACAG,aAAA,WAAA,YAfA/S,OADAN,EAAAO,QAEA,MAAAC,GACAC,QAAAC,IAAAF,IAVAmT,GA4FA,SAAAxU,IACAR,SAAAC,cAAA,6BACAD,SAAAC,cAAA,4BAAAQ,SAGA,SAAA+T,EAAAxF,GAEA,KAAAA,EAAAC,YACAD,EAAAE,YAAAF,EAAAC,YAIA,SAAAhN,IACAnB,EAAAoB,UAAAC,YAAA,CACAC,cAAA,YA9EA1B,iBAEA,MAAA2B,EAAA,IAAAC,SACAhC,GACA+B,EAAAE,OAAA,KAAAjC,GAEA+B,EAAAE,OAAA,SAAAyG,EAAA,MAAAlB,QACAzF,EAAAE,OAAA,QAAAmN,EAAAlO,OACAa,EAAAE,OAAA,SAAAiP,EAAAhQ,OACAa,EAAAE,OAAA,OAAAgS,EAAA/S,OACAa,EAAAE,OAAA,WAAA2R,EAAA1S,OAEApB,EAAAS,UAAA,EACA,IAAA2B,EAAA,GAEAA,EADAlC,EACAmC,SAAAC,OAAA,sBAEAD,SAAAC,OAAA,qBAIA,IACA,MAAArB,QAAAC,MAAAkB,EAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAEAE,QAAAC,IAAAR,GACAnB,EAAAS,UAAA,EACAL,IACAJ,EAAAS,UAAA,EACA,SAAAU,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAIAnC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,aACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAGAG,WAAA,KACA5C,KACA,KAEAL,EAAAS,QAEAE,EAAA,kBAAAC,MAAA,QACAsT,EAAAnR,KAAAC,UAGA,MAAAtB,KAsBAwB,MAMA,IAAA4R,EAAA,GACAC,EAAA,GAEA5U,IAEA2U,EAAA,CACAzR,UAAA,EACAoM,UAAA,GAEAsF,EAAA,CACA1R,SAAA,6BACAoM,UAAA,iDAKA9O,EAAA,gBAAAE,SAAA,CACAsC,MAAA,CACA0F,OAAA,CACAxF,UAAA,GAEAkM,MAAA,CACAlM,UAAA,GAEAgO,OAAA,CACAhO,UAAA,GAEA+Q,KAAA,CACA/Q,UAAA,GAEA0Q,SAAAe,EACAE,MAAA,CACA3R,UAAA,IAGAC,SAAA,CACAuF,OAAA,CACAxF,SAAA,4BAEAkM,MAAA,CACAlM,SAAA,6BAEAgO,OAAA,CACAhO,SAAA,4BAEA+Q,KAAA,CACA/Q,SAAA,0BAEA0Q,SAAAgB,GAEAxR,aAAA,OACAC,eAAA,SAAA9B,EAAA+B,GACA/B,EAAAgC,SAAA,oBACAD,EAAAE,QAAA,eAAAvB,OAAAV,IAEAkC,UAAA,SAAAH,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAC,SAAA,eAEAK,YAAA,SAAAN,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAxC,YAAA,iBA7UAkT,EAAAnQ,iBAAA,SAAA,WACA7D,EAAA,KACAK,OAGAqI,EAAA7E,iBAAA,SAAA,SAAAC,GACA4E,EAAAxH,MAAA4C,EAAAM,OAAA,MAAA2D,iBAsBA,WACAvH,EAAAkH,GAAAnD,UAAAuQ,YAAA,WACAtU,EAAA,UAAA+D,YAAA3D,UAGAmT,EAAAvT,EAAA,UAAA+D,UAAA,CACAW,YAAA,EACA6P,YAAA,EACAnS,KAAA,CACAV,IAAA,gBACAK,KAAA,OAEAsD,YAAA,IA9BAmP,GAoCAxU,EAAA,UAAAsF,GAAA,QAAA,WAAA,SAAAhC,GACA9D,EAAA8D,EAAAiC,cAAAC,QAAAiP,UACA5U,OAEAG,EAAA,UAAAsF,GAAA,QAAA,aAAA,SAAAhC,IAOA,SAAA9D,EAAA8D,GACA,MAAA4E,EAAA5E,EAAAiC,cAAAG,cAAAA,cAAAA,cAAAC,WAAA,GAAAC,YACAC,KAAAC,KAAA,CACAC,KAAA,UACAC,KAAA,mFAAAkC,6DAEAjC,kBAAA,EACAC,kBAAA,WACAC,iBAAA,aAGAC,KAAAC,IACAA,EAAAC,aAMA1G,eAAAJ,GACA,MAAA+B,EAAA,IAAAC,SACAD,EAAAE,OAAA,KAAAjC,GACAkC,IAAAC,SAAAC,OAAA,wBACA,IACA,MAAArB,QAAAC,MAAAkB,IAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAIApB,IAEA,SAAAe,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAIAnC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAGAG,WAAA,KACA5C,KACA,KAGA6T,EAAAnR,KAAAC,UAEA,MAAAtB,GACAC,QAAAC,IAAAF,IA5CA2T,CAAAlV,KAlBAmV,CADArR,EAAAiC,cAAAC,QAAAiP,UACAnR,MA6RAtD,EAAA,gBAAAsF,GAAA,SAAA,SAAAqB,GACAxF,QAtWA,GCFA,WAEA,GADAjC,SAAAC,cAAA,gBACA,CACA,IAAAyV,EACApV,EAAA,KACA,MAAAqV,EAAA3V,SAAAC,cAAA,cACAE,EAAAH,SAAAC,cAAA,kBACA+I,EAAAhJ,SAAAC,cAAA,WAEAuP,GADAxP,SAAAC,cAAA,WACAD,SAAAC,cAAA,aACAwP,EAAAzP,SAAAC,cAAA,cACAD,SAAAC,cAAA,UAwHA,SAAAU,IACAR,EAAAS,QACAR,UAAAS,UAAA,EACAC,EAAA,oBAAAC,MAAA,QAEAkB,IACA3B,GAKAI,iBACA,IACA,MAAAW,QAAAC,MAAA,qBAAAhB,IASA,SAAAiB,GAEAyH,EAAAxH,MAAAD,EAAAyH,OACAwG,EAAAhO,MAAAD,EAAAiO,QACAC,EAAAjO,MAAAD,EAAAkO,UATA9N,OAHAN,EAAAO,QAIA,MAAAC,GACAC,QAAAC,IAAAF,IAZA8N,GAwGA,SAAAnP,IACAR,SAAAC,cAAA,6BACAD,SAAAC,cAAA,4BAAAQ,SAIA,SAAAwB,IAEAnB,EAAAoB,UAAAC,YAAA,CACAC,cAAA,YAxFA1B,iBACA,MAAA2B,EAAA,IAAAC,SACAhC,GACA+B,EAAAE,OAAA,KAAAjC,GAEA+B,EAAAE,OAAA,SAAAyG,EAAA,MAAAlB,QACAzF,EAAAE,OAAA,UAAAiN,EAAA,OACAnN,EAAAE,OAAA,YAAAkN,EAAA,MAAA3H,QAKA1H,UAAAS,UAAA,EAGA,IAAA2B,EAAA,GAEAA,EADAlC,EACAmC,SAAAC,OAAA,wBAEAD,SAAAC,OAAA,uBAGA,IACA,MAAArB,QAAAC,MAAAkB,EAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAGApB,IACAJ,UAAAS,UAAA,EACA,SAAAU,EAAAsB,MAEA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,MAGAG,WAAA,KACA5C,KACA,KAEAkV,EAAAxS,KAAAC,SAEArC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAGAG,WAAA,KACA5C,KACA,KAEAL,EAAAS,QAEAE,EAAA,oBAAAC,MAAA,SAIA,MAAAc,GACAC,QAAAC,IAAA,UAwBAsB,MAKAvC,EAAA,kBAAAE,SAAA,CACAsC,MAAA,CACA0F,OAAA,CACAxF,UAAA,EACAoM,UAAA,GAEAJ,QAAA,CAEAK,QAAA,EACAC,YAAA,CAAA,GAAA,MAKArM,SAAA,CACAuF,OAAA,CACAxF,SAAA,2BACAoM,UAAA,oCAEAJ,QAAA,CAEAK,OAAA,yBACAC,YAAA,+CAIApM,aAAA,OACAC,eAAA,SAAA9B,EAAA+B,GACA/B,EAAAgC,SAAA,oBACAD,EAAAE,QAAA,eAAAvB,OAAAV,IAEAkC,UAAA,SAAAH,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAC,SAAA,eAEAK,YAAA,SAAAN,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAxC,YAAA,iBA7LAsU,EAAA5U,EAAA,UAAA+D,UAAA,CACA3B,KAAA,mBACA8C,aAAA,EACAC,UAAA,EACAC,YAAA,EACAC,YAAA,EACA4B,aAAA,WAEA,IAAAjH,EAAAkH,GAAArD,UAAAsD,QAAAyN,EAAA,CACAxN,QAAA,CAAA,OAAA,MAAA,QAAA,MAAA,WACAC,YAAAC,SAAA,qCAnGAY,EAAA7E,iBAAA,SAAA,SAAAC,GACA4E,EAAAxH,MAAA4C,EAAAM,OAAA,MAAA2D,iBAIAsN,EAAAxR,iBAAA,SAAA,WACA7D,EAAA,KACAK,OAGAG,EAAA,UAAAsF,GAAA,QAAA,WAAA,SAAAhC,GACA9D,EAAA8D,EAAAiC,cAAAC,QAAAsP,YACAjV,OAEAG,EAAA,UAAAsF,GAAA,QAAA,aAAA,SAAAhC,IAQA,SAAA9D,EAAA8D,GAEA,MAAAyR,EAAAzR,EAAAiC,cAAAG,cAAAA,cAAAA,cAAAC,WAAA,GAAAC,YAEAC,KAAAC,KAAA,CACAC,KAAA,UACAC,KAAA,qFAAA+O,6DAEA9O,kBAAA,EACAC,kBAAA,WACAC,iBAAA,aAGAC,KAAAC,IACAA,EAAAC,aAKA1G,eAAAJ,GACA,MAAA+B,EAAA,IAAAC,SACAD,EAAAE,OAAA,KAAAjC,GAEAkC,IAAAC,SAAAC,OAAA,0BACA,IACA,MAAArB,QAAAC,MAAAkB,IAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAEApB,IAEA,SAAAe,EAAAsB,MACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,MAEAG,WAAA,KACA5C,KACA,OAGAM,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAGAG,WAAA,KACA5C,KACA,KAGAkV,EAAAxS,KAAAC,UAEA,MAAAtB,GACAC,QAAAC,IAAAF,IA7CAiU,CAAAxV,KArBAyV,CADA3R,EAAAiC,cAAAC,QAAAsP,YACAxR,MA0QAtD,EAAA,kBAAAsF,GAAA,SAAA,SAAAqB,GACAxF,QAzSA,GCAA,WAEA,GADAjC,SAAAC,cAAA,YACA,CAEA,MAAA+V,EAAAhW,SAAAC,cAAA,cACAE,EAAAH,SAAAC,cAAA,eACAG,EAAAJ,SAAAC,cAAA,cAEA,IAAAgW,EAEA3V,EACA,MAAA4V,EAAAlW,SAAAC,cAAA,WACAkW,EAAAnW,SAAAC,cAAA,gBAqNA,SAAAO,IACAR,SAAAC,cAAA,6BACAD,SAAAC,cAAA,4BAAAQ,SAIAC,eAAAC,IAEAR,EAAAS,QACAR,EAAAS,UAAA,EACAC,EAAA,iBAAAC,MAAA,QACAD,EAAA,eAAAE,WAAAC,YAEAH,EAAA,eAAAE,WAAAE,UAEAJ,EAAA,eAAAK,KAAA,eAAAC,YAAA,cACAd,GAaAI,iBAGA,IACA,MAAAW,QAAAC,MAAA,kBAAAhB,IAWA,SAAAiB,GAGA2U,EAAA1U,MAAAC,WAAAF,EAAA2U,QAAAxU,eAAA,MACAyU,EAAA3U,MAAAD,EAAA4U,YAXAxU,OAHAN,EAAAO,QAKA,MAAAC,GACAC,QAAAC,IAAAF,IAtBAuU,GAMAnU,IA2BA,SAAAA,IAEAnB,EAAAoB,UAAAC,YAAA,CACAC,cAAA,YA3HA1B,iBAEA,MAAA2B,EAAA,IAAAC,SACAhC,GACA+B,EAAAE,OAAA,KAAAjC,GAIA+B,EAAAE,OAAA,SAAA2T,EAAA1U,OACAa,EAAAE,OAAA,cAAA4T,EAAA,MAAArO,QAGA1H,EAAAS,UAAA,EAEA,IAAA2B,EAAA,GAEAA,EADAlC,EACAmC,SAAAC,OAAA,qBAEAD,SAAAC,OAAA,oBAMA,IACA,MAAArB,QAAAC,MAAAkB,EAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAIApB,IAEAJ,EAAAS,UAAA,EACA,SAAAU,EAAAsB,MACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,MAEAnC,EAAA,iBAAAC,MAAA,UAEAkV,EAAA/S,KAAAC,SAEArC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAKA9C,EAAAS,QAEAE,EAAA,iBAAAC,MAAA,SAGAqC,WAAA,KACA5C,KACA,KAEA,MAAAqB,KA2DAwB,MAOAvC,EAAA,eAAAE,SAAA,CACAsC,MAAA,CACA+S,QAAA,CACA7S,UAAA,GAGA2S,YAAA,CACA3S,UAAA,IAGAC,SAAA,CACA4S,QAAA,CACA7S,SAAA,+CAEA2S,YAAA,CACA3S,SAAA,yCAKAE,aAAA,OACAC,eAAA,SAAA9B,EAAA+B,GACA/B,EAAAgC,SAAA,oBACAD,EAAAE,QAAA,eAAAvB,OAAAV,IAEAkC,UAAA,SAAAH,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAC,SAAA,eAEAK,YAAA,SAAAN,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAxC,YAAA,iBAyBA,SAAAZ,IACAR,SAAAC,cAAA,6BACAD,SAAAC,cAAA,4BAAAQ,SAzUAyV,EAAA/R,iBAAA,SAAA,SAAAC,GACA8R,EAAA1U,MA6TA,SAAA6C,GAEA,IAAAC,EAAA7C,WAAA4C,EAAAE,QAAA,KAAA,KACAC,MAAAF,KACAA,EAAA,IAGA,OADAA,EAAA5C,eAAA,MAnUA+C,CAAAL,EAAAM,OAAAlD,UAgGAV,EAAA,UAAA6D,YAAAC,YAEAqR,EAAAnV,EAAA,UAAA+D,UAAA,CACAC,SAAA,CACAC,QAAA,GACAC,WAAA,qBACAC,KAAA,gDACAC,UAAA,iCACAC,aAAA,qCACAC,YAAA,GACAC,UAAA,IACAC,WAAA,0BACAC,eAAA,cACAC,WAAA,gBACAC,OAAA,UACAC,YAAA,6BACAC,SAAA,CACAC,MAAA,UACAC,KAAA,SACAC,KAAA,YACAC,SAAA,aAGA7C,KAAA,eACA8C,aAAA,EACAC,UAAA,EACAC,YAAA,EACAC,YAAA,IAGArF,EAAAoC,KAAA,CACAV,IAAA,eACA8Q,SAAA,OACAC,QAAA,SAAAC,GACA1R,QAAAC,IAAAyR,IAEA3R,MAAA,SAAAA,GACAC,QAAAC,IAAAF,EAAA4R,gBA/HAuC,EAAA7R,iBAAA,SAAA,WACA7D,EAAA,KAEAK,OAGAG,EAAA,UAAAsF,GAAA,QAAA,WAAA,SAAAhC,GAEA9D,EAAA8D,EAAAiC,cAAAC,QAAAgQ,SAGA3V,OAIAG,EAAA,UAAAsF,GAAA,QAAA,aAAA,SAAAhC,IAMA,SAAA9D,EAAA8D,GAEA,MAAA8R,EAAA9R,EAAAiC,cAAAG,cAAAA,cAAAA,cAAAC,WAAA,GAAAC,YAGAC,KAAAC,KAAA,CACAC,KAAA,UACAC,KAAA,kGAAAoP,6DAEAnP,kBAAA,EACAC,kBAAA,WACAC,iBAAA,aAGAC,KAAAC,IACAA,EAAAC,aAOA1G,eAAAJ,GACA,MAAA+B,EAAA,IAAAC,SACAD,EAAAE,OAAA,KAAAjC,GAGAkC,IAAAC,SAAAC,OAAA,uBACA,IACA,MAAArB,QAAAC,MAAAkB,IAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAEApB,IAEA,SAAAe,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAIAnC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAMAgT,EAAA/S,KAAAC,UAEAC,WAAA,KACA5C,KACA,KACA,MAAAqB,KA7CA0U,CAAAjW,KApBAkW,CADApS,EAAAiC,cAAAC,QAAAgQ,SACAlS,MA0RAtD,EAAA,eAAAsF,GAAA,SAAA,SAAAqB,GACAxF,QAjUA,GCAA,WAEA,GADAjC,SAAAC,cAAA,aACA,CAEA,MAAAwW,EAAAzW,SAAAC,cAAA,cACAE,EAAAH,SAAAC,cAAA,gBACAG,EAAAJ,SAAAC,cAAA,cAEA,IAAAyW,EAEApW,EACA,MAAA+V,EAAArW,SAAAC,cAAA,YACAkW,EAAAnW,SAAAC,cAAA,gBA6PA,SAAAO,IACAR,SAAAC,cAAA,6BACAD,SAAAC,cAAA,4BAAAQ,SAIAC,eAAAC,IAEAR,EAAAS,QACAR,EAAAS,UAAA,EACAC,EAAA,kBAAAC,MAAA,QACAD,EAAA,gBAAAE,WAAAC,YAEAH,EAAA,gBAAAE,WAAAE,UAEAJ,EAAA,gBAAAK,KAAA,eAAAC,YAAA,cACAd,GAaAI,iBAGA,IACA,MAAAW,QAAAC,MAAA,mBAAAhB,IAWA,SAAAiB,GAGA8U,EAAA7U,MAAAC,WAAAF,EAAA8U,SAAA3U,eAAA,MACAyU,EAAA3U,MAAAD,EAAA4U,YAXAxU,OAHAN,EAAAO,QAKA,MAAAC,GACAC,QAAAC,IAAAF,IAtBA8U,GAMA1U,IA2BA,SAAAA,IAEAnB,EAAAoB,UAAAC,YAAA,CACAC,cAAA,YA3HA1B,iBAEA,MAAA2B,EAAA,IAAAC,SACAhC,GACA+B,EAAAE,OAAA,KAAAjC,GAIA+B,EAAAE,OAAA,UAAA8T,EAAA7U,OACAa,EAAAE,OAAA,cAAA4T,EAAA3U,OAGApB,EAAAS,UAAA,EAEA,IAAA2B,EAAA,GAEAA,EADAlC,EACAmC,SAAAC,OAAA,sBAEAD,SAAAC,OAAA,qBAMA,IACA,MAAArB,QAAAC,MAAAkB,EAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAIApB,IAEAJ,EAAAS,UAAA,EACA,SAAAU,EAAAsB,MACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,MAEAnC,EAAA,kBAAAC,MAAA,UAEA2V,EAAAxT,KAAAC,SAEArC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAKA9C,EAAAS,QAEAE,EAAA,kBAAAC,MAAA,SAGAqC,WAAA,KACA5C,KACA,KAEA,MAAAqB,KA2DAwB,MAOAvC,EAAA,gBAAAE,SAAA,CACAsC,MAAA,CACA+S,QAAA,CACA7S,UAAA,GAGA2S,YAAA,CACA3S,UAAA,IAGAC,SAAA,CACA4S,QAAA,CACA7S,SAAA,kDAEA2S,YAAA,CACA3S,SAAA,yCAKAE,aAAA,OACAC,eAAA,SAAA9B,EAAA+B,GACA/B,EAAAgC,SAAA,oBACAD,EAAAE,QAAA,eAAAvB,OAAAV,IAEAkC,UAAA,SAAAH,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAC,SAAA,eAEAK,YAAA,SAAAN,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAxC,YAAA,iBAyBA,SAAAZ,IACAR,SAAAC,cAAA,6BACAD,SAAAC,cAAA,4BAAAQ,SAjXA4V,EAAAlS,iBAAA,SAAA,SAAAC,GACAiS,EAAA7U,MAqWA,SAAA6C,GAEA,IAAAC,EAAA7C,WAAA4C,EAAAE,QAAA,KAAA,KACAC,MAAAF,KACAA,EAAA,IAGA,OADAA,EAAA5C,eAAA,MA3WA+C,CAAAL,EAAAM,OAAAlD,UAwIAV,EAAA,UAAA6D,YAAAC,YAEA8R,EAAA5V,EAAA,UAAA+D,UAAA,CACAC,SAAA,CACAC,QAAA,GACAC,WAAA,qBACAC,KAAA,gDACAC,UAAA,iCACAC,aAAA,qCACAC,YAAA,GACAC,UAAA,IACAC,WAAA,0BACAC,eAAA,cACAC,WAAA,gBACAC,OAAA,UACAC,YAAA,6BACAC,SAAA,CACAC,MAAA,UACAC,KAAA,SACAC,KAAA,YACAC,SAAA,aAGA7C,KAAA,gBACA8C,aAAA,EACAC,UAAA,EACAC,YAAA,EACAC,YAAA,IAGArF,EAAAoC,KAAA,CACAV,IAAA,gBACA8Q,SAAA,OACAC,QAAA,SAAAC,KAGA3R,MAAA,SAAAA,OAtKA4U,EAAAtS,iBAAA,SAAA,WACA7D,EAAA,KAEAK,OAGAG,EAAA,UAAAsF,GAAA,QAAA,WAAA,SAAAhC,GAEA9D,EAAA8D,EAAAiC,cAAAC,QAAAsQ,UAGAjW,OAIAG,EAAA,UAAAsF,GAAA,QAAA,aAAA,SAAAhC,IAMA,SAAA9D,EAAA8D,GAEA,MAAAiS,EAAAjS,EAAAiC,cAAAG,cAAAA,cAAAA,cAAAC,WAAA,GAAAC,YAGAC,KAAAC,KAAA,CACAC,KAAA,UACAC,KAAA,mGAAAuP,6DAEAtP,kBAAA,EACAC,kBAAA,WACAC,iBAAA,aAGAC,KAAAC,IACAA,EAAAC,aA+CA1G,eAAAJ,GACA,MAAA+B,EAAA,IAAAC,SACAD,EAAAE,OAAA,KAAAjC,GAGAkC,IAAAC,SAAAC,OAAA,wBACA,IACA,MAAArB,QAAAC,MAAAkB,IAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAEApB,IAEA,SAAAe,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAIAnC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAMAyT,EAAAxT,KAAAC,UAEAC,WAAA,KACA5C,KACA,KACA,MAAAqB,KArFAgV,CAAAvW,KApBAwW,CADA1S,EAAAiC,cAAAC,QAAAsQ,UACAxS,MAkUAtD,EAAA,gBAAAsF,GAAA,SAAA,SAAAqB,GACAxF,QAzWA,GCAA,WAGA,GADAjC,SAAAC,cAAA,yBACA,CAEA,IAAA0R,EAsBAoF,EAIAC,EAzBAjH,EAAA,KACAkH,EAAA,CACA3W,GAAA,GACA0I,OAAA,GACAgE,SAAA,GACAkK,cAAA,GACAC,aAAA,GAEAC,gBAAA,GACAC,YAAA,GACAC,MAAA,IAEAC,EAAA,CACAC,oBAAA,GACAC,YAAA,GACAC,UAAA,GACAC,MAAA,GACAC,YAAA,IAKAC,GAAA,EACAC,EAAA,GAQA,MAAArP,EAAAzI,SAAAC,cAAA,mBACA8X,EAAA/X,SAAAC,cAAA,kBAGA+X,EAAAhY,SAAAC,cAAA,UAEAgY,EAAAjY,SAAAC,cAAA,cACAiY,EAAAlY,SAAAC,cAAA,gBACAkY,EAAAnY,SAAAC,cAAA,gBACAmY,EAAApY,SAAAC,cAAA,iBACAoY,EAAArY,SAAAC,cAAA,gBAGAqY,EAAAtY,SAAAC,cAAA,mBACAsY,EAAAvY,SAAAC,cAAA,oBAGAuY,EAAAxY,SAAAC,cAAA,UACAsJ,EAAAvJ,SAAAC,cAAA,UAGAwY,EAAAzY,SAAAC,cAAA,mBACAyY,EAAA1Y,SAAAC,cAAA,mBACA0Y,EAAA3Y,SAAAC,cAAA,oBACA2Y,EAAA5Y,SAAAC,cAAA,sBACA4Y,EAAA7Y,SAAAC,cAAA,kBAGA6Y,EAAA9Y,SAAAC,cAAA,oBACA8Y,EAAA/Y,SAAAC,cAAA,mBACA+Y,EAAAhZ,SAAAC,cAAA,sBAGAoM,EAAArM,SAAAC,cAAA,iBAEAgZ,EAAAjZ,SAAAC,cAAA,oBACAiZ,EAAAlZ,SAAAC,cAAA,oBAuLAS,eAAAyY,IAEA,IACA,MAAA9X,QAAAC,MAAAmB,SAAAC,OAAA,qBACA0W,QAAA/X,EAAAO,OAEAyK,EAAA7K,MAAA4X,EAEA,MAAAvX,KA2SAnB,eAAAwJ,EAAA5J,GAGA,IACA,MAAAe,QAAAC,MAAA,GAAAmB,SAAAC,yBAAApC,KACAiB,QAAAF,EAAAO,OAIApB,IAEA,SAAAe,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAMAG,WAAA,KACA5C,KACA,KAaAsI,EAVAvH,EAYAkX,EAAAjX,MAAAsH,EAAAE,QAAA,GACA0P,EAAAlX,MAAAsH,EAAAyG,QAAA,GACAoJ,EAAAnX,MAAAsH,EAAA0G,SAAA,GACAoJ,EAAApX,MAAAsH,EAAA2G,WAAA,GACAoJ,EAAArX,MAAAsH,EAAA4G,OAAA,IAbA,MAAA7N,IAOA,IAAAiH,EAUA,SAAAuQ,IACAvY,EAAA,mBACAwY,IAAA,KAAAC,QAAA,kBACAd,EAAAjX,MAAA,GACAkX,EAAAlX,MAAA,GACAmX,EAAAnX,MAAA,GACAoX,EAAApX,MAAA,GACAqX,EAAArX,MAAA,GA6BA,SAAAgY,IACA,MAAAC,EAAAzZ,SAAAC,cAAA,mBACAuK,EAAAiP,GACA3B,EAAAjP,QAAAkE,IACA,MAAAzM,GAAAA,EAAA0I,OAAAA,EAAAmO,aAAAA,EAAAnK,SAAAA,EAAAqK,YAAAA,EAAAC,MAAAA,GAAAvK,EAGA2M,EAAA1Z,SAAA2I,cAAA,OACA+Q,EAAAjO,UAAAC,IAAA,MAAA,QACAgO,EAAApT,QAAAqT,WAAArZ,EAIA,MAAAsZ,EAAA5Z,SAAA2I,cAAA,OACAiR,EAAAnO,UAAAC,IAAA,YAEA,MAAAmO,EAAA7Z,SAAA2I,cAAA,OACAkR,EAAApO,UAAAC,IAAA,cAAA,QAEA,MAAAoO,EAAA9Z,SAAA2I,cAAA,OACAmR,EAAArO,UAAAC,IAAA,uBAGAoO,EAAA/N,UAAA,2GACA+N,EAAA5N,QAAA,KAkXA,IAAA6N,EAAAA,EAhXAzZ,EAkXAwX,EAAAA,EAAAkC,OAAAjN,GACAA,EAAAzM,IAAAyZ,GAGAP,KAnXA,MAAAS,EAAAja,SAAA2I,cAAA,SACAsR,EAAApX,KAAA,OACAoX,EAAAxO,UAAAC,IAAA,gBACAuO,EAAAC,UAAA,EACAD,EAAAzY,MAAAwH,EACAiR,EAAA3T,QAAAqT,WAAArZ,EAGA,MAAA6Z,EAAAna,SAAA2I,cAAA,OACAwR,EAAA1O,UAAAC,IAAA,YAEA,MAAA0O,EAAApa,SAAA2I,cAAA,OACAyR,EAAA3O,UAAAC,IAAA,cAAA,QAEA,MAAA2O,EAAAra,SAAA2I,cAAA,OACA0R,EAAA5O,UAAAC,IAAA,uBAGA2O,EAAAtO,UAAA,+FAGA,MAAAuO,EAAAta,SAAA2I,cAAA,SACA2R,EAAAzX,KAAA,OACAyX,EAAA7O,UAAAC,IAAA,gBACA4O,EAAAJ,UAAA,EACAI,EAAA9Y,MAAA8V,EACAgD,EAAAhU,QAAAqT,WAAArZ,EAGAuZ,EAAAjR,YAAAkR,GACAD,EAAAjR,YAAAqR,GACAL,EAAAhR,YAAAiR,GACAO,EAAAxR,YAAAyR,GACAD,EAAAxR,YAAA0R,GAGAH,EAAAvR,YAAAwR,GAIA,MAAAG,EAAAva,SAAA2I,cAAA,OACA4R,EAAA9O,UAAAC,IAAA,YAEA,MAAA8O,EAAAxa,SAAA2I,cAAA,OACA6R,EAAA/O,UAAAC,IAAA,cAAA,QAEA,MAAA+O,EAAAza,SAAA2I,cAAA,OACA8R,EAAAhP,UAAAC,IAAA,uBAEA+O,EAAAnU,QAAAqT,WAAArZ,EACAma,EAAA1O,UAAA,+FAIA,MAAA2O,EAAA1a,SAAA2I,cAAA,SACA+R,EAAA7X,KAAA,SACA6X,EAAAjP,UAAAC,IAAA,gBAGAgP,EAAAlZ,MAAAwL,EAGA+J,GAAAzW,GAAA,GAAAuX,GAMAzU,YAAA,WACAsX,EAAAC,UACA,GAIAD,EAAAE,QAAA,WAEAnZ,WAAAiZ,EAAAlZ,OAAAC,WAAA6V,IACA3Q,KAAAC,KAAA,CACAC,KAAA,UACAoD,KAAA,6BAGA4Q,EAAAvD,EAAAhX,GAAA,IAEAua,EAAAH,EAAAlZ,MAAAlB,GAAA,IAMAka,EAAA5R,YAAA6R,GACAD,EAAA5R,YAAA8R,GACAH,EAAA3R,YAAA4R,GA0CA,MAAAM,EAAA9a,SAAA2I,cAAA,OACAmS,EAAArP,UAAAC,IAAA,YAEA,MAAAqP,EAAA/a,SAAA2I,cAAA,OACAoS,EAAAtP,UAAAC,IAAA,cAAA,QAEA,MAAAsP,EAAAhb,SAAA2I,cAAA,OACAqS,EAAAvP,UAAAC,IAAA,uBAGAsP,EAAAjP,UAAA,mGAEA,MAAAkP,EAAAjb,SAAA2I,cAAA,SACAsS,EAAApY,KAAA,OACAoY,EAAAxP,UAAAC,IAAA,gBACAuP,EAAAzZ,MAAAC,WAAA0V,GAAAzV,eAAA,MAGAqV,GAAAzW,GAAA,GAAAuX,GAMAzU,YAAA,WACA6X,EAAAN,UACA,GAKAM,EAAAL,QAAA,KACA9Y,QAAAC,IAAAkZ,EAAAzZ,OACA,MAAA0Z,EAAAzW,EAAAwW,EAAAzZ,OACAyZ,EAAAzZ,MAAA0Z,EAGAL,EAAAI,EAAAzZ,MAAAlB,GAAA,IAEA2a,EAAAN,QAEAI,EAAAnS,YAAAoS,GACAD,EAAAnS,YAAAqS,GACAH,EAAAlS,YAAAmS,GAGA,MAAAI,EAAAnb,SAAA2I,cAAA,OACAwS,EAAA1P,UAAAC,IAAA,YAEA,MAAA0P,EAAApb,SAAA2I,cAAA,OACAyS,EAAA3P,UAAAC,IAAA,cAAA,QAEA,MAAA2P,EAAArb,SAAA2I,cAAA,OACA0S,EAAA5P,UAAAC,IAAA,uBAEA2P,EAAA/U,QAAAqT,WAAArZ,EACA+a,EAAAtP,UAAA,mGAEA,MAAAuP,EAAAtb,SAAA2I,cAAA,SACA2S,EAAAzY,KAAA,OACAyY,EAAApB,UAAA,EACAoB,EAAA7P,UAAAC,IAAA,gBACA4P,EAAA9Z,MAAAC,WAAA4V,GAAA3V,eAAA,MAGA0Z,EAAAxS,YAAAyS,GACAD,EAAAxS,YAAA0S,GACAH,EAAAvS,YAAAwS,GAIA1B,EAAA9Q,YAAAgR,GACAF,EAAA9Q,YAAAuR,GACAT,EAAA9Q,YAAA2R,GAEAb,EAAA9Q,YAAAkS,GACApB,EAAA9Q,YAAAuS,GAGA1B,EAAA7Q,YAAA8Q,GAGA6B,MAiBA,WAGA,IAAA1O,EAAA,EACA4K,EAAA,EACA+D,EAAA,EAEA1D,EAAAjP,QAAAkE,IAEAF,GAAAE,EAAAC,SAAAD,EAAAqK,gBACAK,GAAA1K,EAAAC,SAAAD,EAAAoK,aACAqE,GAAAzO,EAAAC,SAAAD,EAAAmK,gBAKA,MAAAQ,EAAA,IAAA,IAAAD,EAAA5K,EACAoL,EAAAzW,MAAAgD,MAAAiX,OAAA/D,EAAAgE,QAAA,KAAA,KAAAD,OAAA/D,EAAAgE,QAAA,IAAA,IAEA1D,EAAAxW,MAAAqL,EAAAnL,eAAA,MAEAwW,EAAA1W,MAAAiW,EAAA/V,eAAA,MAMA6V,EAAAC,oBAAA3K,EACA0K,EAAAE,YAAAA,EACAF,EAAAG,UAAAlT,MAAAiX,OAAA/D,EAAAgE,QAAA,KAAA,EAAAD,OAAA/D,EAAAgE,QAAA,IACAnE,EAAAI,MAAA6D,EAzCAG,GAIA,SAAAJ,IAEAjD,EAAA9W,MAAA,GACA+W,EAAA/W,MAAA,GACAgX,EAAAhX,MAAA,GACA+H,EAAA/H,MAAA+V,EAAAE,YAAA/V,eAAA,MAoEA,SAAAmZ,EAAAe,EAAAtb,EAAAub,GAEA,GADA9E,EAAAzW,EACAub,EACAhE,GAAA,EACAC,EAAAA,EAAAgE,IAAA/O,GACAA,EAAAzM,IAAAA,GAEAsb,EAAA,IAEAA,EAAA,GAEA,IACA7O,EACAC,SAAA4O,EACAvE,YAAAuE,EAAA7O,EAAAoK,eAKApK,OAGA,CAEA8K,GAAA,EACA,IAAAqD,EAAAzZ,WAAAma,EAAArX,QAAA,KAAA,KACAuT,EAAAA,EAAAgE,IAAA/O,GACAA,EAAAzM,IAAAA,GACA,IAAAsb,IAEAA,EAAA,GAGApX,MAAA0W,EAAAnO,EAAAC,UAWA,IACAD,EACAoK,aAAA,EACAE,YAAA,GAZA,IACAtK,EACAoK,aAAA+D,EACA7D,YAAA6D,EAAAnO,EAAAC,WAgBAD,GAMAyM,IAeA9Y,eAAAqb,EAAAzb,GAEA,IACA,MAAAe,QAAAC,MAAA,GAAAmB,SAAAC,0BAAApC,KACAiB,QAAAF,EAAAO,OAIA,GAAAL,EAAA+V,MAAA,EAAA,CACA,MAAAhX,GAAAA,EAAA0I,OAAAA,EAAAmO,aAAAA,EAAAG,MAAAA,EAAAJ,cAAAA,GAAA3V,EACA0V,EAAA,CACA3W,GAAAA,EACA0I,OAAAA,EACAgE,SAAA,EACAkK,cAAAA,EACAC,aAAAA,EAEAC,gBAAA3V,WAAA0V,GACAE,YAAAF,EACAG,MAAAA,GAGAQ,EAAAkE,KAAAjP,GAAAA,EAAAzM,IAAAA,GAMAqG,KAAAC,KAAA,CACAC,KAAA,UAEAoD,KAAA,mDANA6N,EAAA7M,KAAAgM,GACAuC,UAUA7S,KAAAC,KAAA,CACAC,KAAA,QAEAoD,KAAA,yCAKA,MAAApI,KAMA,SAAA4C,EAAAJ,GAEA,IAAAC,EAAA7C,WAAA4C,EAAAE,QAAA,KAAA,KACAC,MAAAF,KACAA,EAAA,IAGA,OADAA,EAAA5C,eAAA,MAGA,SAAA8I,EAAAwE,GACA,KAAAA,EAAAC,YACAD,EAAAE,YAAAF,EAAAC,YAGA,SAAAzO,IACAR,SAAAC,cAAA,6BACAD,SAAAC,cAAA,4BAAAQ,SAGAC,eAAAyI,IACAqB,EAAA/B,GAEA,IACA,MAAApH,QAAAC,MAAAmB,SAAAC,OAAA,wBACAnB,QAAAF,EAAAO,OAGA8G,EAAA1I,SAAA2I,cAAA,UACAD,EAAAhC,YAAA,4BACAgC,EAAAlH,MAAA,IAMAD,EAAAsH,QAAAC,IAEA,MAAAC,EAAA/I,SAAA2I,cAAA,UACAI,EAAAvH,MAAAsH,EAAAxI,GACAyI,EAAArC,YAAAoC,EAAAE,OAEAF,EAAAxI,IAAAyP,IAEAhH,EAAAkT,UAAA,GAGAxT,EAAAG,YAAAG,KAIAjI,EAAA,mBAAAmI,UACAnI,EAAA,eAAAmI,QAAA,CACAC,MAAA,eAEAgB,EAAA6F,GACA,MAAAlO,IAGAf,EAAA,oBAAAmI,UACAnI,EAAA,eAAAmI,QAAA,CACAC,MAAA,gBAz3BA,WACA,MAAAgT,EAAA,IAAAC,IAAAhI,OAAA1R,UACA2Z,EAAA,IAAAC,gBAAAH,EAAAzW,QACA,GAAA2W,EAAAE,MACA3K,EAAA4K,KAAAH,EAAAI,IAAA,OAcA9b,iBACA,MAAA8B,EAAA,GAAAC,SAAAC,uBAAAiP,IACA,IACA,MAAAtQ,QAAAC,MAAAkB,IASA,SAAAjB,GAEAwO,EAAAxO,EAAAuN,WAEA,MAAA2N,EAAAlb,EAAA0P,gBACAC,EAAA3P,EAAA2P,MACA7E,EAAA7K,MAAA0P,EAAArG,OAGA,IAAA2M,EAAA,EAEAiF,EAAA5T,QAAA6T,IACAzF,EAAA,CACA3W,GAAAoc,EAAApc,GACA0I,OAAA0T,EAAA1T,OACAgE,SAAA0P,EAAA1P,SACAkK,cAAAwF,EAAAxF,cACAC,aAAAuF,EAAAC,eAEAvF,gBAAAsF,EAAAvF,aACAE,YAAAqF,EAAAC,eAAAD,EAAA1P,SACAsK,MAAA7V,WAAAib,EAAApF,OAAA7V,WAAAib,EAAA1P,WAGAwK,EAAA/V,WAAA+V,GAAA/V,WAAAib,EAAAvF,cAAAuF,EAAA1P,SACA8K,EAAA7M,KAAAgM,KAYAuC,IAEAxB,EAAAxW,MAAAgW,EAAA9V,eAAA,MACAuW,EAAAzW,MAAAD,EAAA2P,MAAAwG,UAAA,IACAQ,EAAA1W,MAAAC,WAAAF,EAAA2P,MAAApG,eAAApJ,eAAA,OAEA,IAAAwP,EAAAvE,gBAAA,IAAAuE,EAAA0L,gBAAA,IAAA1L,EAAA2L,iBAAA,IAAA3L,EAAA4L,mBAAAC,MAAA7L,EAAAlI,UACAgQ,EAAAvN,UAAAhL,OAAA,UACAgY,EAAAjX,MAAA0P,EAAAvE,eACA+L,EAAAlX,MAAA0P,EAAA0L,eACAjE,EAAAnX,MAAA0P,EAAA2L,gBACAjE,EAAApX,MAAA0P,EAAA4L,kBACAjE,EAAArX,MAAA0P,EAAA8L,eAGA,GAAA,GAAA9L,EAAAI,aAAA,GAAAJ,EAAAI,YAAA,CACA,IAAA2L,EAAA,GAGAA,EADA,GAAA/L,EAAAI,YACAtR,SAAAC,cAAA,kCAEAD,SAAAC,cAAA,kCAGAgd,EAAAhB,UAAA,EAEAzD,EAAAhX,MAAAC,WAAAyP,EAAAnG,SAAArJ,eAAA,MACA6H,EAAA/H,OAAA0P,EAAApG,cAAAoG,EAAAnG,SAAArJ,eAAA,MACA0W,EAAA3M,UAAAC,IAAA,UACA2M,EAAA5M,UAAAhL,OAAA,WAzEAyc,OADA7b,EAAAO,QAEA,MAAAC,KAnBAsb,GAEAhU,MAIAgQ,IACAhQ,KA/MAiU,GAGA1c,iBAGA,IACA,MAAAW,QAAAC,MAAAmB,SAAAC,OAAA,yBACAnB,QAAAF,EAAAO,OACAoV,EAAAzV,EAoCA,SAAAyV,GAEAiC,EAAA9U,iBAAA,SAAA,SAAAC,GACAA,EAAAiZ,iBAEA,MAAAC,EAAAlZ,EAAAM,OAAAlD,MAOA,GAAA,SAAA+b,KAJAD,GAmBArE,EAAA9U,iBAAA,UAAAC,IACA,GAAA,IAAAA,EAAAoZ,QAAA,CACA,MAAAC,EAAAzG,EAAAgD,OAAAjN,GAGAA,EAAAlC,OAAA6S,eAAAtZ,EAAAM,OAAAlD,MAAAkc,eAIAD,EAAA/S,OAAA,IAEAqR,EAAA0B,EAAA,GAAAnd,IACA8D,EAAAM,OAAAlD,MAAA,WA3BA,CACA,MAAAic,EAAAzG,EAAAgD,OAAAjN,GAGAA,EAAAlC,OAAA6S,eAAAtZ,EAAAM,OAAAlD,MAAAkc,eAIAD,EAAA/S,OAAA,IAEAqR,EAAA0B,EAAA,GAAAnd,IACA8D,EAAAM,OAAAlD,MAAA,QA1DAmc,CAAA3G,GAIA,MAAAtO,EAAA1I,SAAA2I,cAAA,UACAD,EAAAhC,YAAA,6BACAgC,EAAAlH,MAAA,IAEA0X,EAAAtQ,YAAAF,GACAnH,EAAAsH,QAAAkE,IAEA,MAAAhE,EAAA/I,SAAA2I,cAAA,UACAI,EAAAvH,MAAAuL,EAAAzM,GACAyI,EAAArC,YAAAqG,EAAA/D,OAGAkQ,EAAAtQ,YAAAG,KAIAjI,EAAA,oBAAAmI,UACAnI,EAAA,eAAAmI,QAAA,CACAC,MAAA,eAEA,MAAArH,IAGAf,EAAA,oBAAAmI,UACAnI,EAAA,eAAAmI,QAAA,CACAC,MAAA,eAtCA0U,GAiGA7F,EAAA5T,iBAAA,SAAA,YAuMA,WAEA,GAAA,GAAA2T,EAAApN,OAOA,YANA/D,KAAAC,KAAA,CACAC,KAAA,QAEAoD,KAAA,4CAMA,GAAA,GAAAkO,EAAA3W,OACA,GAAAiH,EAAAjH,MAOA,YANAmF,KAAAC,KAAA,CACAC,KAAA,QAEAoD,KAAA,kHAaAvJ,iBAGAoB,QAAAC,IAAAwV,GAEA,MAAAlV,EAAA,IAAAC,SACAqP,GACAtP,EAAAE,OAAA,KAAAoP,GAEAtP,EAAAE,OAAA,iBAAAsQ,KAAAQ,UAAAyE,IACAzV,EAAAE,OAAA,gBAAAgV,EAAAE,aACApV,EAAAE,OAAA,QAAAgV,EAAAC,qBAEAnV,EAAAE,OAAA,QAAAgV,EAAAI,OACAtV,EAAAE,OAAA,YAAAgV,EAAAG,WACArV,EAAAE,OAAA,cAAA4V,EAAA3W,OACA,GAAA2W,EAAA3W,OACAqc,YAAA,EACA,IAAArF,EAAAhX,QACAqc,YAAArF,EAAAhX,OAEAa,EAAAE,OAAA,QAAAsb,aACAxb,EAAAE,OAAA,QAAAgH,EAAA/H,OACAa,EAAAE,OAAA,aAAAkG,EAAAjH,OACAa,EAAAE,OAAA,UAAAsb,aACApc,WAAAoc,aAAApc,WAAA8V,EAAAE,aACApV,EAAAE,OAAA,SAAA,GAEAF,EAAAE,OAAA,SAAA,KAIAF,EAAAE,OAAA,SAAA,GACAF,EAAAE,OAAA,UAAAgV,EAAAE,cAWA,IAAAjV,EAPAH,EAAAE,OAAA,iBAAAkW,EAAAjX,OACAa,EAAAE,OAAA,iBAAAmW,EAAAlX,OACAa,EAAAE,OAAA,kBAAAoW,EAAAnX,OACAa,EAAAE,OAAA,oBAAAqW,EAAApX,OACAa,EAAAE,OAAA,gBAAAsW,EAAArX,OAKAgB,EADAmP,EACAlP,SAAAC,OAAA,oBAEAD,SAAAC,OAAA,mBAIA,IAEA,MAAArB,QAAAC,MAAAkB,EAAA,CACAI,OAAA,OACAD,KAAAN,IAGAd,QAAAF,EAAAO,OACAE,QAAAC,IAAAR,GACAf,IAEA,SAAAe,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAKAnC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAkBA,WACA0O,EAAA,KACAmG,EAAA,GACAb,EAAA,CACA3W,GAAA,GACA0I,OAAA,GACAgE,SAAA,GACAkK,cAAA,GACAC,aAAA,GAEAC,gBAAA,GACAC,YAAA,GACAC,MAAA,IAEAC,EAAA,CACAC,oBAAA,GACAC,YAAA,GACAC,UAAA,GACAC,MAAA,IAKA,MAAAuB,EAAApY,EAAA,oBAEA2H,EAAA3H,EAAA,mBAEAoY,EAAAI,IAAA,KAAAC,QAAA,kBAEA9Q,EAAA6Q,IAAA,KAAAC,QAAA,kBAIApB,EAAApM,UAAA,gMAMAuM,EAAA9W,MAAA,GACA+W,EAAA/W,MAAA,GACAgX,EAAAhX,MAAA,GACA+H,EAAA/H,MAAA,GACAwX,EAAAvN,UAAA8F,SAAA,WACAyH,EAAAvN,UAAAC,IAAA,UAEA,MAAA0M,EAAApY,SAAAC,cAAA,iBACAoY,EAAArY,SAAAC,cAAA,gBACAoY,EAAA5M,UAAA8F,SAAA,WACA8G,EAAA5M,UAAAC,IAAA,UAEA0M,EAAA3M,UAAA8F,SAAA,WAEA6G,EAAA3M,UAAAhL,OAAA,UAIA0Y,IACAE,IACAG,IAvEAsE,IAEA/F,EAAAlX,UAAA,EACAuC,WAAA,KACA5C,KACA,KACA,MAAAqB,GACAC,QAAAC,IAAAF,IA7FAkc,GAjOAC,MAGA7F,EAAAhU,iBAAA,UAAA,WAEA6U,EAAAvN,UAAA8F,SAAA,WACAyH,EAAAvN,UAAAhL,OAAA,UAEA2X,EAAA3M,UAAA8F,SAAA,WACA6G,EAAA3M,UAAAhL,OAAA,UAEA4X,EAAA5M,UAAA8F,SAAA,WACA8G,EAAA5M,UAAAhL,OAAA,UAKA,GAAA0X,EAAA3W,OAEAgX,EAAAhX,MAAA,GACA+H,EAAA/H,MAAA+V,EAAAE,YAAA/V,eAAA,MACA2X,IACAZ,EAAAyB,UAAA,EACAxB,EAAAwB,UAAA,EACAvB,EAAAuB,UAAA,EACAtB,EAAAsB,UAAA,EACArB,EAAAqB,UAAA,EACAnB,EAAAlY,UAAA,EACAuX,EAAA3M,UAAAC,IAAA,YAGAqE,EAAA,KACA0I,EAAAyB,UAAA,EACAxB,EAAAwB,UAAA,EACAvB,EAAAuB,UAAA,EACAtB,EAAAsB,UAAA,EACArB,EAAAqB,UAAA,EACAnB,EAAAlY,UAAA,EACAmY,EAAAvN,UAAAC,IAAA,UACA2M,EAAA5M,UAAAC,IAAA,cAQAoN,EAAA3U,iBAAA,SAAA,WAEA6U,EAAAvN,UAAA8F,SAAA,WAEAyH,EAAAvN,UAAAhL,OAAA,aAIAsY,EAAA5U,iBAAA,SAAA,WACAkV,IACAL,EAAAvN,UAAAC,IAAA,aAGA4M,EAAAnU,iBAAA,SAyYA,SAAAC,GACAkU,EAAA9W,MAAAiD,EAAAL,EAAAM,OAAAlD,OACA,MACAyc,EADAxc,WAAA6W,EAAA,MAAA/T,QAAA,KAAA,KACAgT,EAAAE,YACAc,EAAA/W,MAAAyc,EAAAvc,eAAA,SA3YA8W,EAAArU,iBAAA,SA8YA,SAAAC,GAEAoU,EAAAhX,MAAAiD,EAAAL,EAAAM,OAAAlD,OACA,MAAAqc,EAAApc,WAAA+W,EAAA,MAAAjU,QAAA,KAAA,KACA+E,EAAAiO,EAAAE,YAAAoG,EACAtU,EAAA/H,MAAA8H,EAAA5H,eAAA,SAjZAwW,EAAA/T,iBAAA,SAksBA,SAAAC,GACA,GAAA,GAAA0T,EAAApN,OAEA,YADAwN,EAAA1W,MAAA,GAIA0W,EAAA1W,MAAAiD,EAAAL,EAAAM,OAAAlD,OACA,MAAAiW,EAAAhW,WAAAyW,EAAA,MAAA3T,QAAA,KAAA,KAEA,IAAAsI,EAAA,EACAiL,EAAAjP,QAAAkE,IACAF,GAAAE,EAAAC,SAAAD,EAAAqK,kBAGA,MAAAM,EAAA,IAAA,IAAAD,EAAA5K,EAEAoL,EAAAzW,MAAAgD,MAAAiX,OAAA/D,EAAAgE,QAAA,KAAA,KAAAD,OAAA/D,EAAAgE,QAAA,IAAA,IAIAnE,EAAAE,YAAAA,EACAF,EAAAG,UAAAA,EAEA6D,OAvtBAza,EAAA,oBAAAsF,GAAA,kBAAA,SAAAhC,GAEA2X,EAAA3X,EAAAM,OAAAlD,UAEAV,EAAA,mBAAAsF,GAAA,kBAAA,SAAAhC,GACA,GAAAA,EAAAM,OAAAlD,MAEA0I,EAAA9F,EAAAM,OAAAlD,OAEA6X,QAzPA,GCAA,WACA,MAAA6E,EAAAle,SAAAC,cAAA,iBACAke,EAAAne,SAAAC,cAAA,WACA,GAAAie,GAAAC,EAAA,CAEArd,EAAA,UAAAsF,GAAA,QAAA,SAAA,SAAAhC,IAKA1D,eAAAJ,GAEAQ,EAAA,eAAAC,MAAA,QAEA,MAAAyB,EAAA,GAAAC,SAAAC,uBAAApC,IACA,IACA,MAAAe,QAAAC,MAAAkB,IAYA,SAAAjB,GACA,MAAA0P,gBAAAA,EAAAC,MAAAA,GAAA3P,EAEA8K,EAAArM,SAAAC,cAAA,iBACAqM,EAAAtM,SAAAC,cAAA,kBACAsM,EAAAvM,SAAAC,cAAA,gBAEAuM,EAAAxM,SAAAC,cAAA,gBACA4M,EAAA7M,SAAAC,cAAA,UACAme,EAAApe,SAAAC,cAAA,wBACAwM,EAAAzM,SAAAC,cAAA,kBACAyM,EAAA1M,SAAAC,cAAA,gBACAmR,EAAApR,SAAAC,cAAA,iBACAoR,EAAArR,SAAAC,cAAA,iBAEAoM,EAAA3F,YAAAwK,EAAArG,OACAyB,EAAA5F,YAAAwK,EAAAvE,eACAJ,EAAA7F,YAAAwK,EAAAtE,MACAJ,EAAA9F,YAAAjF,WAAAyP,EAAApG,eAAApJ,eAAA,MACAmL,EAAAnG,YAAAjF,WAAAyP,EAAArE,OAAAnL,eAAA,MACA0c,EAAA1X,YAAAjF,WAAAyP,EAAAwG,WAAAhW,eAAA,MAAA,IACA+K,EAAA/F,YAAAjF,WAAAyP,EAAAnG,SAAArJ,eAAA,MACAgL,EAAAhG,YAAAjF,WAAAyP,EAAApG,cAAAoG,EAAAnG,SAAArJ,eAAA,MAGA,GAAAwP,EAAAI,cACAF,EAAA1K,YAAA,SAKA,GAAAwK,EAAAI,cACAF,EAAA1K,YAAA,cAEA2K,EAAA5F,UAAA8F,SAAA,gBACAF,EAAA5F,UAAAhL,OAAA,eAEA4Q,EAAA5F,UAAA8F,SAAA,iBACAF,EAAA5F,UAAAhL,OAAA,gBAEA,GAAAyQ,EAAAlG,QACAqG,EAAA3K,YAAA,YACA2K,EAAA5F,UAAAC,IAAA,iBAEA2F,EAAA3K,YAAA,SACA2K,EAAA5F,UAAAC,IAAA,iBAIA,MAAAoB,EAAA9M,SAAAC,cAAA,0BA6BA,SAAA+O,GAEA,KAAAA,EAAAC,YACAD,EAAAE,YAAAF,EAAAC,aA/BAzE,CAAAsC,GAKAmE,EAAApI,QAAAkE,IAEA,MAAA/D,OAAAA,EAAAgE,SAAAA,EAAA2P,eAAAA,GAAA5P,EACA7B,EAAAlL,SAAA2I,cAAA,MACAuE,EAAAlN,SAAA2I,cAAA,MACAuE,EAAAxG,YAAAsC,EACA,MAAAmE,EAAAnN,SAAA2I,cAAA,MACAwE,EAAAzG,YAAAsG,EACA,MAAAI,EAAApN,SAAA2I,cAAA,MACAyE,EAAA1G,YAAAjF,WAAAkb,GAAAjb,eAAA,MACA,MAAA2L,EAAArN,SAAA2I,cAAA,MACA0E,EAAA3G,YAAAjF,WAAAkb,EAAA3P,GAAAtL,eAAA,MAGAwJ,EAAAtC,YAAAsE,GACAhC,EAAAtC,YAAAuE,GACAjC,EAAAtC,YAAAwE,GACAlC,EAAAtC,YAAAyE,GAEAP,EAAAlE,YAAAsC,KAnFAuG,OAFApQ,EAAAO,QAGA,MAAAC,KAZA6P,CAFAtN,EAAAiC,cAAAC,QAAAqL,aANA,GCAA,WAEA,GADA3R,SAAAC,cAAA,eADA,GCAA,WAIA,GADAD,SAAAC,cAAA,YACA,CACA,MAAAiQ,EAAAlQ,SAAAC,cAAA,yBACAkQ,EAAAnQ,SAAAC,cAAA,2BACAmQ,EAAApQ,SAAAC,cAAA,mBACAoQ,EAAArQ,SAAAC,cAAA,kCACAqQ,EAAAtQ,SAAAC,cAAA,+BACAsQ,EAAAvQ,SAAAC,cAAA,uBACAuQ,EAAAxQ,SAAAC,cAAA,0BACAwQ,EAAAzQ,SAAAC,cAAA,0BACAyQ,EAAA1Q,SAAAC,cAAA,yBACA0Q,EAAA3Q,SAAAC,cAAA,yBACA2Q,EAAA5Q,SAAAC,cAAA,6BACA4Q,EAAA7Q,SAAAC,cAAA,4BACA2M,EAAA5M,SAAAC,cAAA,UA2CAS,eAAAsQ,EAAApE,GAEA,MAAAvK,EAAA,IAAAC,SACAD,EAAAE,OAAA,QAAAqK,GACA,MAAApK,EAAAC,SAAAC,OAAA,oBAEA,IACA,MAAArB,QAAAC,MAAAkB,EAAA,CACAI,OAAA,OACAD,KAAAN,IAEAd,QAAAF,EAAAO,OACAE,QAAAC,IAAAR,GA9BA,SAAAA,GACAO,QAAAC,IAAA,QACAD,QAAAC,IAAAR,GACA2O,EAAAxJ,YAAAnF,EAAA2O,aACAC,EAAAzJ,YAAAnF,EAAAuP,eACAV,EAAA1J,YAAAnF,EAAA6O,OACAC,EAAA3J,YAAAnF,EAAA8O,sBACAC,EAAA5J,YAAAnF,EAAA+O,mBACAC,EAAA7J,YAAAnF,EAAAgP,WACAC,EAAA9J,YAAAnF,EAAAiP,cACAC,EAAA/J,YAAAnF,EAAAkP,cACAC,EAAAhK,YAAAnF,EAAAmP,aACAC,EAAAjK,YAAAnF,EAAAoP,aACAC,EAAAlK,YAAAnF,EAAAqP,iBACAC,EAAAnK,YAAAnF,EAAAsP,gBAkBAE,CAAAxP,GACA,MAAAM,GACAC,QAAAC,IAAAF,IA1DA+K,EAAAzI,iBAAA,SAAA,SAAAC,GAEA4M,EAAA5M,EAAAM,OAAAlD,UAMA,WACA,MAAA6c,EAAA,IAAAnM,KAMAoM,EAHA,IAAApM,KAAAmM,EAAAE,UAAA,MAGAC,cAAAlM,MAAA,EAAA,IACA1F,EAAApL,MAAA8c,EAGAtN,EAAApE,EAAApL,OAbAid,IAxBA,GCAA,WAEA,GADAze,SAAAC,cAAA,WACA,CACA,IAAAye,EA4MA,SAAAle,IACAR,SAAAC,cAAA,6BACAD,SAAAC,cAAA,4BAAAQ,SA5MAK,EAAA,UAAAsF,GAAA,QAAA,WAAA,SAAAhC,GAGA9D,GAAA8D,EAAAiC,cAAAC,QAAAqL,QAqCAjR,eAAAJ,GAEA,MAAA+B,EAAA,IAAAC,SAEAD,EAAAE,OAAA,KAAAjC,GACA,MAAAkC,EAAAC,SAAAC,OAAA,qBACA,IACA,MAAArB,QAAAC,MAAAkB,EAAA,CACAI,OAAA,OACAD,KAAAN,IAGAd,QAAAF,EAAAO,OAMA,GAFApB,IAEA,SAAAe,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,UAEA,CAEA,MAAA0b,EAAAre,EAAAse,WACAzK,OAAA1R,SAAA,mBAAAoc,KAAAF,GAIAvb,WAAA,KACA5C,KACA,KACA,MAAAqB,GACAC,QAAAC,IAAAF,IAtEAid,CAAAxe,OAKAQ,EAAA,UAAAsF,GAAA,QAAA,aAAA,SAAAhC,IAqEA,SAAA9D,EAAA8D,GAEA,MAAA2a,EAAA3a,EAAAiC,cAAAG,cAAAA,cAAAA,cAAAC,WAAA,GAAAC,YAGAC,KAAAC,KAAA,CACAC,KAAA,UACAC,KAAA,wFAAAiY,6DAEAhY,kBAAA,EACAC,kBAAA,WACAC,iBAAA,aAGAC,KAAAC,IACAA,EAAAC,aAMA1G,eAAAJ,GACA,MAAA+B,EAAA,IAAAC,SACAD,EAAAE,OAAA,KAAAjC,GAEAkC,IAAAC,SAAAC,OAAA,sBACA,IACA,MAAArB,QAAAC,MAAAkB,IAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAIApB,IAEA,SAAAe,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAIAnC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAGAG,WAAA,KACA5C,KACA,KAGAke,EAAAxb,KAAAC,UAEA,MAAAtB,KA5CAmd,CAAA1e,KAlFA2e,CAFA7a,EAAAiC,cAAAC,QAAAqL,QAEAvN,MAEAtD,EAAA,UAAAsF,GAAA,QAAA,aAAA,SAAAhC,IAKA1D,eAAAJ,IACA,IAAAgC,UACAC,OAAA,KAAAjC,GACA,MAAAkC,EAAA,GAAAC,SAAAC,gCAAApC,IACA6T,OAAA+K,KAAA1c,EAAA,UAPA2c,CADA/a,EAAAiC,cAAAC,QAAAqL,YAkJA,WACA7Q,EAAAkH,GAAAnD,UAAAuQ,YAAA,WACAtU,EAAA,UAAA+D,YAAA3D,UAIAwd,EAAA5d,EAAA,UAAA+D,UAAA,CACAW,YAAA,EACA6P,YAAA,EACAnS,KAAA,CACAV,IAAA,cACAK,KAAA,OAEAsD,YAAA,EAEAiZ,MAAA,CAAA,CAAA,EAAA,SACAta,SAAA,CACAC,QAAA,GACAC,WAAA,qBACAC,KAAA,gDACAC,UAAA,gCACAC,aAAA,uCACAG,WAAA,0BACAC,eAAA,cACAC,WAAA,gBACAC,OAAA,UACAC,YAAA,+BACAC,SAAA,CACAC,MAAA,UACAC,KAAA,SACAC,KAAA,YACAC,SAAA,eAjDAsZ,IAtJA,GCAA,WAEA,GADArf,SAAAC,cAAA,YACA,CAEA,MAAA8T,EAAA/T,SAAAC,cAAA,cACAqf,EAAAtf,SAAAC,cAAA,oBACA2T,EAAA5T,SAAAC,cAAA,gBACAsf,EAAAvf,SAAAC,cAAA,yBACAuf,EAAAxf,SAAAC,cAAA,mBACA4T,EAAA7T,SAAAC,cAAA,wBACA6T,EAAA9T,SAAAC,cAAA,sBA6DA,SAAAwf,IACA5L,EAAArS,MAAA,GAEA,MAAAke,EAAAje,WAAA8d,EAAA,MAAAhb,QAAA,KAAA,KACAob,EAAAle,WAAA+d,EAAAhe,OACA,GAAAgD,MAAAkb,IAAAlb,MAAAmb,GACA,OAEA,MAAAzI,EAAAwI,EAAAC,EACA9L,EAAArS,MAAAoe,KAAAC,MAAA3I,GAAAxV,eAAA,MAGA,SAAA+C,EAAAJ,GAEA,IAAAC,EAAA7C,WAAA4C,EAAAE,QAAA,KAAA,KACAC,MAAAF,KACAA,EAAA,IAGA,OADAA,EAAA5C,eAAA,MA4DA,SAAAgS,EAAApT,GACAQ,EAAAoB,UAAAC,YAAA,CACAC,cAAA,YA3DA1B,iBACA,MAAA2B,EAAA,IAAAC,SAEAD,EAAAE,OAAA,KAAAoR,2BACAtR,EAAAE,OAAA,QAAAqR,EAAA,OACAvR,EAAAE,OAAA,gBAAAsR,EAAA,OAEAC,EAAAjT,UAAA,EAEA,MAAA2B,EAAAC,SAAAC,OAAA,6BAIA,IACA,MAAArB,QAAAC,MAAAkB,EAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAGApB,IAEAsT,EAAAjT,UAAA,EAEA,SAAAU,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAIAnC,EAAA,UAAA+D,YAAA3B,KAAAC,SAEArC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAGAG,WAAA,KACA5C,KACA,KAEAuT,EAAAnT,QAEAE,EAAA,gBAAAC,MAAA,SAIA,MAAAc,KAOAmS,MAKAlT,EAAA,cAAAE,SAAA,CACAsC,MAAA,CAGAsQ,YAAA,CACApQ,UAAA,GAGAqQ,oBAAA,CACArQ,UAAA,IAGAC,SAAA,CACAmQ,YAAA,CACApQ,SAAA,4BAEAqQ,oBAAA,CACArQ,SAAA,+CAIAE,aAAA,OACAC,eAAA,SAAA9B,EAAA+B,GACA/B,EAAAgC,SAAA,oBACAD,EAAAE,QAAA,eAAAvB,OAAAV,IAEAkC,UAAA,SAAAH,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAC,SAAA,eAEAK,YAAA,SAAAN,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAxC,YAAA,iBAOA,SAAAZ,IACAR,SAAAC,cAAA,6BACAD,SAAAC,cAAA,4BAAAQ,SAhJAK,EAAA,UAAA6D,YAAAC,YAEAkb,aAAAhf,EAAA,UAAA+D,UAAA,CACA3B,KAAA,eACA8C,aAAA,EACAC,UAAA,EACAC,YAAA,EACAC,YAAA,EACA4B,aAAA,WAEA,IAAAjH,EAAAkH,GAAArD,UAAAsD,QAAA6X,aAAA,CACA5X,QAAA,CAAA,OAAA,MAAA,QAAA,MAAA,QAAA,YACAC,YAAAC,SAAA,qCAnDAtH,EAAA,UAAAsF,GAAA,QAAA,kBAAA,SAAAhC,GAEAuP,0BAAAvP,EAAAiC,cAAAC,QAAAqT,WACA5F,EAAAnT,QACAkT,EAAAjT,UAAA,EACAC,EAAA,gBAAAC,MAAA,QACAD,EAAA,cAAAE,WAAAC,YAEAH,EAAA,cAAAE,WAAAE,UAEAJ,EAAA,cAAAK,KAAA,eAAAC,YAAA,cAGA,MAAA4H,EAAA5E,EAAAiC,cAAAG,cAAAA,cAAAA,cAAAC,WAAA,GAAAC,YACA4Y,EAAA9d,MAAAwH,EACA0K,OAGA6L,EAAApb,iBAAA,SAAA,SAAAC,GACA,MAAAsb,EAAAjb,EAAAL,EAAAM,OAAAlD,OACA+d,EAAA/d,MAAAke,EACAD,OAEAD,EAAArb,iBAAA,SAAA,SAAAC,GAEAqb,OAGA5L,EAAA1P,iBAAA,SAAA,SAAAC,GACA,MAAA8S,EAAAzS,EAAAL,EAAAM,OAAAlD,OACAqS,EAAArS,MAAA0V,KAoJApW,EAAA,cAAAsF,GAAA,SAAA,SAAAqB,GACAiM,QAhMA,GCAA,WAEA,GADA1T,SAAAC,cAAA,cACA,CACA,MAAA8f,EAAA/f,SAAAC,cAAA,kBACA+f,EAAAhgB,SAAAC,cAAA,iBACAggB,EAAAjgB,SAAAC,cAAA,qBACAigB,EAAAlgB,SAAAC,cAAA,mBACAkgB,EAAAngB,SAAAC,cAAA,aA2BA,SAAAmgB,IACAL,EAAAve,MAAA,GACAwe,EAAAxe,MAAA,GACAye,EAAAze,MAAA,GACA,MAAAke,EAAAje,WAAAye,EAAA,MAAA3b,QAAA,KAAA,KACAob,EAAAle,WAAA0e,EAAA3e,OACA,GAAAgD,MAAAkb,IAAAlb,MAAAmb,GACA,OAEA,MAAAzI,EAAAwI,EAAAC,EACAI,EAAAve,MAAAoe,KAAAC,MAAA3I,GAAAxV,eAAA,MAgCA,SAAA2e,IAEA,MAAAnJ,EAAAzV,WAAAse,EAAA,MAAAxb,QAAA,KAAA,KACA4S,EAAA1V,WAAAue,EAAA,MAAAzb,QAAA,KAAA,KACA,GAAAC,MAAA0S,IAAA1S,MAAA2S,GACA,OAEA,MAAAmJ,EAAA,KAAAnJ,EAAAD,GAAAA,EACA+I,EAAAze,MAAA8e,EAAA5E,QAAA,GAGA,SAAAjX,EAAAJ,GAEA,IAAAC,EAAA7C,WAAA4C,EAAAE,QAAA,KAAA,KACAC,MAAAF,KACAA,EAAA,IAGA,OADAA,EAAA5C,eAAA,MArFAqe,EAAA5b,iBAAA,SAAA,SAAAC,GACA,MAAA8S,EAAAzS,EAAAL,EAAAM,OAAAlD,OACAue,EAAAve,MAAA0V,EACAmJ,OAEAL,EAAA7b,iBAAA,SAAA,SAAAC,GACA,MAAA8S,EAAAzS,EAAAL,EAAAM,OAAAlD,OACAwe,EAAAxe,MAAA0V,EACAmJ,OAGAJ,EAAA9b,iBAAA,SAAA,SAAAC,IA0CA,SAAAkc,GACA,MAAApJ,EAAAzV,WAAAse,EAAA,MAAAxb,QAAA,KAAA,KAEA,GAAAC,MAAA0S,GACA,OAIA,MAAAC,EAAAD,EAAAA,EAAAzV,WAAA6e,GAAA,IAGAN,EAAAxe,OAAA,IAAAoe,KAAAC,MAAA1I,EAAA,MAAAzV,eAAA,MApDA6e,CAAAnc,EAAAM,OAAAlD,UAIA0e,EAAA/b,iBAAA,SAAA,SAAAC,GACA,MAAAsb,EAAAjb,EAAAL,EAAAM,OAAAlD,OACA0e,EAAA1e,MAAAke,EACAU,OAEAD,EAAAhc,iBAAA,SAAA,SAAAC,GAEAgc,QA/BA,GCAA,WAEA,GADApgB,SAAAC,cAAA,cACA,CACA,MAAAugB,EAAAxgB,SAAAC,cAAA,cACAE,EAAAH,SAAAC,cAAA,iBACAwgB,EAAAzgB,SAAAC,cAAA,iBACAygB,EAAA1gB,SAAAC,cAAA,iBACA,IAGAgU,EAEA3T,EAJAqgB,EAAA,KACAC,EAAA,KAIA,MAAA5X,EAAAhJ,SAAAC,cAAA,WACA4K,EAAA7K,SAAAC,cAAA,WACA4gB,EAAA7gB,SAAAC,cAAA,iBACA6gB,EAAA9gB,SAAAC,cAAA,iBACAqX,EAAAtX,SAAAC,cAAA,UACA8gB,EAAA/gB,SAAAC,cAAA,iBACAiX,EAAAlX,SAAAC,cAAA,kBACAkX,EAAAnX,SAAAC,cAAA,iBACAggB,EAAAjgB,SAAAC,cAAA,qBAEAG,EAAAJ,SAAAC,cAAA,cA8KAS,eAAAsgB,IAEA,IACA,MAAA3f,QAAAC,MAFA,8BAsBA,SAAA2f,GACAzW,EAAAiW,GAUAQ,EAAApY,QAAAjB,IAEA,MAAAmB,EAAA/I,SAAA2I,cAAA,UACAI,EAAAvH,MAAAoG,EAAAtH,GACAyI,EAAArC,YAAAkB,EAAAA,UACAA,EAAAtH,IAAAqgB,IAEA5X,EAAAkT,UAAA,GAIAwE,EAAA7X,YAAAG,KAxCAmY,OADA7f,EAAAO,QAEA,MAAAC,KAKAnB,eAAAygB,IAEA,IACA,MAAA9f,QAAAC,MAFA,+BA2CA,SAAA8f,GACA5W,EAAAkW,GAUAU,EAAAvY,QAAAgN,IAEA,MAAA9M,EAAA/I,SAAA2I,cAAA,UACAI,EAAAvH,MAAAqU,EAAAvV,GACAyI,EAAArC,YAAAmP,EAAA7M,OACA6M,EAAAvV,IAAAsgB,IAEA7X,EAAAkT,UAAA,GAEAyE,EAAA9X,YAAAG,KAGAjI,EAAA,oBAAAmI,UACAnI,EAAA,oBAAAmI,UACAnI,EAAA,eAAAmI,QAAA,CACAC,MAAA,eAhEAmY,OAFAhgB,EAAAO,QAGA,MAAAC,KAsIA,SAAArB,IACAR,SAAAC,cAAA,6BACAD,SAAAC,cAAA,4BAAAQ,SAIAC,eAAAC,IACAR,EAAAS,QACAR,EAAAS,UAAA,EACAC,EAAA,mBAAAC,MAAA,QACAD,EAAA,iBAAAE,WAAAC,YAEAH,EAAA,iBAAAE,WAAAE,UAEAJ,EAAA,iBAAAK,KAAA,eAAAC,YAAA,cACAd,GAYAI,iBACA,IACA,MAAAW,QAAAC,MAAA,oBAAAhB,IAUA,SAAAiB,GACAof,EAAApf,EAAAsf,aACAD,EAAArf,EAAAuf,aACA9X,EAAAxH,MAAAD,EAAA,OAAA8G,cACAwC,EAAArJ,MAAAD,EAAAsJ,OACAyM,EAAA9V,MAAAD,EAAA+V,MACAyJ,EAAAvf,MAAAD,EAAAwf,aACA7J,EAAA1V,MAAAC,WAAAF,EAAA2V,eAAAxV,eAAA,MACAyV,EAAA3V,MAAAC,WAAAF,EAAA4V,cAAAzV,eAAA,MACAue,EAAAze,MAAAD,EAAA0e,iBAfAte,OAHAN,EAAAO,QAIA,MAAAC,GACAC,QAAAC,IAAAF,IAnBAyf,SAGAN,UACAG,IAEAlf,IA6BA,SAAAA,IACAnB,EAAAoB,UAAAC,YAAA,CACAC,cAAA,YAtHA1B,iBAEA,MAAA2B,EAAA,IAAAC,SACAhC,GACA+B,EAAAE,OAAA,KAAAjC,GAEA+B,EAAAE,OAAA,SAAAyG,EAAA,MAAAlB,QACAzF,EAAAE,OAAA,SAAAsI,EAAA,MAAA/C,QACAzF,EAAAE,OAAA,eAAAse,EAAA,OACAxe,EAAAE,OAAA,eAAAue,EAAA,OACAze,EAAAE,OAAA,QAAA+U,EAAA,OACAjV,EAAAE,OAAA,eAAAwe,EAAA,OACA1e,EAAAE,OAAA,gBAAA2U,EAAA,OACA7U,EAAAE,OAAA,eAAA4U,EAAA,OACA9U,EAAAE,OAAA,mBAAA0d,EAAA,OAEA7f,EAAAS,UAAA,EAEA,IAAA2B,EAAA,GAEAA,EADAlC,EACAmC,SAAAC,OAAA,uBAEAD,SAAAC,OAAA,sBAGA,IACA,MAAArB,QAAAC,MAAAkB,EAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAEApB,IACAJ,EAAAS,UAAA,EACA,SAAAU,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAGAgR,EAAA/Q,KAAAC,SAEArC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAGAG,WAAA,KACA5C,KACA,KAEAL,EAAAS,QAEAE,EAAA,mBAAAC,MAAA,SAIA,MAAAc,KA0DAwB,MAOAvC,EAAA,iBAAAE,SAAA,CACAsC,MAAA,CACA0F,OAAA,CACAxF,UAAA,GAIA8T,MAAA,CACA9T,UAAA,GAEAud,aAAA,CACAvd,UAAA,GAEA0T,cAAA,CACA1T,UAAA,GAEA2T,aAAA,CACA3T,UAAA,GAEAyc,iBAAA,CACAzc,UAAA,IAGAC,SAAA,CACAuF,OAAA,CACAxF,SAAA,4BAEA8T,MAAA,CACA9T,SAAA,mCAEAud,aAAA,CACAvd,SAAA,kCAEA0T,cAAA,CACA1T,SAAA,sCAEA2T,aAAA,CACA3T,SAAA,qCAEAyc,iBAAA,CACAzc,SAAA,0CAIAE,aAAA,OACAC,eAAA,SAAA9B,EAAA+B,GACA/B,EAAAgC,SAAA,oBACAD,EAAAE,QAAA,eAAAvB,OAAAV,IAEAkC,UAAA,SAAAH,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAC,SAAA,eAEAK,YAAA,SAAAN,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAxC,YAAA,iBAgBA,SAAAoJ,EAAAwE,GACA,KAAAA,EAAAC,YACAD,EAAAE,YAAAF,EAAAC,YAzcA7O,EAAA+D,iBAAA,SAAA,eAyIA,WACArD,EAAAkH,GAAAnD,UAAAuQ,YAAA,WACAtU,EAAA,UAAA+D,YAAA3D,UAGA+S,EAAAnT,EAAA,UAAA+D,UAAA,CACAW,YAAA,EACA6P,YAAA,EACAnS,KAAA,CACAV,IAAA,iBACAK,KAAA,OAEAsD,YAAA,EACAiZ,MAAA,CAAA,CAAA,EAAA,SACAta,SAAA,CACAC,QAAA,GACAC,WAAA,qBACAC,KAAA,gDACAC,UAAA,gCACAC,aAAA,uCACAG,WAAA,0BACAC,eAAA,cACAC,WAAA,gBACAC,OAAA,UACAC,YAAA,+BACAC,SAAA,CACAC,MAAA,UACAC,KAAA,SACAC,KAAA,YACAC,SAAA,eAlKAyT,GAEAxQ,EAAA7E,iBAAA,SAAA,SAAAC,GACA4E,EAAAxH,MAAA4C,EAAAM,OAAA,MAAA2D,iBAIAmY,EAAArc,iBAAA,SAAA,WACA7D,EAAA,KACAqgB,EAAA,KACAC,EAAA,KACAjgB,OAGAG,EAAA,UAAAsF,GAAA,QAAA,WAAA,SAAAhC,GACA9D,EAAA8D,EAAAiC,cAAAC,QAAAqT,WACAhZ,OAGAG,EAAA,UAAAsF,GAAA,QAAA,aAAA,SAAAhC,IAKA,SAAA9D,EAAA8D,GAEA,MAAA4E,EAAA5E,EAAAiC,cAAAG,cAAAA,cAAAA,cAAAC,WAAA,GAAAC,YACA5E,QAAAC,IAAAiH,GAEArC,KAAAC,KAAA,CACAC,KAAA,UACAC,KAAA,oFAAAkC,6DAEAjC,kBAAA,EACAC,kBAAA,WACAC,iBAAA,aAGAC,KAAAC,IACAA,EAAAC,aAKA1G,eAAAJ,GACA,MAAA+B,EAAA,IAAAC,SACAD,EAAAE,OAAA,KAAAjC,GAEAkC,IAAAC,SAAAC,OAAA,yBACA,IACA,MAAArB,QAAAC,MAAAkB,IAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAEApB,IAEA,SAAAe,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAIAnC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAGAG,WAAA,KACA5C,KACA,KAGAyT,EAAA/Q,KAAAC,UAEA,MAAAtB,KAzCA0f,CAAAjhB,KAnBAkhB,CADApd,EAAAiC,cAAAC,QAAAqT,WACAvV,MAkaAtD,EAAA,iBAAAsF,GAAA,SAAA,SAAAqB,GACAxF,QApdA,GCAA,WAGA,GAFAjC,SAAAC,cAAA,cAEA,CACA,MAAA8T,EAAA/T,SAAAC,cAAA,cACAqf,EAAAtf,SAAAC,cAAA,oBACA2T,EAAA5T,SAAAC,cAAA,gBACAsf,EAAAvf,SAAAC,cAAA,yBACAuf,EAAAxf,SAAAC,cAAA,mBACA4T,EAAA7T,SAAAC,cAAA,wBACA6T,EAAA9T,SAAAC,cAAA,sBAEA,IAAA0T,EAqCA,SAAA8L,IACA5L,EAAArS,MAAA,GAEA,MAAAke,EAAAje,WAAA8d,EAAA,MAAAhb,QAAA,KAAA,KACAob,EAAAle,WAAA+d,EAAAhe,OACA,GAAAgD,MAAAkb,IAAAlb,MAAAmb,GACA,OAEA,MAAAzI,EAAAwI,EAAAC,EACA9L,EAAArS,MAAAoe,KAAAC,MAAA3I,GAAAxV,eAAA,MAGA,SAAA+C,EAAAJ,GAEA,IAAAC,EAAA7C,WAAA4C,EAAAE,QAAA,KAAA,KACAC,MAAAF,KACAA,EAAA,IAGA,OADAA,EAAA5C,eAAA,MA6DA,SAAAlB,IACAR,SAAAC,cAAA,6BACAD,SAAAC,cAAA,4BAAAQ,SAIA,SAAAiT,EAAApT,GACAQ,EAAAoB,UAAAC,YAAA,CACAC,cAAA,YAjEA1B,iBACA,MAAA2B,EAAA,IAAAC,SAEAD,EAAAE,OAAA,KAAAoR,GACAtR,EAAAE,OAAA,QAAAqR,EAAA,OACAvR,EAAAE,OAAA,gBAAAsR,EAAA,OAEAC,EAAAjT,UAAA,EAEA,MAAA2B,EAAAC,SAAAC,OAAA,6BAIA,IACA,MAAArB,QAAAC,MAAAkB,EAAA,CACAG,KAAAN,EACAO,OAAA,SAEArB,QAAAF,EAAAO,OAGApB,IAEAsT,EAAAjT,UAAA,EAEA,SAAAU,EAAAsB,KACA/B,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,YACAC,MAAA,QAEAL,KAAApB,EAAA0B,OAIAnC,EAAA,UAAA+D,YAAA3B,KAAAC,SAEArC,EAAAd,UAAA8C,OAAA,SAAA,CACAC,MAAA,sBACAC,MAAA,aAEAL,KAAApB,EAAA0B,MAGAG,WAAA,KACA5C,KACA,KAEAuT,EAAAnT,QAEAE,EAAA,gBAAAC,MAAA,SAIA,MAAAc,KAaAmS,MAKAlT,EAAA,cAAAE,SAAA,CACAsC,MAAA,CAGAsQ,YAAA,CACApQ,UAAA,GAGAqQ,oBAAA,CACArQ,UAAA,IAGAC,SAAA,CACAmQ,YAAA,CACApQ,SAAA,4BAEAqQ,oBAAA,CACArQ,SAAA,+CAIAE,aAAA,OACAC,eAAA,SAAA9B,EAAA+B,GACA/B,EAAAgC,SAAA,oBACAD,EAAAE,QAAA,eAAAvB,OAAAV,IAEAkC,UAAA,SAAAH,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAC,SAAA,eAEAK,YAAA,SAAAN,EAAAI,EAAAC,GACAnD,EAAA8C,GAAAxC,YAAA,iBA9JAN,EAAA,UAAAsF,GAAA,QAAA,kBAAA,SAAAhC,GAEAuP,EAAAvP,EAAAiC,cAAAC,QAAAqT,WACA5F,EAAAnT,QACAkT,EAAAjT,UAAA,EACAC,EAAA,gBAAAC,MAAA,QACAD,EAAA,cAAAE,WAAAC,YAEAH,EAAA,cAAAE,WAAAE,UAEAJ,EAAA,cAAAK,KAAA,eAAAC,YAAA,cAGA,MAAA4H,EAAA5E,EAAAiC,cAAAG,cAAAA,cAAAA,cAAAC,WAAA,GAAAC,YACA4Y,EAAA9d,MAAAwH,EACA0K,OAGA6L,EAAApb,iBAAA,SAAA,SAAAC,GACA,MAAAsb,EAAAjb,EAAAL,EAAAM,OAAAlD,OACA+d,EAAA/d,MAAAke,EACAD,OAEAD,EAAArb,iBAAA,SAAA,SAAAC,GAEAqb,OAGA5L,EAAA1P,iBAAA,SAAA,SAAAC,GACA,MAAA8S,EAAAzS,EAAAL,EAAAM,OAAAlD,OACAqS,EAAArS,MAAA0V,KAoIApW,EAAA,cAAAsF,GAAA,SAAA,SAAAqB,GACAiM,QAjLA","file":"bundle.js","sourcesContent":["(function(){\r\n    const cajas = document.querySelector('#cajas');\r\n    if(cajas){\r\n    \r\n        const btnAbrirCaja = document.querySelector('#registrar');\r\n        const formulario = document.querySelector('#cajaForm');\r\n        const btnSubmit = document.querySelector('#btnSubmit')\r\n\r\n        let tablaCajas;\r\n    \r\n        let id;\r\n        const efectivoAperturaInput = document.querySelector('#efectivo-apertura');\r\n\r\n        efectivoAperturaInput.addEventListener('input', function(e){\r\n            efectivoAperturaInput.value = formatearValor(e.target.value);\r\n        })\r\n\r\n        mostrarCajas();\r\n      \r\n\r\n        btnAbrirCaja.addEventListener('click',function(){\r\n            id = null;\r\n       \r\n            accionesModal();\r\n        })\r\n\r\n      $('#tabla').on('click', '#editar', function(e){\r\n \r\n            id=e.currentTarget.dataset.cajaId;\r\n       \r\n            accionesModal();\r\n        })\r\n\r\n   \r\n        $('#tabla').on('click', '#eliminar', function(e){\r\n            const id = e.currentTarget.dataset.cajaId;\r\n            alertaEliminarCaja(id,e);\r\n        }) \r\n        $('#tabla').on('click', '#cerrar', function(e){\r\n            const id = e.currentTarget.dataset.cajaId;\r\n            alertaCerrarCaja(id,e);\r\n        }) \r\n\r\n        function alertaEliminarCaja(id,e){\r\n            \r\n            const efectivo_apertura = e.currentTarget.parentElement.parentElement.parentElement.childNodes[2].textContent;\r\n           \r\n            \r\n            Swal.fire({\r\n                icon:'warning',\r\n                html: `<h2 class=\"\">esta seguro de eliminar esta caja la cual tiene una efectivo de apertura de  <span class=\"font-weight-bold\"> ${efectivo_apertura} </span>?</h2><br><p>Esta accin no se puede deshacer</p>`,\r\n          \r\n                showCancelButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                cancelButtonText: `Cancelar`,\r\n                \r\n\r\n            }).then(result=>{\r\n                if(result.isConfirmed){\r\n                    eliminarCaja(id)\r\n                }\r\n            })\r\n        }\r\n        function alertaCerrarCaja(id,e){\r\n  \r\n            Swal.fire({\r\n                icon:'warning',\r\n                html: `<h2 class=\"\">Est seguro de cerrar esta caja? </h2><br><p>Esta accin no se puede deshacer</p>`,\r\n          \r\n                showCancelButton: true,\r\n                confirmButtonText: 'Cerrar',\r\n                cancelButtonText: `Cancelar`,\r\n                \r\n\r\n            }).then(result=>{\r\n                if(result.isConfirmed){\r\n                    cerrarCaja(id)\r\n                }\r\n            })\r\n        }\r\n        async function cerrarCaja(id){\r\n           \r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n         \r\n    \r\n            url = `${location.origin}/api/caja/cerrar`;\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n              \r\n              \r\n                eliminarToastAnterior();\r\n            \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    tablaCajas.ajax.reload(); \r\n                }\r\n                setTimeout(()=>{\r\n                    eliminarToastAnterior();\r\n                },8000)\r\n            } catch (error) { \r\n                \r\n            }\r\n        }\r\n        async function eliminarCaja(id){\r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n         \r\n    \r\n            url = `${location.origin}/api/caja/eliminar`;\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n              \r\n                eliminarToastAnterior();\r\n            \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                 \r\n\r\n                 \r\n                    tablaCajas.ajax.reload(); \r\n                }\r\n                setTimeout(()=>{\r\n                    eliminarToastAnterior();\r\n                },8000)\r\n            } catch (error) { \r\n                \r\n            }\r\n        }\r\n      \r\n\r\n        function mostrarCajas(){\r\n      \r\n            $(\"#tabla\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaCajas = $('#tabla').DataTable({\r\n                language: {\r\n                    \"decimal\": \"\",\r\n                    \"emptyTable\": \"No hay informacin\",\r\n                    \"info\": \"Mostrando _START_ a _END_ de _TOTAL_ Entradas\",\r\n                    \"infoEmpty\": \"Mostrando 0 to 0 of 0 Entradas\",\r\n                    \"infoFiltered\": \"(Filtrado de _MAX_ total entradas)\",\r\n                    \"infoPostFix\": \"\",\r\n                    \"thousands\": \",\",\r\n                    \"lengthMenu\": \"Mostrar _MENU_ Entradas\",\r\n                    \"loadingRecords\": \"Cargando...\",\r\n                    \"processing\": \"Procesando...\",\r\n                    \"search\": \"Buscar:\",\r\n                    \"zeroRecords\": \"Sin resultados encontrados\",\r\n                    \"paginate\": {\r\n                        \"first\": \"Primero\",\r\n                        \"last\": \"Ultimo\",\r\n                        \"next\": \"Siguiente\",\r\n                        \"previous\": \"Anterior\"\r\n                    }\r\n                },\r\n                ajax: '/api/cajas',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n            \r\n            // $.ajax({\r\n            //     url:'/api/cajas',\r\n            //     dataType:'json',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.resposeText)\r\n            //     }\r\n            // })\r\n       \r\n        }  \r\n\r\n\r\n\r\n        async function enviarDatos(){\r\n\r\n            const datos = new FormData();\r\n            if(id){\r\n                datos.append('id', id)\r\n            }\r\n            datos.append('efectivo_apertura', efectivoAperturaInput.value);\r\n\r\n        \r\n           btnSubmit.disabled = true;\r\n\r\n            let url = '';\r\n            if(id){\r\n                url = `${location.origin}/api/caja/editar`;\r\n            }else{\r\n                url = `${location.origin}/api/caja/crear`;\r\n            }\r\n\r\n            \r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                \r\n          \r\n                eliminarToastAnterior();\r\n            \r\n                btnSubmit.disabled = false;\r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                      $('#modal-caja').modal('hide');\r\n                }else{\r\n                    tablaCajas.ajax.reload()\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                  \r\n\r\n                    formulario.reset();\r\n\r\n                    $('#modal-caja').modal('hide');\r\n         \r\n                }\r\n                setTimeout(()=>{\r\n                    eliminarToastAnterior();\r\n                },4000)\r\n   \r\n            } catch (error) {  \r\n            }\r\n        }\r\n\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n\r\n        async function accionesModal(){\r\n            formulario.reset();\r\n            btnSubmit.disabled = false;\r\n            $('#modal-caja').modal('show');\r\n            $('#cajaForm').validate().resetForm();\r\n            // Elimina todas las reglas de validacin\r\n            $('#cajaForm').validate().destroy();\r\n            // Elimina las clases de validacin de los elementos\r\n            $('#cajaForm').find('.is-invalid').removeClass('is-invalid');\r\n            if(id){\r\n                consultarCaja();\r\n               \r\n            }\r\n           \r\n         \r\n     \r\n            inicializarValidador();\r\n       \r\n           \r\n        }\r\n\r\n        async function consultarCaja(){\r\n          \r\n            try {\r\n                const respuesta = await fetch(`/api/caja?id=${id}`);\r\n                const resultado = await respuesta.json();\r\n            \r\n           \r\n                llenarFormulario(resultado);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        function llenarFormulario(resultado){\r\n  \r\n\r\n            efectivoAperturaInput.value = (parseFloat(resultado)).toLocaleString('en');\r\n          \r\n        }\r\n        function inicializarValidador() {\r\n\r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                        enviarDatos();\r\n                    \r\n              }\r\n            });\r\n      \r\n           \r\n             $('#cajaForm').validate({\r\n              rules: {\r\n                efectivo_apertura: {\r\n                    required: true\r\n                      \r\n                }\r\n              },\r\n              messages: {\r\n                efectivo_apertura: {\r\n                    required: \"El campo es obligatorio, si el efectivo inicial es cero porfavor digite 0\"  \r\n                }\r\n           \r\n\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#cajaForm').on('valid', function(event) {\r\n            inicializarValidador();\r\n        });\r\n\r\n        // function llenarPrimerOption(referencia){\r\n        //     const optionDefault =  document.createElement('OPTION');\r\n        //     optionDefault.textContent = 'Seleccione';\r\n     \r\n         \r\n        //     optionDefault.value=0;\r\n        //     referencia.appendChild(optionDefault)\r\n        // }\r\n        function formatearValor(valor){\r\n           \r\n            let valor_sin_formato = parseFloat(valor.replace(/,/g, ''));\r\n            if(isNaN(valor_sin_formato)){\r\n                valor_sin_formato = '';\r\n            }\r\n            const valor_formateado =  valor_sin_formato.toLocaleString('en');\r\n            return valor_formateado ;\r\n        }\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n        function limpiarHtml(referencia){\r\n            while(referencia.firstChild){\r\n                referencia.removeChild(referencia.firstChild);\r\n            }\r\n        }\r\n\r\n\r\n\r\n    }\r\n})();","(function(){\r\n    const categorias = document.querySelector('#categorias');\r\n    if(categorias){\r\n        let tablaCategorias;\r\n        let id = null;\r\n        let idCategoria = null;\r\n        let idProveedor = null;\r\n        const btnRegistrarCategoria = document.querySelector('#registrar');\r\n        const formulario = document.querySelector('#categoriaForm');\r\n        const categoria = document.querySelector('#categoria');\r\n        mostrarCategorias();\r\n\r\n\r\n\r\n        categoria.addEventListener('input',function(e){\r\n            categoria.value =  (e.target.value).toUpperCase();\r\n\r\n        })\r\n        btnRegistrarCategoria.addEventListener('click',function(){\r\n            id = null;\r\n            accionesModal();\r\n        })\r\n\r\n        \r\n        $('#tabla').on('click', '#editar', function(e){\r\n            id=e.currentTarget.dataset.categoriaId;\r\n            accionesModal();\r\n        })\r\n        $('#tabla').on('click', '#eliminar', function(e){\r\n            const idCategoria = e.currentTarget.dataset.categoriaId;\r\n            alertaEliminarCategoria(idCategoria,e);\r\n        })\r\n\r\n       \r\n     \r\n        \r\n        function alertaEliminarCategoria(id, e){\r\n  \r\n            const categoria = e.currentTarget.parentElement.parentElement.parentElement.childNodes[1].textContent;\r\n            \r\n            Swal.fire({\r\n                icon:'warning',\r\n                html: `<h2 class=\"\">esta seguro de eliminar la categora <span class=\"font-weight-bold\"> ${categoria} </span>?</h2><br><p>Esta accin no se puede deshacer</p>`,\r\n          \r\n                showCancelButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                cancelButtonText: `Cancelar`,\r\n                \r\n\r\n            }).then(result=>{\r\n                if(result.isConfirmed){\r\n                    eliminarCategoria(id)\r\n                }\r\n            })\r\n        }\r\n        async function eliminarCategoria(id){\r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n    \r\n            url = `${location.origin}/api/categoria/eliminar`;\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                \r\n                eliminarToastAnterior();\r\n            \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },8000)\r\n\r\n                 \r\n                    tablaCategorias.ajax.reload(); \r\n                }\r\n            } catch (error) { \r\n                $(document).Toasts('create', {\r\n                    class: 'bg-danger',\r\n                    title: 'Error',\r\n                 \r\n                    body: 'No es Posible eliminar la cateogora porque tiene productos  asociados'\r\n                  })\r\n\r\n                setTimeout(()=>{\r\n                    eliminarToastAnterior();\r\n                },8000)\r\n            }\r\n        }\r\n        function mostrarCategorias(){\r\n \r\n            $(\"#tabla\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaCategorias = $('#tabla').DataTable({\r\n                ajax: '/api/categorias',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true,\r\n                initComplete: function () {\r\n                    // Inicializa los botones despus de que la tabla se haya creado\r\n                    var buttons = new $.fn.dataTable.Buttons(tablaCategorias, {\r\n                        buttons: [\"copy\", \"csv\", \"excel\", \"pdf\", \"print\"]\r\n                    }).container().appendTo('#tabla_wrapper .col-md-6:eq(0)');\r\n                }\r\n            });\r\n            \r\n            // $.ajax({\r\n            //     url:'/api/categorias',\r\n            //     dataType:'json',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.resposeText)\r\n            //     }\r\n            // })\r\n       \r\n        }  \r\n        \r\n\r\n        function accionesModal(){\r\n            formulario.reset();\r\n            btnSubmit.disabled = false;\r\n            $('#modal-categoria').modal('show');\r\n            inicializarValidador();\r\n            if(id){\r\n                consultarCategoria();\r\n            }\r\n        }\r\n\r\n        async function consultarCategoria(){\r\n            try {\r\n                const respuesta = await fetch(`/api/categoria?id=${id}`);\r\n                const resultado = await respuesta.json();\r\n            \r\n             \r\n                llenarFormulario(resultado);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        function llenarFormulario(resultado){\r\n           \r\n            categoria.value = resultado.categoria;\r\n           \r\n        }\r\n         \r\n\r\n        async function enviarDatos(){\r\n            const datos = new FormData();\r\n            if(id){\r\n                datos.append('id', id)\r\n            }\r\n            datos.append('categoria', (categoria.value).trim());\r\n           \r\n         \r\n            btnSubmit.disabled = true;\r\n            let url = '';\r\n            if(id){\r\n                url = `${location.origin}/api/categoria/editar`;\r\n            }else{\r\n                url = `${location.origin}/api/categoria/crear`;\r\n            }\r\n            \r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n               \r\n              ;\r\n                eliminarToastAnterior();\r\n                btnSubmit.disabled = false;\r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n                    tablaCategorias.ajax.reload()\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },4000)\r\n\r\n                    formulario.reset();\r\n\r\n                 \r\n                    $('#modal-categoria').modal('hide');\r\n                    //tablaCategorias.ajax.reload(); \r\n                }\r\n   \r\n            } catch (error) {  \r\n            }\r\n        }\r\n\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n\r\n        function inicializarValidador() {\r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                        enviarDatos();\r\n              }\r\n            });\r\n   \r\n            \r\n             $('#categoriaForm').validate({\r\n              rules: {\r\n                categoria: {\r\n                    required: true\r\n                }\r\n              },\r\n              messages: {\r\n                categoria: {\r\n                    required: \"El nombre de la categora es obligatorio\"\r\n                }\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#categoriaForm').on('valid', function(event) {\r\n            inicializarValidador();\r\n        });\r\n    }\r\n})();","(function(){\r\n    const seccionFiados = document.querySelector('#seccion-fiados');\r\n    if(seccionFiados){\r\n\r\n        const selectClientes = document.querySelector('#selectClientes');\r\n\r\n        consultarCLientes();\r\n\r\n        async function consultarCLientes(){\r\n            \r\n            \r\n            try {\r\n                const respuesta = await fetch(`${location.origin}/api/clientes-ventas-fiadas`);\r\n                const resultado =  await respuesta.json();\r\n\r\n       \r\n               \r\n                // llenarPrimerOption(selectCategorias);\r\n                const opcionDisabled =   document.createElement('OPTION');\r\n                opcionDisabled.textContent = '--seleccione un cliente--';\r\n                opcionDisabled.value = \"0\";/*  */\r\n\r\n                selectClientes.appendChild(opcionDisabled);\r\n            \r\n                resultado.forEach(cliente => {\r\n                    \r\n                    const opcion =   document.createElement('OPTION');\r\n                    opcion.value = cliente.id;\r\n                    opcion.textContent = cliente.nombre;\r\n                   \r\n                    selectClientes.appendChild(opcion)\r\n            \r\n                });\r\n         \r\n                $('#selectClientes').select2()\r\n                $('.select2bs4').select2({\r\n                    theme: 'bootstrap4'\r\n                })\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n            $('#selectProductos').select2()\r\n            $('.select2bs4').select2({\r\n                theme: 'bootstrap4'\r\n            })\r\n        \r\n       \r\n        }  \r\n    }\r\n})();","(function () {\r\n    const seccionFiados = document.querySelector('#seccion-fiados');\r\n\r\n\r\n    if (seccionFiados) {\r\n\r\n        let datosDeuda = {\r\n            monto: 0,\r\n            deuda: 0,\r\n            saldo: 0,\r\n            venta_id: ''\r\n        }\r\n\r\n        let ventasInpagas = [];\r\n        let idCliente = '';\r\n        const btnSumitPago = document.querySelector('#btnSubmitPago');\r\n\r\n        const bodyFiados = document.querySelector('#body-fiados');\r\n\r\n        const totalDeuda = document.querySelector('#total-deuda');\r\n        const btnPagar = document.querySelector('#pagar');\r\n        const formulario = document.querySelector('#pagoForm')\r\n\r\n        const deudaActual = document.querySelector('#deuda-actual');\r\n        const btnPagarTodo = document.querySelector('#pagar-todo');\r\n        const monto = document.querySelector('#monto');\r\n        const saldoRestante = document.querySelector('#saldo-restante');\r\n\r\n        btnPagarTodo.addEventListener('click', function () {\r\n            datosDeuda.monto = datosDeuda.deuda\r\n            monto.value = parseFloat(datosDeuda.monto).toLocaleString('en');\r\n            calcularSaldoRestante()\r\n        })\r\n\r\n        monto.addEventListener('input', function (e) {\r\n\r\n            const valor = e.target.value;\r\n\r\n            let deudaSinFormat = parseFloat(valor.replace(/,/g, ''));\r\n\r\n            if (deudaSinFormat == '') {\r\n                deudaSinFormat = 0;\r\n            }\r\n            datosDeuda.monto = deudaSinFormat;\r\n            calcularSaldoRestante()\r\n            const monto_ingresado = formatearValor(valor);\r\n\r\n\r\n            monto.value = monto_ingresado;\r\n\r\n        })\r\n\r\n\r\n        $('#selectClientes').on('select2:select', function (e) {\r\n            if (e.target.value != 0) {\r\n\r\n                consultarInfoCliente(e.target.value);\r\n            } else {\r\n                //resetearCliente();\r\n            }\r\n        });\r\n        // btnPagar.addEventListener('click', function () {\r\n        //     id = null;\r\n        //     accionesModal();\r\n        // })\r\n\r\n\r\n        /* funcion para validar que el monto a pagar no sea mayor que el monto de la deuda */\r\n        function validarMontoYSaldo() {\r\n            if (datosDeuda.saldo < 0) {\r\n\r\n                return false;\r\n            }\r\n            return true\r\n        }\r\n\r\n        async function enviarDatos() {\r\n\r\n            const esValido = validarMontoYSaldo()\r\n            if (!esValido) {\r\n                Swal.fire({\r\n                    icon: 'warning',\r\n                    text: 'El monto a pagar no puede superar el valor de la deuda',\r\n                })\r\n                return;\r\n            }\r\n\r\n\r\n            const datos = new FormData();\r\n            datos.append('venta_id', datosDeuda.venta_id);\r\n            datos.append('monto', datosDeuda.monto);\r\n            btnSumitPago.disabled = true;\r\n            const url = `${location.origin}/api/pagar`;\r\n            try {\r\n                const respuesta = await fetch(url, {\r\n                    method: 'POST',\r\n                    body: datos\r\n                });\r\n                const resultado = await respuesta.json();\r\n\r\n                btnSumitPago.disabled = false;\r\n                $('#modal-pago').modal('hide');\r\n                eliminarToastAnterior();\r\n\r\n                if (resultado.type == 'error') {\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n\r\n                } else {\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n                    consultarInfoCliente(idCliente)\r\n                }\r\n                setTimeout(() => {\r\n                    eliminarToastAnterior();\r\n                }, 8000)\r\n            } catch (error) {\r\n\r\n            }\r\n\r\n        }\r\n\r\n        function calcularSaldoRestante() {\r\n            datosDeuda.saldo = datosDeuda.deuda - datosDeuda.monto;\r\n            if (isNaN(datosDeuda.saldo)) {\r\n                datosDeuda.saldo = datosDeuda.deuda;\r\n            }\r\n            saldoRestante.textContent = '$' + parseFloat(datosDeuda.saldo).toLocaleString('en')\r\n        }\r\n\r\n        function accionesModal() {\r\n\r\n            formulario.reset();\r\n\r\n            btnSumitPago.disabled = false;\r\n            console.log(datosDeuda)\r\n\r\n            deudaActual.value = parseFloat(datosDeuda.deuda).toLocaleString('en')\r\n            saldoRestante.textContent = \"$\" + parseFloat(datosDeuda.saldo).toLocaleString('en');\r\n            inicializarValidador();\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n        async function consultarInfoCliente(id) {\r\n            idCliente = id;\r\n\r\n            try {\r\n                saldoRestante.textContent = '$0';\r\n                const respuesta = await fetch(`${location.origin}/api/pagos-cuotas?id=${id}`);\r\n\r\n                const resultado = await respuesta.json();\r\n\r\n\r\n\r\n                limpiarHtml(bodyFiados);\r\n\r\n                if (resultado.ventas_fiadas.length == 0) {\r\n                    Swal.fire({\r\n                        icon: 'warning',\r\n                        text: 'No hay fiados para este cliente',\r\n                    })\r\n                    totalDeuda.textContent = 0;\r\n                    datosDeuda.deuda = 0;\r\n                    datosDeuda.monto = 0;\r\n                    datosDeuda.saldo = 0;\r\n\r\n\r\n                } else {\r\n                    const { ventas_fiadas } = resultado;\r\n                    mostrarFiados(ventas_fiadas);\r\n\r\n                }\r\n\r\n            } catch (error) {\r\n\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n        function alertaEliminarPago(pago) {\r\n\r\n\r\n            Swal.fire({\r\n                icon: 'warning',\r\n                html: `<h2 class=\"\">esta seguro de eliminar el pago nmero ${pago.payment_number} por un valor de <span class=\"font-weight-bold\"> ${(parseFloat(pago.payment_amount)).toLocaleString('en')} </span>?</h2><br><p>Esta accin no se puede deshacer</p>`,\r\n\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                cancelButtonText: `Cancelar`,\r\n\r\n\r\n            }).then(result => {\r\n                if (result.isConfirmed) {\r\n                    eliminarPago(pago)\r\n                }\r\n            })\r\n        }\r\n\r\n        async function eliminarPago(pago) {\r\n\r\n            const datos = new FormData();\r\n            datos.append('id', pago.id);\r\n            const url = `${location.origin}/api/eliminar-pago`;\r\n            try {\r\n                const respuesta = await fetch(url, {\r\n                    method: 'POST',\r\n                    body: datos\r\n                })\r\n                const resultado = await respuesta.json();\r\n\r\n\r\n\r\n                eliminarToastAnterior();\r\n\r\n                if (resultado.type == 'error') {\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n                } else {\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n                    $('#modal-pagos').modal('hide');\r\n                    consultarInfoCliente(idCliente)\r\n\r\n                }\r\n\r\n                setTimeout(() => {\r\n                    eliminarToastAnterior();\r\n                }, 8000)\r\n            } catch (error) {\r\n\r\n            }\r\n        }\r\n\r\n\r\n        function mostrarFiados(ventas_fiadas) {\r\n\r\n            let total_deuda = 0;\r\n\r\n            ventas_fiadas.forEach(venta_fiada => {\r\n\r\n                const { codigo, total_factura, recaudo, pagado } = venta_fiada;\r\n\r\n                if (pagado != 0) {\r\n                    ventasInpagas.push();\r\n                }\r\n\r\n                const tr = document.createElement('TR');\r\n\r\n                const tdCodigo = document.createElement('TD');\r\n                tdCodigo.textContent = '#' + codigo;\r\n\r\n                const tdTotal = document.createElement('TD');\r\n                tdTotal.textContent = '$' + parseFloat(total_factura).toLocaleString('en');\r\n\r\n                const tdAbono = document.createElement('TD');\r\n                tdAbono.textContent = '$' + parseFloat(recaudo).toLocaleString('en');\r\n\r\n                const tdDeuda = document.createElement('TD');\r\n                tdDeuda.textContent = '$' + parseFloat(total_factura - recaudo).toLocaleString('en');\r\n\r\n                const tdEstado = document.createElement('TD');\r\n\r\n                const divEstado = document.createElement('DIV');\r\n                divEstado.classList.add('d-flex', 'justify-content-left', 'text-center');\r\n\r\n                const btnEstado = document.createElement('BUTTON');\r\n                btnEstado.type = 'button'\r\n\r\n                btnEstado.classList.add('btn', 'w-40', 'btn-inline', 'btn-sm');\r\n\r\n                if (pagado == 0) {\r\n                    total_deuda = total_deuda + parseFloat(total_factura) - parseFloat(recaudo);\r\n                    btnEstado.textContent = 'Pendiente';\r\n                    btnEstado.classList.add('btn-danger');\r\n                } else {\r\n                    btnEstado.textContent = 'Pagado';\r\n                    btnEstado.classList.add('bg-azul', 'text-white');\r\n                }\r\n\r\n\r\n\r\n                divEstado.appendChild(btnEstado);\r\n                tdEstado.appendChild(divEstado);\r\n\r\n                const tdInfo = document.createElement('TD');\r\n                const divInfo = document.createElement('DIV');\r\n                divInfo.classList.add('d-flex', 'justify-content-start');\r\n\r\n                const btnInfo = document.createElement('BUTTON');\r\n                btnInfo.type = 'button'\r\n                btnInfo.classList.add('btn', 'btn-sm', 'bg-hover-azul', 'text-white', 'toolMio', 'mr-2');\r\n                btnInfo.innerHTML = '<span class=\"toolMio-text\">Ver venta</span><i class=\"fas fa-search\"></i>';\r\n                const btnPagos = document.createElement('BUTTON');\r\n                btnPagos.type = 'button'\r\n                btnPagos.classList.add('btn', 'btn-sm', 'bg-hover-azul', 'text-white', 'toolMio', 'mr-2');\r\n                btnPagos.innerHTML = '<span class=\"toolMio-text\">Pagos</span><i class=\"fas fa-money-bill-wave\"></i>  ';\r\n\r\n                const btnPagar = document.createElement('BUTTON');\r\n                btnPagar.type = 'button'\r\n                btnPagar.classList.add('btn', 'btn-sm', 'bg-hover-azul', 'text-white', 'toolMio');\r\n                btnPagar.innerHTML = '<span class=\"toolMio-text\">Pagar</span><i class=\"fas fa-coins\"></i>  ';\r\n\r\n                btnInfo.onclick = () => {\r\n                    consultarInfoVentaFiada(venta_fiada); //consultamos la ifnromacion de la venta normal\r\n                }\r\n                btnPagos.onclick = () => {\r\n                    cosultarPagosVentaFianda(venta_fiada); //consultamos los pagos que se han hecho a esta venta\r\n                }\r\n                btnPagar.onclick = () => {\r\n                    pagarVentaFiada(venta_fiada); //consultamos los pagos que se han hecho a esta venta\r\n                }\r\n\r\n                divInfo.appendChild(btnInfo);\r\n                divInfo.appendChild(btnPagos);\r\n                divInfo.appendChild(btnPagar);\r\n                tdInfo.appendChild(divInfo);\r\n\r\n                tr.appendChild(tdCodigo)\r\n                tr.appendChild(tdTotal)\r\n                tr.appendChild(tdAbono)\r\n                tr.appendChild(tdDeuda)\r\n                tr.appendChild(tdEstado)\r\n                tr.appendChild(tdInfo);\r\n                bodyFiados.appendChild(tr);\r\n                datosDeuda.cliente_id = venta_fiada.cliente_id;\r\n            });\r\n            totalDeuda.textContent = parseFloat(total_deuda).toLocaleString('en')\r\n            datosDeuda.deuda = total_deuda;\r\n            datosDeuda.saldo = total_deuda;\r\n\r\n        }\r\n\r\n\r\n\r\n        function mostrarInfoFiado(fiado, productos) {\r\n\r\n\r\n            const codigoVenta = document.querySelector('#codigo-venta');\r\n            const clienteVenta = document.querySelector('#cliente-venta');\r\n            const fechaVenta = document.querySelector('#fecha-venta');\r\n\r\n            const totalVenta = document.querySelector('#total-venta');\r\n            const recaudoVenta = document.querySelector('#recaudo-venta');\r\n            const saldoVenta = document.querySelector('#saldo-venta');\r\n\r\n            codigoVenta.textContent = fiado.codigo\r\n            clienteVenta.textContent = fiado.nombre_cliente\r\n            fechaVenta.textContent = fiado.fecha\r\n            totalVenta.textContent = (parseFloat(fiado.total)).toLocaleString('en');\r\n            recaudoVenta.textContent = (parseFloat(fiado.recaudo)).toLocaleString('en');\r\n            saldoVenta.textContent = (parseFloat(fiado.total - fiado.recaudo)).toLocaleString('en');\r\n\r\n            const bodyProductos = document.querySelector('#body-productos-fiados');\r\n            limpiarHtml(bodyProductos);\r\n\r\n            productos.forEach(producto => {\r\n                const { nombre, cantidad, precio } = producto\r\n                const tr = document.createElement('TR');\r\n                const tdNombre = document.createElement('td');\r\n                tdNombre.textContent = nombre;\r\n                const tdCantidad = document.createElement('td')\r\n                tdCantidad.textContent = cantidad;\r\n                const tdPrecio = document.createElement('td');\r\n                tdPrecio.textContent = (parseFloat(precio)).toLocaleString('en');\r\n                const tdSubTotal = document.createElement('td');\r\n                tdSubTotal.textContent = (parseFloat(precio * cantidad)).toLocaleString('en');\r\n\r\n\r\n                tr.appendChild(tdNombre)\r\n                tr.appendChild(tdCantidad)\r\n                tr.appendChild(tdPrecio)\r\n                tr.appendChild(tdSubTotal)\r\n\r\n                bodyProductos.appendChild(tr);\r\n            })\r\n\r\n        }\r\n\r\n        /* para mostrar los pagos relacionados a una venta */\r\n        function mostrarPagos(venta_fiada, pagos) {\r\n            const bodyPagos = document.querySelector('#body-pagos');\r\n            limpiarHtml(bodyPagos);\r\n            pagos.forEach(pago => {\r\n                const { payment_number, date, payment_amount, responsible, remaining_balance } = pago;\r\n\r\n                const tr = document.createElement('TR');\r\n\r\n                const tdPaymentNumber = document.createElement('TD');\r\n                tdPaymentNumber.textContent = '#' + payment_number;\r\n\r\n                const tdDate = document.createElement('TD');\r\n                tdDate.textContent = date;\r\n                const tdResponsible = document.createElement('TD');\r\n                tdResponsible.textContent = responsible.nombre;\r\n\r\n\r\n                const tdPaymentAmount = document.createElement('TD');\r\n                tdPaymentAmount.textContent = '$' + parseFloat(payment_amount).toLocaleString('en');\r\n\r\n                const tdRemainingaBalance = document.createElement('TD');\r\n                tdRemainingaBalance.textContent = '$' + parseFloat(remaining_balance).toLocaleString('en');\r\n\r\n\r\n\r\n                const tdActions = document.createElement('TD');\r\n                const divActions = document.createElement('DIV');\r\n                divActions.classList.add('d-flex', 'ustify-content-start');\r\n\r\n\r\n                const btnDelete = document.createElement('BUTTON');\r\n                btnDelete.type = 'button'\r\n                btnDelete.classList.add('btn', 'btn-sm', 'bg-hover-azul', 'text-white', 'toolMio');\r\n                btnDelete.innerHTML = '<span class=\"toolMio-text\">Eliminar</span><i class=\"fas fa-trash\"></i>';\r\n\r\n                btnDelete.onclick = function () {\r\n                    //eliminarPago(pago.numero_pago); //vamos a revisar que la \r\n                    alertaEliminarPago(pago);\r\n                }\r\n                // divActions.appendChild(btnInfo);\r\n                divActions.appendChild(btnDelete);\r\n                tdActions.appendChild(divActions);\r\n\r\n                tr.appendChild(tdPaymentNumber)\r\n                tr.appendChild(tdDate)\r\n                tr.appendChild(tdResponsible)\r\n                tr.appendChild(tdPaymentAmount)\r\n                tr.appendChild(tdRemainingaBalance)\r\n\r\n\r\n                tr.appendChild(tdActions);\r\n                bodyPagos.appendChild(tr);\r\n\r\n            });\r\n\r\n        }\r\n\r\n        async function consultarInfoVentaFiada(venta_fiada) {\r\n\r\n            $('#modal-info').modal('show');\r\n\r\n            try {\r\n                const respuesta = await fetch(`${location.origin}/api/productos-fiados?venta_id=${venta_fiada.id}`);\r\n                const resultado = await respuesta.json();\r\n\r\n                if (resultado.type == 'error') {\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        text: resultado.msg,\r\n                    })\r\n                } else {\r\n\r\n                    mostrarInfoFiado(venta_fiada, resultado)\r\n                }\r\n            } catch (error) {\r\n\r\n            }\r\n\r\n\r\n\r\n        }\r\n        async function cosultarPagosVentaFianda(venta_fiada) {\r\n\r\n\r\n            try {\r\n\r\n                const respuesta = await fetch(`${location.origin}/api/pagos-por-venta?venta_id=${venta_fiada.id}`);\r\n                const resultado = await respuesta.json();\r\n\r\n\r\n                if (resultado.type == 'error') {\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        text: resultado.msg,\r\n                    })\r\n                } else {\r\n\r\n                    $('#modal-pagos').modal('show');\r\n                    mostrarPagos(venta_fiada, resultado.data)\r\n                }\r\n            } catch (error) {\r\n\r\n            }\r\n\r\n        }\r\n        async function pagarVentaFiada(venta_fiada) {\r\n\r\n            const { total_factura, recaudo, id, pagado } = venta_fiada\r\n            if (pagado == 1) {\r\n                Swal.fire({\r\n                    icon: 'warning',\r\n                    text: 'Esta venta ya se encuentra pagada en su totalidad',\r\n                })\r\n            } else {\r\n                $('#modal-pago').modal('show');\r\n                datosDeuda.deuda = total_factura - recaudo\r\n                datosDeuda.saldo = total_factura - recaudo\r\n                datosDeuda.venta_id = id\r\n\r\n                accionesModal()\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n\r\n        function formatearValor(valor) {\r\n\r\n            let valor_sin_formato = parseFloat(valor.replace(/,/g, ''));\r\n            if (isNaN(valor_sin_formato)) {\r\n                valor_sin_formato = '';\r\n            }\r\n            const valor_formateado = valor_sin_formato.toLocaleString('en');\r\n            return valor_formateado;\r\n        }\r\n\r\n\r\n\r\n        function limpiarHtml(referencia) {\r\n\r\n            while (referencia.firstChild) {\r\n                referencia.removeChild(referencia.firstChild)\r\n            }\r\n        }\r\n\r\n\r\n        function inicializarValidador() {\r\n            $.validator.setDefaults({\r\n                submitHandler: function () {\r\n                    enviarDatos();\r\n                }\r\n            });\r\n\r\n            // Funcin para validar que el valor sea diferente de \"0\"\r\n            function notEqualChar(value, element, param) {\r\n                return value !== param;\r\n            }\r\n\r\n            $('#pagoForm').validate({\r\n                rules: {\r\n                    monto: {\r\n                        required: true,\r\n                        customValidation: '0' // Carcter que se debe evitar\r\n                    }\r\n                },\r\n                messages: {\r\n                    monto: {\r\n                        required: 'El monto a pagar es obligatorio',\r\n                        customValidation: 'El monto no puede ser igual a \"0\"'\r\n                    }\r\n                },\r\n                errorElement: 'span',\r\n                errorPlacement: function (error, element) {\r\n                    error.addClass('invalid-feedback');\r\n                    element.closest('.form-group').append(error);\r\n                },\r\n                highlight: function (element, errorClass, validClass) {\r\n                    $(element).addClass('is-invalid');\r\n                },\r\n                unhighlight: function (element, errorClass, validClass) {\r\n                    $(element).removeClass('is-invalid');\r\n                }\r\n            });\r\n\r\n            // Agregar la regla personalizada utilizando la funcin\r\n            $.validator.addMethod('customValidation', function (value, element) {\r\n                return notEqualChar(value, element, '0');\r\n            }, 'Este campo no puede ser igual a \"0\"');\r\n        }\r\n\r\n        function eliminarToastAnterior() {\r\n            if (document.querySelector('#toastsContainerTopRight')) {\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n\r\n        // // Llamar a la funcin de inicializacin al cargar la pgina\r\n        // $(document).ready(function () {\r\n        //     inicializarValidador();\r\n        // });\r\n\r\n        // // Volver a inicializar el validador cuando se detecta que el formulario es vlido\r\n        // $('#pagoForm').on('valid', function (event) {\r\n        //     inicializarValidador();\r\n        // });\r\n\r\n    }\r\n\r\n\r\n})();","(function(){\r\n    const categorias = document.querySelector('#clientes');\r\n    if(categorias){\r\n        let tablaClientes;\r\n        let id = null;\r\n        const btnRegistrarCliente = document.querySelector('#registrar');\r\n        const formulario = document.querySelector('#clienteForm');\r\n        const nombre = document.querySelector('#nombre');\r\n        const cedula = document.querySelector('#cedula');\r\n        const celular = document.querySelector('#celular');\r\n        const direccion = document.querySelector('#direccion');\r\n        const email = document.querySelector('#email');\r\n        mostrarClientes();\r\n \r\n\r\n        btnRegistrarCliente.addEventListener('click',function(){\r\n            id = null;\r\n            accionesModal();\r\n        })\r\n\r\n        $('#tabla').on('click', '#editar', function(e){\r\n            id=e.currentTarget.dataset.clienteId;\r\n            accionesModal();\r\n        })\r\n        $('#tabla').on('click', '#eliminar', function(e){\r\n            const idCliente = e.currentTarget.dataset.clienteId;\r\n            alertaEliminarCliente(idCliente,e);\r\n        })\r\n       \r\n        \r\n        function alertaEliminarCliente(id, e){\r\n  \r\n            const cliente = e.currentTarget.parentElement.parentElement.parentElement.childNodes[1].textContent;\r\n            \r\n            Swal.fire({\r\n                icon:'warning',\r\n                html: `<h2 class=\"\">esta seguro de eliminar al Cliente <span class=\"font-weight-bold\"> ${cliente} </span>?</h2><br><p>Esta accin no se puede deshacer</p>`,\r\n          \r\n                showCancelButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                cancelButtonText: `Cancelar`,\r\n                \r\n\r\n            }).then(result=>{\r\n                if(result.isConfirmed){\r\n                    eliminarCliente(id)\r\n                }\r\n            })\r\n        }\r\n        async function eliminarCliente(id){\r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n    \r\n            url = `${location.origin}/api/cliente/eliminar`;\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                \r\n                eliminarToastAnterior();\r\n            \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },8000)\r\n\r\n                 \r\n                    tablaClientes.ajax.reload(); \r\n                }\r\n            } catch (error) { \r\n                console.log(error) \r\n            }\r\n        }\r\n        function mostrarClientes(){\r\n      \r\n            $(\"#tabla\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaClientes = $('#tabla').DataTable({\r\n                ajax: '/api/clientes',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true,\r\n                initComplete: function () {\r\n                    // Inicializa los botones despus de que la tabla se haya creado\r\n                    var buttons = new $.fn.dataTable.Buttons(tablaClientes, {\r\n                        buttons: [\"copy\", \"csv\", \"excel\", \"pdf\", \"print\"]\r\n                    }).container().appendTo('#tabla_wrapper .col-md-6:eq(0)');\r\n                }\r\n            });\r\n            \r\n            // $.ajax({\r\n            //     url:'/api/clientes',\r\n            //     dataType:'json',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.resposeText)\r\n            //     }\r\n            // })\r\n       \r\n        }  \r\n        \r\n\r\n        function accionesModal(){\r\n            formulario.reset();\r\n            btnSubmit.disabled = false;\r\n            $('#modal-cliente').modal('show');\r\n            inicializarValidador();\r\n            if(id){\r\n                consultarCliente();\r\n            }\r\n        }\r\n\r\n        async function consultarCliente(){\r\n            try {\r\n                const respuesta = await fetch(`/api/cliente?id=${id}`);\r\n                const resultado = await respuesta.json();\r\n            \r\n             \r\n                llenarFormulario(resultado);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        function llenarFormulario(resultado){\r\n           \r\n            nombre.value = resultado.nombre;\r\n            cedula.value = resultado.cedula;\r\n            celular.value = resultado.celular;\r\n            direccion.value = resultado.direccion;\r\n            email.value = resultado.email;\r\n           \r\n        }\r\n         \r\n\r\n        async function enviarDatos(){\r\n            const datos = new FormData();\r\n            if(id){\r\n                datos.append('id', id)\r\n            }\r\n            datos.append('nombre', (nombre.value).trim());\r\n            datos.append('cedula', (cedula.value));\r\n            datos.append('celular', (celular.value));\r\n            datos.append('direccion', (direccion.value).trim());\r\n            datos.append('email', (email.value).trim());\r\n           \r\n            \r\n            btnSubmit.disabled = true;\r\n\r\n      \r\n            let url = '';\r\n            if(id){\r\n                url = `${location.origin}/api/cliente/editar`;\r\n            }else{\r\n                url = `${location.origin}/api/cliente/crear`;\r\n            }\r\n            \r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n               \r\n              \r\n                eliminarToastAnterior();\r\n                btnSubmit.disabled = false;\r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n                    tablaClientes.ajax.reload()\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },4000)\r\n\r\n                    formulario.reset();\r\n\r\n                    $('#modal-cliente').modal('hide');\r\n         \r\n                }\r\n   \r\n            } catch (error) {  \r\n            }\r\n        }\r\n\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n\r\n        function inicializarValidador() {\r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                        enviarDatos();\r\n              }\r\n            });\r\n      \r\n           \r\n             $('#clienteForm').validate({\r\n              rules: {\r\n                nombre: {\r\n                    required: true,\r\n                    minlength: 6   \r\n                },\r\n                cedula: {\r\n                 \r\n                    digits:true,\r\n                    minlength: 6   \r\n                },\r\n                celular: {\r\n                \r\n                    digits:true,\r\n                    rangelength: [10, 10]   \r\n                },\r\n                email:{\r\n                    email:true,\r\n                }\r\n\r\n              },\r\n              messages: {\r\n                nombre: {\r\n                    required: \"El nombre es obligatorio\",\r\n                    minlength: \"Debe tener al menos 6 caracteres\"   \r\n                },\r\n                cedula: {\r\n                 \r\n                    digits: \"Solo valores nmericos\",\r\n                    minlength:  \"Debe tener al menos 6 numeros\",\r\n                },\r\n                celular: {\r\n                 \r\n                    digits:\"solo valores numericos\",\r\n                    rangelength: \"Debe contener 10 nmeros\" \r\n                },\r\n               \r\n                email:{\r\n                    email:\"el email no es valido\"\r\n                }\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#clienteForm').on('valid', function(event) {\r\n            inicializarValidador();\r\n        });\r\n    }\r\n})();","(function () {\r\n    const inicio = document.querySelector('#inicio');\r\n    if (inicio) {\r\n\r\n        const total_ventas = document.querySelector('#inicio_total_ventas')\r\n        const total_recuados = document.querySelector('#inicio_total_recaudos')\r\n        const costos = document.querySelector('#inicio_costos')\r\n        const ganancia_no_realizada = document.querySelector('#inicio_ganancia_no_realizada')\r\n        const ganancia_realizada = document.querySelector('#inicio_ganancia_realizada')\r\n        const inventario = document.querySelector('#inicio_inventario')\r\n        const numero_ventas = document.querySelector('#inicio_numero_ventas')\r\n        const numero_fiados = document.querySelector('#inicio_numero_fiados')\r\n        const numero_pagos = document.querySelector('#inicio_numero_pagos')\r\n        const numero_cajas = document.querySelector('#inicio_numero_cajas')\r\n        const numero_productos = document.querySelector('#inicio_numero_productos')\r\n        const numero_clientes = document.querySelector('#inicio_numero_clientes')\r\n\r\n\r\n\r\n        cargarInformacion();\r\n\r\n        function mostrarInfo(resultado) {\r\n           \r\n\r\n\r\n            total_ventas.textContent = resultado.total_ventas\r\n            total_recuados.textContent = resultado.total_recaudos\r\n            costos.textContent = resultado.costos\r\n            ganancia_no_realizada.textContent = resultado.ganancia_no_realizada\r\n            ganancia_realizada.textContent = resultado.ganancia_realizada\r\n            inventario.textContent = resultado.inventario\r\n            numero_ventas.textContent = resultado.numero_ventas\r\n            numero_fiados.textContent = resultado.numero_fiados\r\n            numero_pagos.textContent = resultado.numero_pagos\r\n            numero_cajas.textContent = resultado.numero_cajas\r\n            numero_productos.textContent = resultado.numero_productos\r\n            numero_clientes.textContent = resultado.numero_clientes\r\n       \r\n\r\n        }\r\n\r\n        async function cargarInformacion() {\r\n            const url = `${location.origin}/api/inicio`;\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n                mostrarInfo(resultado);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n    }\r\n})();","(function () {\r\n    const ventas = document.querySelector('#mercadolibre');\r\n    if (ventas) {\r\n\r\n        $('#tabla').on('click', '#info', function (e) {\r\n            const ventaId = e.currentTarget.dataset.ventaId;\r\n            \r\n            consultarInfoVenta(ventaId);\r\n        })\r\n        async function consultarInfoVenta(id) {\r\n            $('#modal-info').modal('show');\r\n\r\n            const url = `${location.origin}/api/venta?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n                mostrarInfoVenta(resultado);\r\n            } catch (error) {\r\n\r\n            }\r\n\r\n\r\n\r\n        }\r\n\r\n        function mostrarInfoVenta(resultado) {\r\n            const { productos_venta , venta} = resultado\r\n      \r\n            const codigoVenta = document.querySelector('#codigo-venta');\r\n            const clienteVenta = document.querySelector('#cliente-venta');\r\n            const fechaVenta = document.querySelector('#fecha-venta');\r\n\r\n            const totalVenta = document.querySelector('#total-venta');\r\n            const totalVentaSinComision = document.querySelector('#total-sin-comision');\r\n            const recaudoVenta = document.querySelector('#recaudo-venta');\r\n            const saldoVenta = document.querySelector('#saldo-venta');\r\n            const metodoVenta = document.querySelector('#metodo-venta');\r\n            const estadoVenta = document.querySelector('#estado-venta');\r\n            \r\n            codigoVenta.textContent = venta.codigo\r\n            clienteVenta.textContent = venta.nombre_cliente\r\n            fechaVenta.textContent = venta.fecha\r\n            totalVenta.textContent = (parseFloat(venta.total_factura)).toLocaleString('en');\r\n            totalVentaSinComision.textContent = (parseFloat(venta.total)).toLocaleString('en');\r\n            recaudoVenta.textContent = (parseFloat(venta.recaudo)).toLocaleString('en');\r\n            saldoVenta.textContent = (parseFloat(venta.total_factura - venta.recaudo)).toLocaleString('en');\r\n\r\n         \r\n            if(venta.metodo_pago==2){\r\n                metodoVenta.textContent = 'Fiado'\r\n            }\r\n            if(venta.metodo_pago==3){\r\n                metodoVenta.textContent = 'Mercado Libre'\r\n            }\r\n            if(venta.metodo_pago==1){\r\n                metodoVenta.textContent = 'De Contado'\r\n            }\r\n            if(estadoVenta.classList.contains('text-danger')){\r\n                estadoVenta.classList.remove('text-danger')\r\n            }\r\n            if(estadoVenta.classList.contains('text-success')){\r\n                estadoVenta.classList.remove('text-success')\r\n            }\r\n            if(venta.estado==0){\r\n                estadoVenta.textContent = 'Pendiente'\r\n                estadoVenta.classList.add('text-danger')\r\n            }else{\r\n                estadoVenta.textContent = 'Pagado'\r\n                estadoVenta.classList.add('text-success')\r\n            }\r\n\r\n            \r\n            const bodyProductos = document.querySelector('#body-productos-venta');\r\n            limpiarHtml(bodyProductos);\r\n\r\n         \r\n\r\n         \r\n            productos_venta.forEach(producto => {\r\n                const { nombre, cantidad, precio } = producto\r\n                const tr = document.createElement('TR');\r\n                const tdNombre = document.createElement('td');\r\n                tdNombre.textContent = nombre;\r\n                const tdCantidad = document.createElement('td')\r\n                tdCantidad.textContent = cantidad;\r\n                const tdPrecio = document.createElement('td');\r\n                tdPrecio.textContent = (parseFloat(precio)).toLocaleString('en');\r\n                const tdSubTotal = document.createElement('td');\r\n                tdSubTotal.textContent = (parseFloat(precio * cantidad)).toLocaleString('en');\r\n\r\n\r\n                tr.appendChild(tdNombre)\r\n                tr.appendChild(tdCantidad)\r\n                tr.appendChild(tdPrecio)\r\n                tr.appendChild(tdSubTotal)\r\n\r\n                bodyProductos.appendChild(tr);\r\n            })\r\n            \r\n        }\r\n        function limpiarHtml(referencia) {\r\n\r\n            while (referencia.firstChild) {\r\n                referencia.removeChild(referencia.firstChild)\r\n            }\r\n        }\r\n    }\r\n})();","(function(){\r\n    const mercadolibre = document.querySelector('#mercadolibre');\r\n    if(mercadolibre){\r\n\r\n        let tablaMercadoLibre\r\n\r\n         pagosAuto();\r\n         mostrarVentas()\r\n\r\n        async function pagosAuto(){\r\n       \r\n            try {\r\n                const respuesta = await fetch(`${location.origin}/api/pagos-auto`);\r\n                // const resultado = await respuesta.json();\r\n        \r\n               \r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n\r\n        function mostrarVentas(){\r\n \r\n            $(\"#tabla\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaMercadoLibre = $('#tabla').DataTable({\r\n                ajax: '/api/mercadolibre',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true,\r\n                initComplete: function () {\r\n                    // Inicializa los botones despus de que la tabla se haya creado\r\n                    var buttons = new $.fn.dataTable.Buttons(tablaMercadoLibre, {\r\n                        buttons: [\"copy\", \"csv\", \"excel\", \"pdf\", \"print\"]\r\n                    }).container().appendTo('#tabla_wrapper .col-md-6:eq(0)');\r\n                }\r\n            });\r\n            \r\n            // $.ajax({\r\n            //     url:'/api/mercadolibre',\r\n            //     dataType:'json',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.resposeText)\r\n            //     }\r\n            // })\r\n       \r\n        }  \r\n        \r\n    }\r\n})();","(function () {\r\n    const productos_vendidos = document.querySelector('#productos-vendidos');\r\n    if (productos_vendidos) {\r\n\r\n        let tablaProductosVendidos;\r\n        const input_fecha_inicial = document.querySelector('#fecha-inicial');\r\n        const input_fecha_final = document.querySelector('#fecha-final');\r\n\r\n        const fecha_actual = new Date();\r\n\r\n\r\n        let fecha_final = fecha_actual.getFullYear() + '-' + ('0' + (fecha_actual.getMonth() + 1)).slice(-2) + '-' + ('0' + fecha_actual.getDate()).slice(-2);\r\n        // Obtener la fecha actual restada un mes\r\n        fecha_actual.setMonth(fecha_actual.getMonth() - 1);\r\n        let fecha_inicial = fecha_actual.getFullYear() + '-' + ('0' + (fecha_actual.getMonth() + 1)).slice(-2) + '-' + ('0' + fecha_actual.getDate()).slice(-2);\r\n\r\n\r\n        cargarInputs();\r\n        document.addEventListener(\"DOMContentLoaded\", function () {\r\n\r\n\r\n            input_fecha_inicial.addEventListener('change', function () {\r\n                fecha_final = input_fecha_final.value;\r\n                fecha_inicial = input_fecha_inicial.value;\r\n                consultarProductosVendidos()\r\n            })\r\n            input_fecha_final.addEventListener('change', function () {\r\n                fecha_final = input_fecha_final.value;\r\n                fecha_inicial = input_fecha_inicial.value;\r\n                consultarProductosVendidos()\r\n            })\r\n\r\n            // consultarProductosVendidos();\r\n\r\n        });\r\n\r\n        function cargarInputs() {\r\n            input_fecha_inicial.value = fecha_inicial\r\n            input_fecha_final.value = fecha_final\r\n            consultarProductosVendidos()\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        function consultarProductosVendidos() {\r\n\r\n\r\n            const fechaObjeto_1 = new Date(fecha_inicial);\r\n            const fechaObjeto_2 = new Date(fecha_final);\r\n\r\n            if (fechaObjeto_1 >= fechaObjeto_2) {\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: \"Error\",\r\n                    text: \"La fecha inicial debe ser menor que la fecha final\",\r\n\r\n                });\r\n                return;\r\n            } else {\r\n                const datos = new FormData();\r\n                datos.append(\"fecha_inicial\", fecha_inicial);\r\n                datos.append(\"fecha_final\", fecha_final);\r\n\r\n                $(\"#tabla\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n\r\n                tablaProductosVendidos = $('#tabla').DataTable({\r\n                    ajax: {\r\n                        url: `${location.origin}/api/productos-vendidos?fecha-inicial=${fecha_inicial}&fecha-final=${fecha_final}`,\r\n                        dataFilter: function (data) {\r\n                            const jsonData = JSON.parse(data);\r\n                            let newJson = [];\r\n                            let newArray = [];\r\n                            const datos = jsonData.data;\r\n                            console.log(datos)\r\n                            // Iterar sobre los datos y sumar las cantidades por ID de producto\r\n                            datos.forEach(function (row, index) {\r\n                                let idProducto = row[1]; // Obtener el ID del producto\r\n                                let cantidad = parseInt(row[4]) // Obtener la cantidad (convertida a nmero)\r\n                                if (newJson.length > 0) {\r\n                                    let existe = false;\r\n                                    newJson.forEach((producto, indexProducto) => {\r\n                                            if(producto[1]==row[1]){\r\n                                                newJson[indexProducto][4] =  parseInt(newJson[indexProducto][4]) + parseInt(row[4]);\r\n                                                newJson[indexProducto][6] = parseInt(newJson[indexProducto][4])*parseInt(newJson[indexProducto][5])\r\n                                                existe = true;\r\n                                            }\r\n                                        }\r\n                                    )\r\n                                    if(existe == false){\r\n                                        newJson.push(row);\r\n                                    }\r\n                                } else {\r\n                                    newJson.push(row);\r\n                                }\r\n\r\n                               \r\n\r\n\r\n\r\n                                // // Sumar la cantidad al total correspondiente al ID de producto\r\n                                // if (sumasPorProducto.hasOwnProperty(idProducto)) {\r\n                                //     sumasPorProducto[idProducto] += cantidad;\r\n                                // } else {\r\n                                //     sumasPorProducto[idProducto] = cantidad;\r\n                                // }\r\n                            });\r\n                            console.log(newJson);\r\n\r\n                            // Crear un nuevo arreglo de datos con los totales por ID de producto\r\n\r\n                            // let nuevosDatos = [];\r\n                            // Object.keys(sumasPorProducto).forEach(function (idProducto) {\r\n                            //     nuevosDatos.push([idProducto, sumasPorProducto[idProducto]]);\r\n                            // });\r\n\r\n\r\n                            // Devolver los datos procesados como una cadena JSON\r\n                            return JSON.stringify({ data: newJson });\r\n                        }\r\n                    },\r\n                    \"deferRender\": true,\r\n                    \"retrieve\": true,\r\n                    \"proccesing\": true,\r\n                    responsive: true,\r\n                    initComplete: function () {\r\n                        // Inicializa los botones despus de que la tabla se haya creado\r\n                        var buttons = new $.fn.dataTable.Buttons(tablaProductosVendidos, {\r\n                            buttons: [\"copy\", \"csv\", \"excel\", \"pdf\", \"print\", \"colvis\"]\r\n                        }).container().appendTo('#tabla_wrapper .col-md-6:eq(0)');\r\n                    }\r\n                });\r\n                // tablaProductosVendidos = $('#tabla').DataTable({\r\n                //     ajax: `${location.origin}/api/productos-vendidos?fecha-inicial=${fecha_inicial}&fecha-final=${fecha_final}`,\r\n                //     \"deferRender\":true,\r\n                //     \"retrieve\":true,\r\n                //     \"proccesing\":true,\r\n                //     responsive:true,\r\n                //     initComplete: function () {\r\n                //         // Inicializa los botones despus de que la tabla se haya creado\r\n                //         var buttons = new $.fn.dataTable.Buttons(tablaProductosVendidos, {\r\n                //             buttons: [\"copy\", \"csv\", \"excel\", \"pdf\", \"print\", \"colvis\"]\r\n                //         }).container().appendTo('#tabla_wrapper .col-md-6:eq(0)');\r\n                //     }\r\n                // });\r\n                $.ajax({\r\n\r\n                    url: `${location.origin}/api/productos-vendidos?fecha-inicial=${fecha_inicial}&fecha-final=${fecha_final}`,\r\n\r\n                    dataType: 'json',\r\n                    success: function (req) {\r\n                         console.log(req)\r\n\r\n                    },\r\n                    error: function (error) {\r\n                        console.log(error.resposeText)\r\n                    }\r\n\r\n                })\r\n\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n        function calcularNuevoPrecioCompra() {\r\n            precio_compra_nuevo.value = '';\r\n\r\n            const precio_paquete = parseFloat((precio_paquete_nuevo.value).replace(/,/g, ''));\r\n            const unidades = parseFloat(unidades_input_nuevo.value);\r\n            if (isNaN(precio_paquete) || isNaN(unidades)) {\r\n                return;\r\n            }\r\n            const precio_compra = precio_paquete / unidades;\r\n            precio_compra_nuevo.value = (Math.round(precio_compra)).toLocaleString('en')\r\n        }\r\n\r\n        function formatearValor(valor) {\r\n\r\n            let valor_sin_formato = parseFloat(valor.replace(/,/g, ''));\r\n            if (isNaN(valor_sin_formato)) {\r\n                valor_sin_formato = '';\r\n            }\r\n            const valor_formateado = valor_sin_formato.toLocaleString('en');\r\n            return valor_formateado;\r\n        }\r\n        async function enviarDatosStock() {\r\n            const datos = new FormData();\r\n\r\n            datos.append('id', idProductoActualizarStock)\r\n            datos.append('stock', (nuevo_stock.value));\r\n            datos.append('precio_compra', (precio_compra_nuevo.value));\r\n\r\n            btnSubmitNewStock.disabled = true;\r\n\r\n            const url = `${location.origin}/api/producto/editar-stock`;\r\n\r\n\r\n\r\n            try {\r\n                const respuesta = await fetch(url, {\r\n                    body: datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n\r\n\r\n                eliminarToastAnterior();\r\n\r\n                btnSubmitNewStock.disabled = false;\r\n\r\n                if (resultado.type == 'error') {\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n                } else {\r\n\r\n                    $(\"#tabla\").DataTable().ajax.reload();\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(() => {\r\n                        eliminarToastAnterior();\r\n                    }, 4000)\r\n\r\n                    formularioStock.reset();\r\n\r\n                    $('#modal-stock').modal('hide');\r\n\r\n                }\r\n\r\n            } catch (error) {\r\n            }\r\n        }\r\n\r\n        function inicializarValidadorStock(id) {\r\n            $.validator.setDefaults({\r\n                submitHandler: function () {\r\n                    enviarDatosStock()\r\n\r\n                }\r\n            });\r\n\r\n            $('#stockForm').validate({\r\n                rules: {\r\n\r\n\r\n                    nuevo_stock: {\r\n                        required: true\r\n                    },\r\n\r\n                    precio_compra_nuevo: {\r\n                        required: true\r\n                    }\r\n                },\r\n                messages: {\r\n                    nuevo_stock: {\r\n                        required: \"El nombre es obligatorio\"\r\n                    },\r\n                    precio_compra_nuevo: {\r\n                        required: 'la nueva cantidad adquirida es obligatoria'\r\n                    }\r\n\r\n                },\r\n                errorElement: 'span',\r\n                errorPlacement: function (error, element) {\r\n                    error.addClass('invalid-feedback');\r\n                    element.closest('.form-group').append(error);\r\n                },\r\n                highlight: function (element, errorClass, validClass) {\r\n                    $(element).addClass('is-invalid');\r\n                },\r\n                unhighlight: function (element, errorClass, validClass) {\r\n                    $(element).removeClass('is-invalid');\r\n                }\r\n            });\r\n        };\r\n        $('#stockForm').on('valid', function (event) {\r\n            inicializarValidadorStock();\r\n        });\r\n        function eliminarToastAnterior() {\r\n            if (document.querySelector('#toastsContainerTopRight')) {\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n    }\r\n})();","(function(){\r\n    const pagos = document.querySelector('#pagos');\r\n    if(pagos){\r\n   \r\n\r\n\r\n        let tablaProductos;\r\n    \r\n\r\n        mostrarProductos();\r\n\r\n        function mostrarProductos(){\r\n      \r\n           $(\"#tabla\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaProductos = $('#tabla').DataTable({\r\n                language: {\r\n                    \"decimal\": \"\",\r\n                    \"emptyTable\": \"No hay informacin\",\r\n                    \"info\": \"Mostrando _START_ a _END_ de _TOTAL_ Entradas\",\r\n                    \"infoEmpty\": \"Mostrando 0 to 0 of 0 Entradas\",\r\n                    \"infoFiltered\": \"(Filtrado de _MAX_ total entradas)\",\r\n                    \"infoPostFix\": \"\",\r\n                    \"thousands\": \",\",\r\n                    \"lengthMenu\": \"Mostrar _MENU_ Entradas\",\r\n                    \"loadingRecords\": \"Cargando...\",\r\n                    \"processing\": \"Procesando...\",\r\n                    \"search\": \"Buscar:\",\r\n                    \"zeroRecords\": \"Sin resultados encontrados\",\r\n                    \"paginate\": {\r\n                        \"first\": \"Primero\",\r\n                        \"last\": \"Ultimo\",\r\n                        \"next\": \"Siguiente\",\r\n                        \"previous\": \"Anterior\"\r\n                    }\r\n                },\r\n                ajax: '/api/pagos',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n                \r\n            });\r\n      \r\n            // $.ajax({\r\n            //     url:'/api/pagos',\r\n            //     dataType:'json',\r\n            //     success:function(req){\r\n            //         console.log('consulado req')\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //          console.log('consulado erros')\r\n            //         console.log(error)\r\n            //     }\r\n            // })\r\n       \r\n        }  \r\n\r\n        /* consultar Categorias */\r\n     \r\n    \r\n    \r\n\r\n     \r\n\r\n\r\n     \r\n\r\n    \r\n       \r\n\r\n\r\n    }\r\n})();","(function(){\r\n    const loginForm = document.querySelector('#loginForm');\r\n\r\n    if(loginForm){\r\n\r\n        const email =  document.querySelector('#email');\r\n        const password =  document.querySelector('#password');\r\n        const btnSubmit = document.querySelector('#btnSubmit');\r\n        inicializarValidador();\r\n\r\n\r\n        async function enviarDatos(){\r\n            btnSubmit.disabled=true;\r\n            const datos = new FormData();\r\n            datos.append('email', (email.value).trim())\r\n            datos.append('password', password.value);\r\n            \r\n            try {\r\n                const url = '/api/usuario/login';\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method:'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                elimiarToastAnterior();\r\n                if(resultado.type=='error'){\r\n                    btnSubmit.disabled=false;\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n                    window.location.href = '/inicio'\r\n                }\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n        function elimiarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n\r\n        function inicializarValidador() {\r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                 \r\n                enviarDatos();\r\n                    \r\n              }\r\n            });\r\n    \r\n             $('#loginForm').validate({\r\n              rules: {\r\n               \r\n                email: {\r\n                  required: true\r\n                },\r\n                password:{\r\n                    required: true,\r\n                }\r\n              },\r\n              messages: {\r\n               \r\n                email: {\r\n                  required: \"El usuario es obligatorio\"\r\n                },\r\n                password: {\r\n                    required: \"El password es obligatorio\",\r\n                }\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#loginForm').on('valid', function(event) {\r\n            inicializarValidador();\r\n        });\r\n    }\r\n})();","\r\n\r\n(function () {\r\n\r\n    const usuarios = document.querySelector('#usuarios');\r\n    if (usuarios) {\r\n\r\n\r\n        let tablaUsuarios; //para el datatable\r\n        let id = null; //si tengo id es update si no lo tengo es create\r\n\r\n        const btnRegistrarUsuario = document.querySelector('#registrar');\r\n        const formulario = document.querySelector('#usuarioForm');\r\n        const btnSubmit = document.querySelector('#btnSubmit');\r\n        const nombre = document.querySelector('#nombre')\r\n        const email = document.querySelector('#email')\r\n        const estado = document.querySelector('#estado')\r\n        const roll = document.querySelector('#roll')\r\n        const password = document.querySelector('#password');\r\n\r\n\r\n        //disparamos el modal\r\n        btnRegistrarUsuario.addEventListener('click', function () {\r\n            id = null;\r\n            accionesModal();\r\n        })\r\n\r\n        nombre.addEventListener('input', function (e) {\r\n            nombre.value = (e.target.value).toUpperCase();\r\n\r\n        })\r\n\r\n        mostrarUsuarios();\r\n\r\n\r\n\r\n        // function mostrarUsuarios(){\r\n\r\n        //     $(\"#tabla\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n\r\n        //     tablaUsuarios = $('#tabla').DataTable({\r\n        //         ajax: '/api/usuarios',\r\n        //         \"deferRender\":true,\r\n        //         \"retrieve\":true,\r\n        //         \"proccesing\":true,\r\n        //         responsive:true,\r\n\r\n        //     });\r\n\r\n        // }  \r\n        function mostrarUsuarios() {\r\n            if ($.fn.DataTable.isDataTable('#tabla')) {\r\n                $('#tabla').DataTable().destroy();\r\n            }\r\n\r\n            tablaUsuarios = $('#tabla').DataTable({\r\n                processing: true,\r\n                serverSide: true,\r\n                ajax: {\r\n                    url: '/api/usuarios',\r\n                    type: 'GET'\r\n                },\r\n                responsive: true\r\n            });\r\n        }\r\n\r\n\r\n\r\n        $('#tabla').on('click', '#editar', function (e) {\r\n            id = e.currentTarget.dataset.usuarioId;\r\n            accionesModal();\r\n        })\r\n        $('#tabla').on('click', '#eliminar', function (e) {\r\n            const idUsuario = e.currentTarget.dataset.usuarioId;\r\n            alertaEliminarUsuario(idUsuario, e);\r\n        })\r\n\r\n\r\n\r\n        function alertaEliminarUsuario(id, e) {\r\n            const nombre = e.currentTarget.parentElement.parentElement.parentElement.childNodes[1].textContent;\r\n            Swal.fire({\r\n                icon: 'warning',\r\n                html: `<h2 class=\"\">esta seguro de eliminar al usuario <span class=\"font-weight-bold\"> ${nombre} </span>?</h2><br><p>Esta accin no se puede deshacer</p>`,\r\n\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                cancelButtonText: `Cancelar`,\r\n\r\n\r\n            }).then(result => {\r\n                if (result.isConfirmed) {\r\n                    eliminarUsuario(id)\r\n                }\r\n            })\r\n        }\r\n\r\n        async function eliminarUsuario(id) {\r\n            const datos = new FormData();\r\n            datos.append('id', id)\r\n            url = `${location.origin}/api/usuario/eliminar`;\r\n            try {\r\n                const respuesta = await fetch(url, {\r\n                    body: datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n\r\n\r\n\r\n                eliminarToastAnterior();\r\n\r\n                if (resultado.type == 'error') {\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n                } else {\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(() => {\r\n                        eliminarToastAnterior();\r\n                    }, 8000)\r\n\r\n\r\n                    tablaUsuarios.ajax.reload();\r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        function accionesModal() {\r\n            $('#usuarioForm').validate().destroy();\r\n            formulario.reset();\r\n            btnSubmit.disabled = false;\r\n\r\n            limpiarSelect(estado)\r\n            limpiarSelect(roll)\r\n\r\n            const optionDisabledEstado = document.createElement('OPTION');\r\n            optionDisabledEstado.setAttribute('disabled', 'disabled')\r\n            optionDisabledEstado.setAttribute('selected', 'selected')\r\n            optionDisabledEstado.textContent = '--Seleccione--';\r\n\r\n            const optionEstado = document.createElement('OPTION');\r\n            optionEstado.value = 0;\r\n            optionEstado.textContent = 'Inactivo';\r\n            const optionEstado1 = document.createElement('OPTION');\r\n            optionEstado1.value = 1;\r\n            optionEstado1.textContent = 'Activo';\r\n\r\n            const optionDisabledRoll = document.createElement('OPTION');\r\n            optionDisabledRoll.setAttribute('disabled', 'disabled')\r\n            optionDisabledRoll.setAttribute('selected', 'selected')\r\n            optionDisabledRoll.textContent = '--Seleccione--';\r\n\r\n            const optionRoll = document.createElement('OPTION');\r\n            optionRoll.value = 0;\r\n            optionRoll.textContent = 'Vendedor';\r\n            const optionRoll1 = document.createElement('OPTION');\r\n            optionRoll1.value = 1;\r\n            optionRoll1.textContent = 'Administrador';\r\n\r\n            estado.appendChild(optionDisabledEstado)\r\n            estado.appendChild(optionEstado)\r\n            estado.appendChild(optionEstado1)\r\n            roll.appendChild(optionDisabledRoll)\r\n            roll.appendChild(optionRoll)\r\n            roll.appendChild(optionRoll1)\r\n\r\n            $('#modal-usuario').modal('show');\r\n            inicializarValidador();\r\n            if (id) {\r\n                consultarUsuario();\r\n            }\r\n        }\r\n\r\n        async function consultarUsuario() {\r\n            try {\r\n                const respuesta = await fetch(`/api/usuario?id=${id}`);\r\n                const resultado = await respuesta.json();\r\n                llenarFormulario(resultado);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        function llenarFormulario(resultado) {\r\n\r\n\r\n            nombre.value = resultado.nombre;\r\n            email.value = resultado.email;\r\n\r\n            const optionEstado = estado.querySelector('option[value=\"' + resultado.estado + '\"]');\r\n            optionEstado.setAttribute(\"selected\", \"selected\");\r\n            const optionRoll = roll.querySelector('option[value=\"' + resultado.roll + '\"]');\r\n            optionRoll.setAttribute(\"selected\", \"selected\");\r\n\r\n        }\r\n\r\n\r\n        async function enviarDatos() {\r\n\r\n            const datos = new FormData();\r\n            if (id) {\r\n                datos.append('id', id)\r\n            }\r\n            datos.append('nombre', (nombre.value).trim());\r\n            datos.append('email', email.value);\r\n            datos.append('estado', estado.value);\r\n            datos.append('roll', roll.value);\r\n            datos.append('password', password.value);\r\n\r\n            btnSubmit.disabled = true;\r\n            let url = '';\r\n            if (id) {\r\n                url = `${location.origin}/api/usuario/editar`;\r\n            } else {\r\n                url = `${location.origin}/api/usuario/crear`;\r\n            }\r\n\r\n\r\n            try {\r\n                const respuesta = await fetch(url, {\r\n                    body: datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                //(Object.keys(resultado)[0])\r\n                console.log(resultado)\r\n                btnSubmit.disabled = false;\r\n                eliminarToastAnterior();\r\n                btnSubmit.disabled = false;\r\n                if (resultado.type == 'error') {\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n                } else {\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-primary',\r\n                        title: 'Completado',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(() => {\r\n                        eliminarToastAnterior();\r\n                    }, 4000)\r\n\r\n                    formulario.reset();\r\n\r\n                    $('#modal-usuario').modal('hide');\r\n                    tablaUsuarios.ajax.reload();\r\n                }\r\n\r\n            } catch (error) {\r\n            }\r\n        }\r\n\r\n\r\n\r\n        function eliminarToastAnterior() {\r\n            if (document.querySelector('#toastsContainerTopRight')) {\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n        function limpiarSelect(referencia) {\r\n\r\n            while (referencia.firstChild) {\r\n                referencia.removeChild(referencia.firstChild)\r\n            }\r\n\r\n        }\r\n        function inicializarValidador() {\r\n            $.validator.setDefaults({\r\n                submitHandler: function () {\r\n\r\n                    enviarDatos();\r\n\r\n\r\n\r\n                }\r\n            });\r\n            let passwordRules = {}\r\n            let passwordMsg = {}\r\n\r\n            if (!id) {\r\n\r\n                passwordRules = {\r\n                    required: true,\r\n                    minlength: 6\r\n                }\r\n                passwordMsg = {\r\n                    required: \"El password es obligatorio\",\r\n                    minlength: \"El Password debe tener al menos 6 caracteres\"\r\n                }\r\n\r\n            }\r\n\r\n            $('#usuarioForm').validate({\r\n                rules: {\r\n                    nombre: {\r\n                        required: true\r\n                    },\r\n                    email: {\r\n                        required: true\r\n                    },\r\n                    estado: {\r\n                        required: true,\r\n                    },\r\n                    roll: {\r\n                        required: true,\r\n                    },\r\n                    password: passwordRules,\r\n                    terms: {\r\n                        required: true\r\n                    },\r\n                },\r\n                messages: {\r\n                    nombre: {\r\n                        required: \"El nombre es obligatorio\"\r\n                    },\r\n                    email: {\r\n                        required: \"El Usuario es obligatorio\"\r\n                    },\r\n                    estado: {\r\n                        required: 'el estado es obligatorio',\r\n                    },\r\n                    roll: {\r\n                        required: 'el Roll es obligatorio',\r\n                    },\r\n                    password: passwordMsg\r\n                },\r\n                errorElement: 'span',\r\n                errorPlacement: function (error, element) {\r\n                    error.addClass('invalid-feedback');\r\n                    element.closest('.form-group').append(error);\r\n                },\r\n                highlight: function (element, errorClass, validClass) {\r\n                    $(element).addClass('is-invalid');\r\n                },\r\n                unhighlight: function (element, errorClass, validClass) {\r\n                    $(element).removeClass('is-invalid');\r\n                }\r\n            });\r\n        };\r\n        $('#usuarioForm').on('valid', function (event) {\r\n            inicializarValidador();\r\n        });\r\n    }\r\n})();\r\n\r\n","(function(){\r\n    const categorias = document.querySelector('#proveedores');\r\n    if(categorias){\r\n        let tablaProveedores;\r\n        let id = null;\r\n        const btnRegistrarProvedor = document.querySelector('#registrar');\r\n        const formulario = document.querySelector('#proveedorForm');\r\n        const nombre = document.querySelector('#nombre');\r\n        const cedula = document.querySelector('#cedula');\r\n        const celular = document.querySelector('#celular');\r\n        const direccion = document.querySelector('#direccion');\r\n        const email = document.querySelector('#email');\r\n        mostrarProveedores();\r\n\r\n        nombre.addEventListener('input',function(e){\r\n            nombre.value =  (e.target.value).toUpperCase();\r\n\r\n        })\r\n\r\n        btnRegistrarProvedor.addEventListener('click',function(){\r\n            id = null;\r\n            accionesModal();\r\n        })\r\n\r\n        $('#tabla').on('click', '#editar', function(e){\r\n            id=e.currentTarget.dataset.proveedorId;\r\n            accionesModal();\r\n        })\r\n        $('#tabla').on('click', '#eliminar', function(e){\r\n            const idProveedor = e.currentTarget.dataset.proveedorId;\r\n            alertaEliminarProveedor(idProveedor,e);\r\n        })\r\n\r\n        \r\n     \r\n        \r\n        function alertaEliminarProveedor(id, e){\r\n  \r\n            const proveedor = e.currentTarget.parentElement.parentElement.parentElement.childNodes[1].textContent;\r\n            \r\n            Swal.fire({\r\n                icon:'warning',\r\n                html: `<h2 class=\"\">esta seguro de eliminar al Proveedor <span class=\"font-weight-bold\"> ${proveedor} </span>?</h2><br><p>Esta accin no se puede deshacer</p>`,\r\n          \r\n                showCancelButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                cancelButtonText: `Cancelar`,\r\n                \r\n\r\n            }).then(result=>{\r\n                if(result.isConfirmed){\r\n                    eliminarProveedor(id)\r\n                }\r\n            })\r\n        }\r\n        async function eliminarProveedor(id){\r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n    \r\n            url = `${location.origin}/api/proveedor/eliminar`;\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                \r\n                eliminarToastAnterior();\r\n            \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                      setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },4000)\r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },8000)\r\n\r\n                 \r\n                    tablaProveedores.ajax.reload(); \r\n                }\r\n            } catch (error) { \r\n                console.log(error) \r\n            }\r\n        }\r\n        function mostrarProveedores(){\r\n      \r\n            // $(\"#tabla\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaProveedores = $('#tabla').DataTable({\r\n                ajax: '/api/proveedores',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true,\r\n                initComplete: function () {\r\n                    // Inicializa los botones despus de que la tabla se haya creado\r\n                    var buttons = new $.fn.dataTable.Buttons(tablaProveedores, {\r\n                        buttons: [\"copy\", \"csv\", \"excel\", \"pdf\", \"print\"]\r\n                    }).container().appendTo('#tabla_wrapper .col-md-6:eq(0)');\r\n                }\r\n            });\r\n            \r\n            // $.ajax({\r\n            //     url:'/api/proveedores',\r\n            //     dataType:'json',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.resposeText)\r\n            //     }\r\n            // })\r\n       \r\n        }  \r\n        \r\n\r\n        function accionesModal(){\r\n            formulario.reset();\r\n            btnSubmit.disabled = false;\r\n            $('#modal-proveedor').modal('show');\r\n       \r\n            inicializarValidador();\r\n            if(id){\r\n                consultarCliente();\r\n            }\r\n        }\r\n\r\n        async function consultarCliente(){\r\n            try {\r\n                const respuesta = await fetch(`/api/proveedor?id=${id}`);\r\n                const resultado = await respuesta.json();\r\n                \r\n             \r\n                llenarFormulario(resultado);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        function llenarFormulario(resultado){\r\n           \r\n            nombre.value = resultado.nombre;\r\n            celular.value = resultado.celular;\r\n            direccion.value = resultado.direccion;\r\n      \r\n           \r\n        }\r\n         \r\n\r\n        async function enviarDatos(){\r\n            const datos = new FormData();\r\n            if(id){\r\n                datos.append('id', id)\r\n            }\r\n            datos.append('nombre', (nombre.value).trim());\r\n            datos.append('celular', (celular.value));\r\n            datos.append('direccion', (direccion.value).trim());\r\n\r\n\r\n          \r\n            \r\n            btnSubmit.disabled = true;\r\n\r\n      \r\n            let url = '';\r\n            if(id){\r\n                url = `${location.origin}/api/proveedor/editar`;\r\n            }else{\r\n                url = `${location.origin}/api/proveedor/crear`;\r\n            }\r\n            \r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n               \r\n              \r\n                eliminarToastAnterior();\r\n                btnSubmit.disabled = false;\r\n                if(resultado.type=='error'){\r\n               \r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                    })\r\n                  \r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },0)\r\n                }else{\r\n                    tablaProveedores.ajax.reload()\r\n              \r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },4000)\r\n\r\n                    formulario.reset();\r\n\r\n                    $('#modal-proveedor').modal('hide');\r\n         \r\n                }\r\n   \r\n            } catch (error) {  \r\n                console.log('error')\r\n                // $(document).Toasts('create', {\r\n                //     class: 'bg-danger',\r\n                //     title: 'Error',\r\n                 \r\n                //     body: 'No es Posible eliminar el proveedor porque tiene productos  asociados'\r\n                //   })\r\n\r\n                // setTimeout(()=>{\r\n                //     eliminarToastAnterior();\r\n                // },8000) \r\n            }\r\n        }\r\n\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n\r\n        function inicializarValidador() {\r\n        \r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                        enviarDatos();\r\n              }\r\n            });\r\n      \r\n           \r\n             $('#proveedorForm').validate({\r\n              rules: {\r\n                nombre: {\r\n                    required: true,\r\n                    minlength: 2  \r\n                },\r\n                celular: {\r\n             \r\n                    digits:true,\r\n                    rangelength: [10, 10]   \r\n                }\r\n              \r\n\r\n              },\r\n              messages: {\r\n                nombre: {\r\n                    required: \"El nombre es obligatorio\",\r\n                    minlength: \"Debe tener al menos 2 caracteres\"   \r\n                },\r\n                celular: {\r\n            \r\n                    digits: \"Solo valores nmericos\",\r\n                    rangelength:  \"el nmero de celular debe tener 10 digitos\"\r\n                }\r\n              \r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#proveedorForm').on('valid', function(event) {\r\n            inicializarValidador();\r\n        });\r\n    }\r\n})();","(function(){\r\n    const egresos = document.querySelector('#egresos');\r\n    if(egresos){\r\n    \r\n        const btnRegistrarEgreso = document.querySelector('#registrar');\r\n        const formulario = document.querySelector('#egresoForm');\r\n        const btnSubmit = document.querySelector('#btnSubmit')\r\n\r\n        let tablaEgresos;\r\n    \r\n        let id;\r\n        const egreso = document.querySelector('#egreso');\r\n        const descripcion = document.querySelector('#descripcion');\r\n\r\n        egreso.addEventListener('input', function(e){\r\n            egreso.value = formatearValor(e.target.value);\r\n        })\r\n\r\n        mostrarEgresos();\r\n      \r\n\r\n        btnRegistrarEgreso.addEventListener('click',function(){\r\n            id = null;\r\n       \r\n            accionesModal();\r\n        })\r\n\r\n      $('#tabla').on('click', '#editar', function(e){\r\n \r\n            id=e.currentTarget.dataset.egresoId;\r\n         \r\n       \r\n            accionesModal();\r\n        })\r\n\r\n   \r\n        $('#tabla').on('click', '#eliminar', function(e){\r\n            const id = e.currentTarget.dataset.egresoId;\r\n            alertaEliminarEgreso(id,e);\r\n        }) \r\n      \r\n\r\n        function alertaEliminarEgreso(id,e){\r\n            \r\n            const egreso = e.currentTarget.parentElement.parentElement.parentElement.childNodes[3].textContent;\r\n           \r\n            \r\n            Swal.fire({\r\n                icon:'warning',\r\n                html: `<h2 class=\"\">esta seguro de eliminar el egreso por un valor de <span class=\"font-weight-bold\"> ${egreso} </span>?</h2><br><p>Esta accin no se puede deshacer</p>`,\r\n          \r\n                showCancelButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                cancelButtonText: `Cancelar`,\r\n                \r\n\r\n            }).then(result=>{\r\n                if(result.isConfirmed){\r\n                    eliminarEgreso(id)\r\n                }\r\n            })\r\n        }\r\n    \r\n   \r\n        async function eliminarEgreso(id){\r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n         \r\n    \r\n            url = `${location.origin}/api/egreso/eliminar`;\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n              \r\n                eliminarToastAnterior();\r\n            \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                 \r\n\r\n                 \r\n                    tablaEgresos.ajax.reload(); \r\n                }\r\n                setTimeout(()=>{\r\n                    eliminarToastAnterior();\r\n                },8000)\r\n            } catch (error) { \r\n                \r\n            }\r\n        }\r\n      \r\n\r\n        function mostrarEgresos(){\r\n      \r\n            $(\"#tabla\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaEgresos = $('#tabla').DataTable({\r\n                language: {\r\n                    \"decimal\": \"\",\r\n                    \"emptyTable\": \"No hay informacin\",\r\n                    \"info\": \"Mostrando _START_ a _END_ de _TOTAL_ Entradas\",\r\n                    \"infoEmpty\": \"Mostrando 0 to 0 of 0 Entradas\",\r\n                    \"infoFiltered\": \"(Filtrado de _MAX_ total entradas)\",\r\n                    \"infoPostFix\": \"\",\r\n                    \"thousands\": \",\",\r\n                    \"lengthMenu\": \"Mostrar _MENU_ Entradas\",\r\n                    \"loadingRecords\": \"Cargando...\",\r\n                    \"processing\": \"Procesando...\",\r\n                    \"search\": \"Buscar:\",\r\n                    \"zeroRecords\": \"Sin resultados encontrados\",\r\n                    \"paginate\": {\r\n                        \"first\": \"Primero\",\r\n                        \"last\": \"Ultimo\",\r\n                        \"next\": \"Siguiente\",\r\n                        \"previous\": \"Anterior\"\r\n                    }\r\n                },\r\n                ajax: '/api/egresos',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n            \r\n            $.ajax({\r\n                url:'/api/egresos',\r\n                dataType:'json',\r\n                success:function(req){\r\n                    console.log(req)\r\n                },\r\n                error:function(error){\r\n                    console.log(error.resposeText)\r\n                }\r\n            })\r\n       \r\n        }  \r\n\r\n\r\n\r\n        async function enviarDatos(){\r\n\r\n            const datos = new FormData();\r\n            if(id){\r\n                datos.append('id', id)\r\n            }   \r\n          \r\n\r\n            datos.append('egreso', egreso.value);\r\n            datos.append('descripcion' , (descripcion.value).trim())\r\n\r\n        \r\n            btnSubmit.disabled = true;\r\n\r\n            let url = '';\r\n            if(id){\r\n                url = `${location.origin}/api/egreso/editar`;\r\n            }else{\r\n                url = `${location.origin}/api/egreso/crear`;\r\n            }\r\n\r\n         \r\n\r\n            \r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n              \r\n          \r\n          \r\n                eliminarToastAnterior();\r\n            \r\n                btnSubmit.disabled = false;\r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                      $('#modal-egreso').modal('hide');\r\n                }else{\r\n                   tablaEgresos.ajax.reload()\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                  \r\n\r\n                    formulario.reset();\r\n\r\n                    $('#modal-egreso').modal('hide');\r\n         \r\n                }\r\n                setTimeout(()=>{\r\n                    eliminarToastAnterior();\r\n                },4000)\r\n   \r\n            } catch (error) {  \r\n            }\r\n        }\r\n\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n\r\n        async function accionesModal(){\r\n  \r\n            formulario.reset();\r\n            btnSubmit.disabled = false;\r\n            $('#modal-egreso').modal('show');\r\n            $('#egresoForm').validate().resetForm();\r\n            // Elimina todas las reglas de validacin\r\n            $('#egresoForm').validate().destroy();\r\n            // Elimina las clases de validacin de los elementos\r\n            $('#egresoForm').find('.is-invalid').removeClass('is-invalid');\r\n            if(id){\r\n             \r\n                consultarEgreso();\r\n               \r\n            }\r\n           \r\n         \r\n     \r\n            inicializarValidador();\r\n       \r\n           \r\n        }\r\n\r\n        async function consultarEgreso(){\r\n          \r\n          \r\n            try {\r\n                const respuesta = await fetch(`/api/egreso?id=${id}`);\r\n                const resultado = await respuesta.json();\r\n            \r\n               \r\n                llenarFormulario(resultado);\r\n                \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        function llenarFormulario(resultado){\r\n            \r\n\r\n            egreso.value = (parseFloat(resultado.egreso)).toLocaleString('en');\r\n            descripcion.value = resultado.descripcion\r\n          \r\n        }\r\n        function inicializarValidador() {\r\n\r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                        enviarDatos();\r\n                      \r\n                    \r\n              }\r\n            });\r\n      \r\n           \r\n             $('#egresoForm').validate({\r\n              rules: {\r\n                ingreso: {\r\n                    required: true\r\n                      \r\n                },\r\n                descripcion:{\r\n                    required: true\r\n                }\r\n              },\r\n              messages: {\r\n                ingreso: {\r\n                    required: \"El monto que sale de la caja es obligatorio\"  \r\n                },\r\n                descripcion:{\r\n                    required: \"La nota o descripcin es obligatoria\"\r\n                }\r\n           \r\n\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#egresoForm').on('valid', function(event) {\r\n            inicializarValidador();\r\n        });\r\n\r\n        // function llenarPrimerOption(referencia){\r\n        //     const optionDefault =  document.createElement('OPTION');\r\n        //     optionDefault.textContent = 'Seleccione';\r\n     \r\n         \r\n        //     optionDefault.value=0;\r\n        //     referencia.appendChild(optionDefault)\r\n        // }\r\n        function formatearValor(valor){\r\n           \r\n            let valor_sin_formato = parseFloat(valor.replace(/,/g, ''));\r\n            if(isNaN(valor_sin_formato)){\r\n                valor_sin_formato = '';\r\n            }\r\n            const valor_formateado =  valor_sin_formato.toLocaleString('en');\r\n            return valor_formateado ;\r\n        }\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n        function limpiarHtml(referencia){\r\n            while(referencia.firstChild){\r\n                referencia.removeChild(referencia.firstChild);\r\n            }\r\n        }\r\n\r\n\r\n\r\n    }\r\n})();","(function(){\r\n    const ingresos = document.querySelector('#ingresos');\r\n    if(ingresos){\r\n    \r\n        const btnRegistrarIngreso = document.querySelector('#registrar');\r\n        const formulario = document.querySelector('#ingresoForm');\r\n        const btnSubmit = document.querySelector('#btnSubmit')\r\n\r\n        let tablaIngresos;\r\n    \r\n        let id;\r\n        const ingreso = document.querySelector('#ingreso');\r\n        const descripcion = document.querySelector('#descripcion');\r\n\r\n        ingreso.addEventListener('input', function(e){\r\n            ingreso.value = formatearValor(e.target.value);\r\n        })\r\n\r\n        mostrarIngresos();\r\n      \r\n\r\n        btnRegistrarIngreso.addEventListener('click',function(){\r\n            id = null;\r\n       \r\n            accionesModal();\r\n        })\r\n\r\n      $('#tabla').on('click', '#editar', function(e){\r\n \r\n            id=e.currentTarget.dataset.ingresoId;\r\n         \r\n       \r\n            accionesModal();\r\n        })\r\n\r\n   \r\n        $('#tabla').on('click', '#eliminar', function(e){\r\n            const id = e.currentTarget.dataset.ingresoId;\r\n            alertaEliminarIngreso(id,e);\r\n        }) \r\n      \r\n\r\n        function alertaEliminarIngreso(id,e){\r\n            \r\n            const ingreso = e.currentTarget.parentElement.parentElement.parentElement.childNodes[3].textContent;\r\n           \r\n            \r\n            Swal.fire({\r\n                icon:'warning',\r\n                html: `<h2 class=\"\">esta seguro de eliminar el ingreso por un valor de <span class=\"font-weight-bold\"> ${ingreso} </span>?</h2><br><p>Esta accin no se puede deshacer</p>`,\r\n          \r\n                showCancelButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                cancelButtonText: `Cancelar`,\r\n                \r\n\r\n            }).then(result=>{\r\n                if(result.isConfirmed){\r\n                    eliminarIngreso(id)\r\n                }\r\n            })\r\n        }\r\n    \r\n        async function cerrarCaja(id){\r\n           \r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n         \r\n    \r\n            url = `${location.origin}/api/caja/cerrar`;\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n              \r\n                eliminarToastAnterior();\r\n            \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    tablaIngresos.ajax.reload(); \r\n                }\r\n                setTimeout(()=>{\r\n                    eliminarToastAnterior();\r\n                },8000)\r\n            } catch (error) { \r\n                \r\n            }\r\n        }\r\n        async function eliminarIngreso(id){\r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n         \r\n    \r\n            url = `${location.origin}/api/ingreso/eliminar`;\r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n              \r\n                eliminarToastAnterior();\r\n            \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                 \r\n\r\n                 \r\n                    tablaIngresos.ajax.reload(); \r\n                }\r\n                setTimeout(()=>{\r\n                    eliminarToastAnterior();\r\n                },8000)\r\n            } catch (error) { \r\n                \r\n            }\r\n        }\r\n      \r\n\r\n        function mostrarIngresos(){\r\n      \r\n            $(\"#tabla\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaIngresos = $('#tabla').DataTable({\r\n                language: {\r\n                    \"decimal\": \"\",\r\n                    \"emptyTable\": \"No hay informacin\",\r\n                    \"info\": \"Mostrando _START_ a _END_ de _TOTAL_ Entradas\",\r\n                    \"infoEmpty\": \"Mostrando 0 to 0 of 0 Entradas\",\r\n                    \"infoFiltered\": \"(Filtrado de _MAX_ total entradas)\",\r\n                    \"infoPostFix\": \"\",\r\n                    \"thousands\": \",\",\r\n                    \"lengthMenu\": \"Mostrar _MENU_ Entradas\",\r\n                    \"loadingRecords\": \"Cargando...\",\r\n                    \"processing\": \"Procesando...\",\r\n                    \"search\": \"Buscar:\",\r\n                    \"zeroRecords\": \"Sin resultados encontrados\",\r\n                    \"paginate\": {\r\n                        \"first\": \"Primero\",\r\n                        \"last\": \"Ultimo\",\r\n                        \"next\": \"Siguiente\",\r\n                        \"previous\": \"Anterior\"\r\n                    }\r\n                },\r\n                ajax: '/api/ingresos',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n            \r\n            $.ajax({\r\n                url:'/api/ingresos',\r\n                dataType:'json',\r\n                success:function(req){\r\n                 \r\n                },\r\n                error:function(error){\r\n                    \r\n                }\r\n            })\r\n       \r\n        }  \r\n\r\n\r\n\r\n        async function enviarDatos(){\r\n\r\n            const datos = new FormData();\r\n            if(id){\r\n                datos.append('id', id)\r\n            }   \r\n          \r\n\r\n            datos.append('ingreso', ingreso.value);\r\n            datos.append('descripcion' , descripcion.value)\r\n\r\n        \r\n            btnSubmit.disabled = true;\r\n\r\n            let url = '';\r\n            if(id){\r\n                url = `${location.origin}/api/ingreso/editar`;\r\n            }else{\r\n                url = `${location.origin}/api/ingreso/crear`;\r\n            }\r\n\r\n         \r\n\r\n            \r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n              \r\n          \r\n          \r\n                eliminarToastAnterior();\r\n            \r\n                btnSubmit.disabled = false;\r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                      $('#modal-ingreso').modal('hide');\r\n                }else{\r\n                   tablaIngresos.ajax.reload()\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                  \r\n\r\n                    formulario.reset();\r\n\r\n                    $('#modal-ingreso').modal('hide');\r\n         \r\n                }\r\n                setTimeout(()=>{\r\n                    eliminarToastAnterior();\r\n                },4000)\r\n   \r\n            } catch (error) {  \r\n            }\r\n        }\r\n\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n\r\n        async function accionesModal(){\r\n  \r\n            formulario.reset();\r\n            btnSubmit.disabled = false;\r\n            $('#modal-ingreso').modal('show');\r\n            $('#ingresoForm').validate().resetForm();\r\n            // Elimina todas las reglas de validacin\r\n            $('#ingresoForm').validate().destroy();\r\n            // Elimina las clases de validacin de los elementos\r\n            $('#ingresoForm').find('.is-invalid').removeClass('is-invalid');\r\n            if(id){\r\n             \r\n                consultarIngreso();\r\n               \r\n            }\r\n           \r\n         \r\n     \r\n            inicializarValidador();\r\n       \r\n           \r\n        }\r\n\r\n        async function consultarIngreso(){\r\n          \r\n          \r\n            try {\r\n                const respuesta = await fetch(`/api/ingreso?id=${id}`);\r\n                const resultado = await respuesta.json();\r\n            \r\n               \r\n                llenarFormulario(resultado);\r\n                \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        function llenarFormulario(resultado){\r\n            \r\n\r\n            ingreso.value = (parseFloat(resultado.ingreso)).toLocaleString('en');\r\n            descripcion.value = resultado.descripcion\r\n          \r\n        }\r\n        function inicializarValidador() {\r\n\r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                        enviarDatos();\r\n                      \r\n                    \r\n              }\r\n            });\r\n      \r\n           \r\n             $('#ingresoForm').validate({\r\n              rules: {\r\n                ingreso: {\r\n                    required: true\r\n                      \r\n                },\r\n                descripcion:{\r\n                    required: true\r\n                }\r\n              },\r\n              messages: {\r\n                ingreso: {\r\n                    required: \"El monto que ingresa en la caja es obligatorio\"  \r\n                },\r\n                descripcion:{\r\n                    required: \"La nota o descripcin es obligatoria\"\r\n                }\r\n           \r\n\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#ingresoForm').on('valid', function(event) {\r\n            inicializarValidador();\r\n        });\r\n\r\n        // function llenarPrimerOption(referencia){\r\n        //     const optionDefault =  document.createElement('OPTION');\r\n        //     optionDefault.textContent = 'Seleccione';\r\n     \r\n         \r\n        //     optionDefault.value=0;\r\n        //     referencia.appendChild(optionDefault)\r\n        // }\r\n        function formatearValor(valor){\r\n           \r\n            let valor_sin_formato = parseFloat(valor.replace(/,/g, ''));\r\n            if(isNaN(valor_sin_formato)){\r\n                valor_sin_formato = '';\r\n            }\r\n            const valor_formateado =  valor_sin_formato.toLocaleString('en');\r\n            return valor_formateado ;\r\n        }\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n        function limpiarHtml(referencia){\r\n            while(referencia.firstChild){\r\n                referencia.removeChild(referencia.firstChild);\r\n            }\r\n        }\r\n\r\n\r\n\r\n    }\r\n})();","(function () {\r\n    // window.location.href = '/inicio'\r\n    const seccionCrearVentas = document.querySelector('#seccion-crear-ventas')\r\n    if (seccionCrearVentas) {\r\n\r\n        let ventaId;\r\n        let clienteId = null;\r\n        let productoObj = {\r\n            id: '',\r\n            nombre: '',\r\n            cantidad: '',\r\n            precio_compra: '',\r\n            precio_venta: '', //este es el precio de evnta de esta venta  ya que el usuario puede rebajarle al producto al momento  de venderlo\r\n            // precio: '',\r\n            precio_original: '', //este es el percio de venta con el que se registro el producto\r\n            valor_total: '',\r\n            stock: ''\r\n        }\r\n        let valoresObj = {\r\n            total_sin_descuento: '',\r\n            total_pagar: '',\r\n            descuento: '',\r\n            costo: '',\r\n            total_libre: ''\r\n\r\n\r\n        }\r\n        let idAnterior;\r\n        let focusCantidad = true;\r\n        let productosArray = [];\r\n        let granTotal = 0;\r\n        let listadoProductos;\r\n\r\n\r\n\r\n\r\n\r\n        const selectClientes = document.querySelector('#selectClientes');\r\n        const guardarVentaBtn = document.querySelector('#guardar-venta');\r\n\r\n\r\n        const totalInput = document.querySelector('#total');\r\n        // const totalLibreInput = document.querySelector('#total_libre'); eliminamos mercado libre\r\n        const descuentoInput = document.querySelector('#descuento');\r\n        const totalPagarInput = document.querySelector('#total_pagar');\r\n        const medotodoPago = document.querySelector('#metodo_pago');\r\n        const pagoContado = document.querySelector('#pago-contado');\r\n        const pagoCuotas = document.querySelector('#pago-cuotas');\r\n\r\n        /* pago de contado */\r\n        const cantidadPagar = document.querySelector('#cantidad_pagar');\r\n        const cantidadCambio = document.querySelector('#cantidad_cambio');\r\n\r\n        /* pago a cuotas o credito */\r\n        const abono = document.querySelector('#abono');\r\n        const saldo = document.querySelector('#saldo');\r\n\r\n        //cliente\r\n        const nombreCliente = document.querySelector('#nombre_cliente');\r\n        const cedulaCliente = document.querySelector('#cedula_cliente');\r\n        const celularCliente = document.querySelector('#celular_cliente');\r\n        const direccionCliente = document.querySelector('#direccion_cliente');\r\n        const emailCliente = document.querySelector('#email_cliente');\r\n\r\n        // agregar cliente\r\n        const bntAgregarCliente = document.querySelector('#agregar-cliente');\r\n        const btnQuitarCliente = document.querySelector('#quitar-cliente');\r\n        const contenedorCliente = document.querySelector('#contenedorCliente');\r\n\r\n        //codigo de la venta\r\n        const codigoVenta = document.querySelector('#codigo-venta');\r\n\r\n        const codigoProducto = document.querySelector('#codigo-producto');\r\n        const selectProductos = document.querySelector('#selectProductos');\r\n\r\n        leerDatosUrl();\r\n        consultarProductos();\r\n\r\n        async function consultarProductos() {\r\n\r\n\r\n            try {\r\n                const respuesta = await fetch(`${location.origin}/api/productos-ventas`);\r\n                const resultado = await respuesta.json();\r\n                listadoProductos = resultado;\r\n                productoPorCodigo(listadoProductos);\r\n\r\n\r\n                // llenarPrimerOption(selectCategorias);\r\n                const opcionDisabled = document.createElement('OPTION');\r\n                opcionDisabled.textContent = '--seleccione un producto--';\r\n                opcionDisabled.value = \"0\";\r\n\r\n                selectProductos.appendChild(opcionDisabled);\r\n                resultado.forEach(producto => {\r\n\r\n                    const opcion = document.createElement('OPTION');\r\n                    opcion.value = producto.id;\r\n                    opcion.textContent = producto.nombre;\r\n\r\n\r\n                    selectProductos.appendChild(opcion)\r\n\r\n                });\r\n\r\n                $('#selectProductos').select2()\r\n                $('.select2bs4').select2({\r\n                    theme: 'bootstrap4'\r\n                })\r\n            } catch (error) {\r\n\r\n            }\r\n            $('#selectProductos').select2()\r\n            $('.select2bs4').select2({\r\n                theme: 'bootstrap4'\r\n            })\r\n\r\n\r\n        }\r\n\r\n        function productoPorCodigo(listadoProductos) {\r\n\r\n            codigoProducto.addEventListener('input', function (e) {\r\n                e.preventDefault();\r\n\r\n                const miString = e.target.value\r\n\r\n                //const primerCaracter = miString.charAt(0);\r\n                const primerCaracter = miString\r\n\r\n                // Verificar si el primer carcter es un nmero\r\n                //if (!isNaN(parseInt(primerCaracter))) {\r\n                if (!(/[^0-9]/.test(primerCaracter))) {\r\n                    const productoSeleccionado = listadoProductos.filter(producto => {\r\n\r\n\r\n                        return producto.codigo.toLowerCase() == e.target.value.toLowerCase()\r\n                    })\r\n\r\n\r\n                    if (productoSeleccionado.length > 0) {\r\n\r\n                        consultarInfoProducto(productoSeleccionado[0].id)\r\n                        e.target.value = '';\r\n                    }\r\n                } else {\r\n\r\n                    codigoProducto.addEventListener('keydown', (e) => {\r\n                        if (e.keyCode == 13) {\r\n                            const productoSeleccionado = listadoProductos.filter(producto => {\r\n\r\n\r\n                                return producto.codigo.toLowerCase() == e.target.value.toLowerCase()\r\n                            })\r\n\r\n\r\n                            if (productoSeleccionado.length > 0) {\r\n\r\n                                consultarInfoProducto(productoSeleccionado[0].id)\r\n                                e.target.value = '';\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n\r\n\r\n\r\n            })\r\n        }\r\n\r\n\r\n\r\n        /* aqui hacemos click ya en el boton guardar venta coo tal y validamos */\r\n        guardarVentaBtn.addEventListener('click', function () {\r\n            revisarVenta();\r\n        })\r\n\r\n        medotodoPago.addEventListener('change', function () {\r\n\r\n            if (contenedorCliente.classList.contains('d-none')) {\r\n                contenedorCliente.classList.remove('d-none');\r\n            }\r\n            if (pagoContado.classList.contains('d-none')) {\r\n                pagoContado.classList.remove('d-none');\r\n            }\r\n            if (pagoCuotas.classList.contains('d-none')) {\r\n                pagoCuotas.classList.remove('d-none');\r\n            }\r\n\r\n\r\n\r\n            if (medotodoPago.value != 1) {\r\n\r\n                abono.value = '';\r\n                saldo.value = valoresObj.total_pagar.toLocaleString('en');\r\n                resetearCliente();\r\n                nombreCliente.readOnly = true;\r\n                cedulaCliente.readOnly = true;\r\n                celularCliente.readOnly = true;\r\n                direccionCliente.readOnly = true;\r\n                emailCliente.readOnly = true;\r\n                btnQuitarCliente.disabled = true;\r\n                pagoContado.classList.add('d-none');\r\n\r\n            } else {\r\n                clienteId = null;\r\n                nombreCliente.readOnly = false;\r\n                cedulaCliente.readOnly = false;\r\n                celularCliente.readOnly = false;\r\n                direccionCliente.readOnly = false;\r\n                emailCliente.readOnly = false;\r\n                btnQuitarCliente.disabled = false;\r\n                contenedorCliente.classList.add('d-none');\r\n                pagoCuotas.classList.add('d-none');\r\n\r\n\r\n\r\n            }\r\n        })\r\n\r\n\r\n        bntAgregarCliente.addEventListener('click', function () {\r\n\r\n            if (contenedorCliente.classList.contains('d-none')) {\r\n\r\n                contenedorCliente.classList.remove('d-none');\r\n            }\r\n        });\r\n\r\n        btnQuitarCliente.addEventListener('click', function () {\r\n            resetearCliente();\r\n            contenedorCliente.classList.add('d-none');\r\n        })\r\n\r\n        cantidadPagar.addEventListener('input', calcularCambio);\r\n\r\n        abono.addEventListener('input', calcularSaldo);\r\n\r\n        totalPagarInput.addEventListener('input', calcularDescuento);\r\n\r\n        $('#selectProductos').on('select2:select', function (e) {\r\n\r\n            consultarInfoProducto(e.target.value)\r\n        });\r\n        $('#selectClientes').on('select2:select', function (e) {\r\n            if (e.target.value != 0) {\r\n\r\n                consultarInfoCliente(e.target.value);\r\n            } else {\r\n                resetearCliente();\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n        async function cargarCodigoVenta() {\r\n\r\n            try {\r\n                const respuesta = await fetch(`${location.origin}/api/codigo-venta`);\r\n                const codigo_venta = await respuesta.json();\r\n\r\n                codigoVenta.value = codigo_venta;\r\n\r\n            } catch (error) {\r\n\r\n            }\r\n        }\r\n\r\n        //leer el id de la url para saber si es una edicion \r\n        function leerDatosUrl() {\r\n            const urlActual = new URL(window.location);\r\n            const params = new URLSearchParams(urlActual.search);\r\n            if (params.size == 1) {\r\n                ventaId = atob(params.get('id'));\r\n                consultarVenta();\r\n\r\n                consultarCLientes();\r\n\r\n\r\n            } else {\r\n                cargarCodigoVenta()\r\n                consultarCLientes();\r\n            }\r\n\r\n        }\r\n\r\n        /* cundo visitamos una venta existente la consultas */\r\n        async function consultarVenta() {\r\n            const url = `${location.origin}/api/venta?id=${ventaId}`;\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n                llenarInformacion(resultado);\r\n            } catch (error) {\r\n\r\n            }\r\n        }\r\n\r\n        /* esto es para cando estamos editando la venta */\r\n        function llenarInformacion(resultado) {\r\n    \r\n            clienteId = resultado.cliente_id;\r\n\r\n            const productosVenta = resultado.productos_venta\r\n            const venta = resultado.venta;\r\n            codigoVenta.value = venta.codigo;\r\n            // console.log(productosVenta)\r\n            // console.log(venta)\r\n            let total_sin_descuento = 0;\r\n\r\n            productosVenta.forEach(productoVenta => {\r\n                productoObj = {\r\n                    id: productoVenta.id,\r\n                    nombre: productoVenta.nombre,\r\n                    cantidad: productoVenta.cantidad,\r\n                    precio_compra: productoVenta.precio_compra,\r\n                    precio_venta: productoVenta.precio_factura,\r\n                    // precio: productoVenta.precio,\r\n                    precio_original: productoVenta.precio_venta,\r\n                    valor_total: productoVenta.precio_factura * productoVenta.cantidad,\r\n                    stock: parseFloat(productoVenta.stock) + parseFloat(productoVenta.cantidad)\r\n\r\n                }\r\n                total_sin_descuento = parseFloat(total_sin_descuento) + parseFloat(productoVenta.precio_venta) * productoVenta.cantidad\r\n                productosArray.push(productoObj)\r\n                // total_sin_descuento = total_sin_descuento+productoVenta.precio_venta;\r\n            })\r\n\r\n            // valoresObj={\r\n            //     total_sin_descuento,\r\n            //     total_pagar:venta.recaudo,\r\n            //     descuento:venta.descuento,\r\n            //     costo:venta.costo\r\n\r\n\r\n            // }\r\n            mostrarProductos();\r\n\r\n            totalInput.value = total_sin_descuento.toLocaleString('en');\r\n            descuentoInput.value = resultado.venta.descuento + \"%\";\r\n            totalPagarInput.value = parseFloat(resultado.venta.total_factura).toLocaleString('en');\r\n\r\n            if (venta.nombre_cliente != '' || venta.cedula_cliente != '' || venta.celular_cliente != '' || venta.direccion_cliente != '' || venta.nombre != undefined) {\r\n                contenedorCliente.classList.remove('d-none');\r\n                nombreCliente.value = venta.nombre_cliente;\r\n                cedulaCliente.value = venta.cedula_cliente;\r\n                celularCliente.value = venta.celular_cliente;\r\n                direccionCliente.value = venta.direccion_cliente;\r\n                emailCliente.value = venta.email_cliente;\r\n            }\r\n\r\n            if (venta.metodo_pago == 2 || venta.metodo_pago == 3) {\r\n                let optionToSelect = '';\r\n\r\n                if (venta.metodo_pago == 2) {\r\n                    optionToSelect = document.querySelector('#metodo_pago option[value=\"2\"]');\r\n                } else {\r\n                    optionToSelect = document.querySelector('#metodo_pago option[value=\"3\"]');\r\n                }\r\n\r\n                optionToSelect.selected = true;\r\n          \r\n                abono.value = (parseFloat(venta.recaudo)).toLocaleString('en');\r\n                saldo.value = (venta.total_factura - venta.recaudo).toLocaleString('en');\r\n                pagoContado.classList.add('d-none');\r\n                pagoCuotas.classList.remove('d-none');\r\n\r\n\r\n            }\r\n        }\r\n\r\n        function revisarVenta() {\r\n\r\n            if (productosArray.length == 0) {\r\n                Swal.fire({\r\n                    icon: 'error',\r\n\r\n                    text: 'No Hay productos agregados a esta venta',\r\n\r\n                })\r\n                return;\r\n            }\r\n         \r\n            if (medotodoPago.value == 2) {\r\n                if (selectClientes.value == 0) {\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n\r\n                        text: 'Para las ventas a credito o de mercado libre es necesario seleccionar un cliente que se encuentre registrado',\r\n\r\n                    })\r\n                    return;\r\n                }\r\n\r\n\r\n            }\r\n\r\n\r\n            enviarInformacion();\r\n\r\n        }\r\n        async function enviarInformacion() {\r\n\r\n      \r\n            console.log(valoresObj)\r\n\r\n            const datos = new FormData();\r\n            if (ventaId) {\r\n                datos.append('id', ventaId);\r\n            }\r\n            datos.append('productosArray', JSON.stringify(productosArray));\r\n            datos.append('total_factura', valoresObj.total_pagar); //total de esta venta\r\n            datos.append('total', valoresObj.total_sin_descuento); //total de sin descuento\r\n\r\n            datos.append('costo', valoresObj.costo);\r\n            datos.append('descuento', valoresObj.descuento);\r\n            datos.append('metodo_pago', medotodoPago.value);\r\n            if (medotodoPago.value != 1) {\r\n                valor_abono = 0;\r\n                if (abono.value != '') {\r\n                    valor_abono = abono.value;\r\n                }\r\n                datos.append('abono', valor_abono);\r\n                datos.append('saldo', saldo.value);\r\n                datos.append('cliente_id', selectClientes.value)\r\n                datos.append('recaudo', valor_abono);\r\n                if (parseFloat(valor_abono) < parseFloat(valoresObj.total_pagar)) {\r\n                    datos.append('pagado', 0);\r\n                } else {\r\n                    datos.append('pagado', 1);\r\n                }\r\n\r\n            } else {\r\n                datos.append('pagado', 1);\r\n                datos.append('recaudo', valoresObj.total_pagar);\r\n            }\r\n\r\n\r\n            datos.append('nombre_cliente', nombreCliente.value)\r\n            datos.append('cedula_cliente', cedulaCliente.value)\r\n            datos.append('celular_cliente', celularCliente.value)\r\n            datos.append('direccion_cliente', direccionCliente.value);\r\n            datos.append('email_cliente', emailCliente.value);\r\n          \r\n\r\n            let url;\r\n            if (ventaId) {\r\n                url = `${location.origin}/api/editar-venta`;\r\n            } else {\r\n                url = `${location.origin}/api/crear-venta`;\r\n            }\r\n\r\n            // guardarVentaBtn.disabled = true;\r\n            try {\r\n\r\n                const respuesta = await fetch(url, {\r\n                    method: 'POST',\r\n                    body: datos\r\n                });\r\n              \r\n                const resultado = await respuesta.json();\r\n                console.log(resultado)\r\n                eliminarToastAnterior();\r\n\r\n                if (resultado.type == 'error') {\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n\r\n                } else {\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n\r\n\r\n\r\n\r\n                    resetearVentaAnterior();\r\n                }\r\n                guardarVentaBtn.disabled = false;\r\n                setTimeout(() => {\r\n                    eliminarToastAnterior();\r\n                }, 8000)\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n\r\n        }\r\n\r\n        function resetearVentaAnterior() {\r\n            ventaId = null;\r\n            productosArray = [];\r\n            productoObj = {\r\n                id: '',\r\n                nombre: '',\r\n                cantidad: '',\r\n                precio_compra: '',\r\n                precio_venta: '',\r\n\r\n                precio_original: '',\r\n                valor_total: '',\r\n                stock: ''\r\n            }\r\n            valoresObj = {\r\n                total_sin_descuento: '',\r\n                total_pagar: '',\r\n                descuento: '',\r\n                costo: ''\r\n\r\n\r\n            }\r\n\r\n            const selectProductos = $('#selectProductos');\r\n\r\n            const selectClientes = $('#selectClientes');\r\n\r\n            selectProductos.val(\"0\").trigger('change.select2');\r\n\r\n            selectClientes.val(\"0\").trigger('change.select2');\r\n\r\n\r\n\r\n            medotodoPago.innerHTML = `\r\n                <option value=\"1\">Pago e Contado</option>\r\n                <option value=\"2\">Pago a Cuotas</option>\r\n                <option value=\"3\">Mercado Libre</option>\r\n            `\r\n\r\n            cantidadPagar.value = '';\r\n            cantidadCambio.value = '';\r\n            abono.value = '';\r\n            saldo.value = '';\r\n            if (!contenedorCliente.classList.contains('d-none')) {\r\n                contenedorCliente.classList.add('d-none');\r\n            }\r\n            const pagoContado = document.querySelector('#pago-contado');\r\n            const pagoCuotas = document.querySelector('#pago-cuotas');\r\n            if (!pagoCuotas.classList.contains('d-none')) {\r\n                pagoCuotas.classList.add('d-none');\r\n            }\r\n            if (pagoContado.classList.contains('d-none')) {\r\n\r\n                pagoContado.classList.remove('d-none');\r\n            }\r\n\r\n\r\n            cargarCodigoVenta();\r\n            resetearCliente();\r\n            mostrarProductos();\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n        async function consultarInfoCliente(id) {\r\n\r\n\r\n            try {\r\n                const respuesta = await fetch(`${location.origin}/api/cliente?id=${id}`);\r\n                const resultado = await respuesta.json();\r\n\r\n\r\n\r\n                eliminarToastAnterior();\r\n\r\n                if (resultado.type == 'error') {\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n                } else {\r\n\r\n\r\n\r\n                    setTimeout(() => {\r\n                        eliminarToastAnterior();\r\n                    }, 4000)\r\n\r\n\r\n                    imprimirDatosCliente(resultado);\r\n                }\r\n\r\n            } catch (error) {\r\n\r\n            }\r\n\r\n\r\n        }\r\n\r\n        function imprimirDatosCliente(cliente) {\r\n\r\n            nombreCliente.value = cliente.nombre ?? '';\r\n            cedulaCliente.value = cliente.cedula ?? '';\r\n            celularCliente.value = cliente.celular ?? '';\r\n            direccionCliente.value = cliente.direccion ?? '';\r\n            emailCliente.value = cliente.email ?? '';\r\n        }\r\n\r\n\r\n        function resetearCliente() {\r\n            var selectClientes = $('#selectClientes');\r\n            selectClientes.val(\"0\").trigger('change.select2');\r\n            nombreCliente.value = \"\";\r\n            cedulaCliente.value = \"\";\r\n            celularCliente.value = \"\";\r\n            direccionCliente.value = \"\";\r\n            emailCliente.value = \"\";\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        function calcularCambio(e) {\r\n            cantidadPagar.value = formatearValor(e.target.value);\r\n            const valor_pagar = parseFloat((cantidadPagar.value).replace(/,/g, ''));\r\n            const cambio = valor_pagar - valoresObj.total_pagar;\r\n            cantidadCambio.value = cambio.toLocaleString('en')\r\n\r\n        }\r\n        function calcularSaldo(e) {\r\n\r\n            abono.value = formatearValor(e.target.value);\r\n            const valor_abono = parseFloat((abono.value).replace(/,/g, ''));\r\n            const deuda = valoresObj.total_pagar - valor_abono;\r\n            saldo.value = deuda.toLocaleString('en')\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n        function mostrarProductos() {\r\n            const contenedorProductos = document.querySelector('#productosVenta');\r\n            limpiarHtml(contenedorProductos);\r\n            productosArray.forEach(producto => {\r\n                const { id, nombre, precio_venta, cantidad, valor_total, stock } = producto;\r\n          \r\n\r\n                const rowDiv = document.createElement('DIV');\r\n                rowDiv.classList.add('row', 'px-2');\r\n                rowDiv.dataset.productoId = id;\r\n\r\n                //Producto\r\n\r\n                const col1Div = document.createElement('DIV');\r\n                col1Div.classList.add('col-sm-4');\r\n\r\n                const group1Div = document.createElement('DIV');\r\n                group1Div.classList.add('input-group', 'mb-3');\r\n\r\n                const prepend1Div = document.createElement('DIV');\r\n                prepend1Div.classList.add('input-group-prepend');\r\n\r\n\r\n                prepend1Div.innerHTML = `<span class=\"input-group-text bg-icono btn pointer\"><i class=\"fa-solid fa-trash text-danger\"></i></span>`;\r\n                prepend1Div.onclick = () => {\r\n\r\n                    eliminarProducto(id);\r\n                }\r\n\r\n                const inputNombre = document.createElement('INPUT');\r\n                inputNombre.type = 'text';\r\n                inputNombre.classList.add('form-control');\r\n                inputNombre.readOnly = true;\r\n                inputNombre.value = nombre;\r\n                inputNombre.dataset.productoId = id;\r\n\r\n\r\n                const col7Div = document.createElement('DIV');\r\n                col7Div.classList.add('col-sm-2');\r\n\r\n                const group7Div = document.createElement('DIV');\r\n                group7Div.classList.add('input-group', 'mb-3');\r\n\r\n                const prepend7Div = document.createElement('DIV');\r\n                prepend7Div.classList.add('input-group-prepend');\r\n\r\n\r\n                prepend7Div.innerHTML = `<span class=\"input-group-text bg-icono\"> <i class=\"fas fa-hashtag text-azul\"></i></i></span>`;\r\n\r\n\r\n                const inputStock = document.createElement('INPUT');\r\n                inputStock.type = 'text';\r\n                inputStock.classList.add('form-control');\r\n                inputStock.readOnly = true;\r\n                inputStock.value = stock;\r\n                inputStock.dataset.productoId = id;\r\n\r\n\r\n                group1Div.appendChild(prepend1Div);\r\n                group1Div.appendChild(inputNombre);\r\n                col1Div.appendChild(group1Div);\r\n                group7Div.appendChild(prepend7Div);\r\n                group7Div.appendChild(inputStock);\r\n\r\n\r\n                col7Div.appendChild(group7Div);\r\n\r\n                //cantidad\r\n\r\n                const col2Div = document.createElement('DIV');\r\n                col2Div.classList.add('col-sm-2');\r\n\r\n                const group2Div = document.createElement('DIV');\r\n                group2Div.classList.add('input-group', 'mb-3');\r\n\r\n                const prepend2Div = document.createElement('DIV');\r\n                prepend2Div.classList.add('input-group-prepend');\r\n\r\n                prepend2Div.dataset.productoId = id;\r\n                prepend2Div.innerHTML = `<span class=\"input-group-text bg-icono\"> <i class=\"fas fa-hashtag text-azul\"></i></i></span>`;\r\n\r\n\r\n\r\n                const inputCantidad = document.createElement('INPUT');\r\n                inputCantidad.type = 'number';\r\n                inputCantidad.classList.add('form-control');\r\n                // inputCantidad.min = 1;\r\n\r\n                inputCantidad.value = cantidad;\r\n\r\n\r\n                if (idAnterior == id && focusCantidad == true) {\r\n\r\n                    // inputPrecio.selectionStart = inputPrecio.value.length;\r\n                    // inputPrecio.selectionEnd = inputPrecio.value.length;\r\n\r\n                    // Enfoca el elemento input\r\n                    setTimeout(function () {\r\n                        inputCantidad.focus();\r\n                    }, 0);\r\n\r\n                }\r\n\r\n                inputCantidad.oninput = function () {\r\n\r\n                    if (parseFloat(inputCantidad.value) > parseFloat(stock)) {\r\n                        Swal.fire({\r\n                            icon: 'warning',\r\n                            text: 'el producto est agotado',\r\n\r\n                        })\r\n                        modificarTotalPorProducto(stock, id, true);\r\n                    } else {\r\n                        modificarTotalPorProducto(inputCantidad.value, id, true); //modificamos el total al moficiar la cantidad\r\n                    }\r\n\r\n\r\n                };\r\n\r\n                group2Div.appendChild(prepend2Div);\r\n                group2Div.appendChild(inputCantidad);\r\n                col2Div.appendChild(group2Div);\r\n\r\n                //precio sin comision para cuando se usa mercado libre\r\n\r\n                // const col5Div = document.createElement('DIV');\r\n                // col5Div.classList.add('col-sm-2');\r\n                // const group5Div = document.createElement('DIV');\r\n                // group5Div.classList.add('input-group', 'mb-3');\r\n\r\n                // const prepend5Div = document.createElement('DIV');\r\n                // prepend5Div.classList.add('input-group-prepend');\r\n                // prepend5Div.innerHTML = `<span class=\"input-group-text bg-icono\"> <i class=\"fas fa-dollar-sign text-azul\"></i></i></span>`;\r\n\r\n                // const inputPrecioLibre = document.createElement('INPUT');\r\n                // inputPrecioLibre.type = 'text';\r\n                // inputPrecioLibre.classList.add('form-control');\r\n                // inputPrecioLibre.value = parseFloat(precio).toLocaleString('en');\r\n\r\n\r\n                // group5Div.appendChild(prepend5Div);\r\n                // group5Div.appendChild(inputPrecioLibre);\r\n                // col5Div.appendChild(group5Div);\r\n\r\n                // inputPrecioLibre.oninput = () => {\r\n\r\n                //     console.log(inputPrecioLibre.value)\r\n                //     const nuevo_precio_venta = formatearValor(inputPrecioLibre.value);\r\n                //     inputPrecioLibre.value = nuevo_precio_venta;\r\n                //     producto.precio = parseFloat((nuevo_precio_venta).replace(/,/g, ''));\r\n\r\n                //     total_libre = 0;\r\n                //     productosArray.forEach(producto => {\r\n                //         total_libre = total_libre + producto.precio * producto.cantidad;\r\n                //     })\r\n                //     valoresObj.total_libre = total_libre;\r\n                //     totalLibreInput.value = total_libre.toLocaleString('en');\r\n                // }\r\n\r\n\r\n\r\n                //precio unitario para factura\r\n\r\n                const col3Div = document.createElement('DIV');\r\n                col3Div.classList.add('col-sm-2');\r\n\r\n                const group3Div = document.createElement('DIV');\r\n                group3Div.classList.add('input-group', 'mb-3');\r\n\r\n                const prepend3Div = document.createElement('DIV');\r\n                prepend3Div.classList.add('input-group-prepend');\r\n\r\n\r\n                prepend3Div.innerHTML = `<span class=\"input-group-text bg-icono\"> <i class=\"fas fa-dollar-sign text-azul\"></i></i></span>`;\r\n\r\n                const inputPrecio = document.createElement('INPUT');\r\n                inputPrecio.type = 'text';\r\n                inputPrecio.classList.add('form-control');\r\n                inputPrecio.value = parseFloat(precio_venta).toLocaleString('en');\r\n\r\n\r\n                if (idAnterior == id && focusCantidad == false) {\r\n\r\n                    // inputPrecio.selectionStart = inputPrecio.value.length;\r\n                    // inputPrecio.selectionEnd = inputPrecio.value.length;\r\n\r\n                    // Enfoca el elemento input\r\n                    setTimeout(function () {\r\n                        inputPrecio.focus();\r\n                    }, 0);\r\n\r\n                }\r\n\r\n                /* este sera el precio de venta como tal para la venta ya que el usuario puede editarlo al momento de venderlo */\r\n                inputPrecio.oninput = () => {\r\n                    console.log(inputPrecio.value)\r\n                    const nuevo_precio_venta = formatearValor(inputPrecio.value);\r\n                    inputPrecio.value = nuevo_precio_venta;\r\n                    // inputPrecioLibre.value = nuevo_precio_venta\r\n                    // producto.precio = parseFloat((nuevo_precio_venta).replace(/,/g, ''));\r\n                    modificarTotalPorProducto(inputPrecio.value, id, false)\r\n                }\r\n                inputPrecio.focus()\r\n\r\n                group3Div.appendChild(prepend3Div);\r\n                group3Div.appendChild(inputPrecio);\r\n                col3Div.appendChild(group3Div);\r\n\r\n                //precio cantidad\r\n                const col4Div = document.createElement('DIV');\r\n                col4Div.classList.add('col-sm-2');\r\n\r\n                const group4Div = document.createElement('DIV');\r\n                group4Div.classList.add('input-group', 'mb-3');\r\n\r\n                const prepend4Div = document.createElement('DIV');\r\n                prepend4Div.classList.add('input-group-prepend');\r\n\r\n                prepend4Div.dataset.productoId = id;\r\n                prepend4Div.innerHTML = `<span class=\"input-group-text bg-icono\"> <i class=\"fas fa-dollar-sign text-azul\"></i></i></span>`;\r\n\r\n                const inputPrecioCantidad = document.createElement('INPUT');\r\n                inputPrecioCantidad.type = 'text';\r\n                inputPrecioCantidad.readOnly = true;\r\n                inputPrecioCantidad.classList.add('form-control');\r\n                inputPrecioCantidad.value = parseFloat(valor_total).toLocaleString('en');\r\n\r\n\r\n                group4Div.appendChild(prepend4Div);\r\n                group4Div.appendChild(inputPrecioCantidad);\r\n                col4Div.appendChild(group4Div);\r\n\r\n\r\n\r\n                rowDiv.appendChild(col1Div);\r\n                rowDiv.appendChild(col7Div);\r\n                rowDiv.appendChild(col2Div);\r\n                // rowDiv.appendChild(col5Div);\r\n                rowDiv.appendChild(col3Div);\r\n                rowDiv.appendChild(col4Div);\r\n\r\n\r\n                contenedorProductos.appendChild(rowDiv)\r\n\r\n                //resetar los inputs de metodo de pago\r\n                resetarInputsMetodoPago();\r\n\r\n\r\n\r\n            });\r\n\r\n            calcularTotal();\r\n\r\n        }\r\n\r\n        function resetarInputsMetodoPago() {\r\n\r\n            cantidadPagar.value = '';\r\n            cantidadCambio.value = '';\r\n            abono.value = '';\r\n            saldo.value = valoresObj.total_pagar.toLocaleString('en');\r\n        }\r\n        function calcularTotal() {\r\n    \r\n\r\n            let total = 0; //valor a pagar con el precio de venta original\r\n            let total_pagar = 0; //valor a pagar con modificaciones de precios \r\n            let total_costo = 0;\r\n            // let total_libre = 0;\r\n            productosArray.forEach(producto => {\r\n\r\n                total = total + producto.cantidad * producto.precio_original;\r\n                total_pagar = total_pagar + producto.cantidad * producto.precio_venta;\r\n                total_costo = total_costo + producto.cantidad * producto.precio_compra;\r\n                // total_libre = total_libre + producto.cantidad * producto.precio;\r\n            })\r\n          \r\n\r\n            const descuento = 100 - total_pagar * 100 / total;\r\n            descuentoInput.value = !isNaN(Number(descuento.toFixed(2))) ? Number(descuento.toFixed(2)) + '%' : 0 + '%';\r\n\r\n            totalInput.value = total.toLocaleString('en');\r\n             \r\n            totalPagarInput.value = total_pagar.toLocaleString('en');\r\n                        \r\n            // totalLibreInput.value = total_libre.toLocaleString('en'); // lo elimina porque ya no existe\r\n        \r\n\r\n            //llenamos el objeto con la informacion del pago de la venta\r\n            valoresObj.total_sin_descuento = total;\r\n            valoresObj.total_pagar = total_pagar;\r\n            valoresObj.descuento = !isNaN(Number(descuento.toFixed(2))) ? Number(descuento.toFixed(2)) : 0;\r\n            valoresObj.costo = total_costo;\r\n            // valoresObj.total_libre = total_libre;\r\n\r\n\r\n        }\r\n\r\n        function calcularDescuento(e) { //calculamos el descuento cuando se modifica el precio final\r\n            if (productosArray.length == 0) {\r\n                totalPagarInput.value = 0;\r\n                return;\r\n            }\r\n\r\n            totalPagarInput.value = formatearValor(e.target.value);\r\n            const total_pagar = parseFloat((totalPagarInput.value).replace(/,/g, ''));\r\n\r\n            let total = 0;\r\n            productosArray.forEach(producto => {\r\n                total = total + producto.cantidad * producto.precio_original;\r\n\r\n            })\r\n            const descuento = 100 - total_pagar * 100 / total;\r\n\r\n            descuentoInput.value = !isNaN(Number(descuento.toFixed(2))) ? Number(descuento.toFixed(2)) + '%' : 0 + '%';\r\n\r\n\r\n            //lenamos el objeto que tien la infomracion del pago \r\n            valoresObj.total_pagar = total_pagar;\r\n            valoresObj.descuento = descuento;\r\n\r\n            resetarInputsMetodoPago();\r\n\r\n\r\n        }\r\n\r\n\r\n        //modificar valores al cambiar la cantidad\r\n        function modificarTotalPorProducto(parametro, id, aux) {\r\n            idAnterior = id;\r\n            if (aux) {\r\n                focusCantidad = true;\r\n                productosArray = productosArray.map(producto => {\r\n                    if (producto.id == id) {\r\n\r\n                        if (parametro < 0) {\r\n\r\n                            parametro = 0;\r\n                        }\r\n                        return {\r\n                            ...producto,\r\n                            cantidad: parametro,\r\n                            valor_total: parametro * producto.precio_venta,\r\n\r\n                        }\r\n\r\n                    }\r\n                    return producto;\r\n                })\r\n\r\n            } else {\r\n\r\n                focusCantidad = false;\r\n                let nuevo_precio_venta = parseFloat(parametro.replace(/,/g, ''));\r\n                productosArray = productosArray.map(producto => {\r\n                    if (producto.id == id) {\r\n                        if (parametro == '') {\r\n\r\n                            parametro = 0;\r\n                        }\r\n\r\n                        if (!isNaN(nuevo_precio_venta * producto.cantidad)) {\r\n\r\n                            return {\r\n                                ...producto,\r\n                                precio_venta: nuevo_precio_venta,\r\n                                valor_total: nuevo_precio_venta * producto.cantidad\r\n\r\n                            }\r\n\r\n                        } else {\r\n\r\n                            return {\r\n                                ...producto,\r\n                                precio_venta: 0,\r\n                                valor_total: 0\r\n\r\n                            }\r\n                        }\r\n\r\n\r\n                    }\r\n                    return producto;\r\n                })\r\n\r\n            }\r\n\r\n\r\n            mostrarProductos();\r\n        }\r\n\r\n\r\n        //eliminar producto de la venta\r\n\r\n        function eliminarProducto(idProducto) {\r\n\r\n            productosArray = productosArray.filter(producto => {\r\n                return producto.id != idProducto\r\n            })\r\n\r\n            mostrarProductos();\r\n        }\r\n\r\n        async function consultarInfoProducto(id) {\r\n\r\n            try {\r\n                const respuesta = await fetch(`${location.origin}/api/producto?id=${id}`);\r\n                const resultado = await respuesta.json();\r\n\r\n\r\n\r\n                if (resultado.stock > 0) {\r\n                    const { id, nombre, precio_venta, stock, precio_compra } = resultado;\r\n                    productoObj = {\r\n                        id,\r\n                        nombre,\r\n                        cantidad: 1,\r\n                        precio_compra,\r\n                        precio_venta,\r\n                        // precio: parseFloat(precio_venta),    //esto lo quitaos porque es paramercado libre\r\n                        precio_original: parseFloat(precio_venta),\r\n                        valor_total: precio_venta,\r\n                        stock\r\n                    }\r\n\r\n                    const existe_producto = productosArray.some(producto => producto.id == id);\r\n\r\n                    if (!existe_producto) {\r\n                        productosArray.push(productoObj);\r\n                        mostrarProductos();\r\n                    } else {\r\n                        Swal.fire({\r\n                            icon: 'warning',\r\n\r\n                            text: 'el producto ya ha sido agregado anteriormente',\r\n\r\n                        })\r\n                    }\r\n                } else {\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n\r\n                        text: 'Producto no disponible en inventario',\r\n\r\n                    })\r\n                }\r\n\r\n            } catch (error) {\r\n\r\n            }\r\n\r\n            // console.log(productosArray)\r\n        }\r\n        function formatearValor(valor) {\r\n\r\n            let valor_sin_formato = parseFloat(valor.replace(/,/g, ''));\r\n            if (isNaN(valor_sin_formato)) {\r\n                valor_sin_formato = '';\r\n            }\r\n            const valor_formateado = valor_sin_formato.toLocaleString('en');\r\n            return valor_formateado;\r\n        }\r\n        function limpiarHtml(referencia) {\r\n            while (referencia.firstChild) {\r\n                referencia.removeChild(referencia.firstChild)\r\n            }\r\n        }\r\n        function eliminarToastAnterior() {\r\n            if (document.querySelector('#toastsContainerTopRight')) {\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n        async function consultarCLientes() {\r\n            limpiarHtml(selectClientes);\r\n\r\n            try {\r\n                const respuesta = await fetch(`${location.origin}/api/clientes-ventas`);\r\n                const resultado = await respuesta.json();\r\n\r\n                // llenarPrimerOption(selectCategorias);\r\n                const opcionDisabled = document.createElement('OPTION');\r\n                opcionDisabled.textContent = '--seleccione un cliente--';\r\n                opcionDisabled.value = \"0\";\r\n\r\n\r\n\r\n\r\n\r\n                resultado.forEach(cliente => {\r\n\r\n                    const opcion = document.createElement('OPTION');\r\n                    opcion.value = cliente.id;\r\n                    opcion.textContent = cliente.nombre;\r\n\r\n                    if (cliente.id == clienteId) {\r\n\r\n                        opcion.selected = true;\r\n                    }\r\n\r\n                    selectClientes.appendChild(opcion)\r\n\r\n                });\r\n\r\n                $('#selectClientes').select2()\r\n                $('.select2bs4').select2({\r\n                    theme: 'bootstrap4'\r\n                })\r\n                consultarInfoCliente(clienteId);\r\n            } catch (error) {\r\n\r\n            }\r\n            $('#selectProductos').select2()\r\n            $('.select2bs4').select2({\r\n                theme: 'bootstrap4'\r\n            })\r\n\r\n\r\n        }\r\n    }\r\n})();\r\n\r\n\r\n","(function () {\r\n    const mercadolibre = document.querySelector('#mercadolibre');\r\n    const ventas = document.querySelector('#ventas');\r\n    if (mercadolibre || ventas) {\r\n\r\n        $('#tabla').on('click', '#info', function (e) {\r\n            const ventaId = e.currentTarget.dataset.ventaId;\r\n \r\n            consultarInfoVenta(ventaId);\r\n        })\r\n        async function consultarInfoVenta(id) {\r\n         \r\n            $('#modal-info').modal('show');\r\n\r\n            const url = `${location.origin}/api/venta?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n            \r\n                mostrarInfoVenta(resultado);\r\n            } catch (error) {\r\n\r\n            }\r\n\r\n\r\n\r\n        }\r\n\r\n        function mostrarInfoVenta(resultado) {\r\n            const { productos_venta , venta} = resultado\r\n      \r\n            const codigoVenta = document.querySelector('#codigo-venta');\r\n            const clienteVenta = document.querySelector('#cliente-venta');\r\n            const fechaVenta = document.querySelector('#fecha-venta');\r\n\r\n            const totalVenta = document.querySelector('#total-venta');\r\n            const total = document.querySelector('#total'); //total de la venta ya aplicando el descuento\r\n            const totalSInDescuento = document.querySelector('#total-sin-descuento');  //total de la venta sin descuento \r\n            const recaudoVenta = document.querySelector('#recaudo-venta');\r\n            const saldoVenta = document.querySelector('#saldo-venta');\r\n            const metodoVenta = document.querySelector('#metodo-venta');\r\n            const estadoVenta = document.querySelector('#estado-venta');\r\n            \r\n            codigoVenta.textContent = venta.codigo\r\n            clienteVenta.textContent = venta.nombre_cliente\r\n            fechaVenta.textContent = venta.fecha\r\n            totalVenta.textContent = (parseFloat(venta.total_factura)).toLocaleString('en');\r\n            total.textContent = (parseFloat(venta.total)).toLocaleString('en');\r\n            totalSInDescuento.textContent = (parseFloat(venta.descuento)).toLocaleString('en')+\"%\";\r\n            recaudoVenta.textContent = (parseFloat(venta.recaudo)).toLocaleString('en');\r\n            saldoVenta.textContent = (parseFloat(venta.total_factura - venta.recaudo)).toLocaleString('en');\r\n         \r\n         \r\n            if(venta.metodo_pago==2){\r\n                metodoVenta.textContent = 'Fiado'\r\n            }\r\n            // if(venta.metodo_pago==3){\r\n            //     metodoVenta.textContent = 'Mercad Libre'\r\n            // }\r\n            if(venta.metodo_pago==1){\r\n                metodoVenta.textContent = 'De Contado'\r\n            }\r\n            if(estadoVenta.classList.contains('text-danger')){\r\n                estadoVenta.classList.remove('text-danger')\r\n            }\r\n            if(estadoVenta.classList.contains('text-success')){\r\n                estadoVenta.classList.remove('text-success')\r\n            }\r\n            if(venta.pagado==0){\r\n                estadoVenta.textContent = 'Pendiente'\r\n                estadoVenta.classList.add('text-danger')\r\n            }else{\r\n                estadoVenta.textContent = 'Pagado'\r\n                estadoVenta.classList.add('text-success')\r\n            }\r\n\r\n            \r\n            const bodyProductos = document.querySelector('#body-productos-venta');\r\n            limpiarHtml(bodyProductos);\r\n\r\n         \r\n\r\n         \r\n            productos_venta.forEach(producto => {\r\n                \r\n                const { nombre, cantidad, precio_factura } = producto\r\n                const tr = document.createElement('TR');\r\n                const tdNombre = document.createElement('td');\r\n                tdNombre.textContent = nombre;\r\n                const tdCantidad = document.createElement('td')\r\n                tdCantidad.textContent = cantidad;\r\n                const tdPrecio = document.createElement('td');\r\n                tdPrecio.textContent = (parseFloat(precio_factura)).toLocaleString('en');\r\n                const tdSubTotal = document.createElement('td');\r\n                tdSubTotal.textContent = (parseFloat(precio_factura * cantidad)).toLocaleString('en');\r\n\r\n\r\n                tr.appendChild(tdNombre)\r\n                tr.appendChild(tdCantidad)\r\n                tr.appendChild(tdPrecio)\r\n                tr.appendChild(tdSubTotal)\r\n\r\n                bodyProductos.appendChild(tr);\r\n            })\r\n            \r\n        }\r\n        function limpiarHtml(referencia) {\r\n\r\n            while (referencia.firstChild) {\r\n                referencia.removeChild(referencia.firstChild)\r\n            }\r\n        }\r\n    }\r\n})();","(function () {\r\n  const reporte = document.querySelector('#reportes');\r\n  if (reporte) {\r\n\r\n    //mostrarGraficos();\r\n\r\n    function mostrarGraficos() {\r\n\r\n      var ticksStyle = {\r\n        fontColor: '#495057',\r\n        fontStyle: 'bold'\r\n      }\r\n\r\n      var mode = 'index'\r\n      var intersect = true\r\n\r\n\r\n      var $ultimo_year = $('#ultimo-year')\r\n      // eslint-disable-next-line no-unused-vars\r\n      var ultimo_year = new Chart($ultimo_year, {\r\n        type: 'bar',\r\n        data: {\r\n          labels: ['JUN', 'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC'],\r\n          datasets: [\r\n            {\r\n              backgroundColor: '#007bff',\r\n              borderColor: '#007bff',\r\n              data: [1000, 2000, 3000, 2500, 2700, 2500, 3000]\r\n            },\r\n            {\r\n              backgroundColor: '#ced4da',\r\n              borderColor: '#ced4da',\r\n              data: [700, 1700, 2700, 2000, 1800, 1500, 2000]\r\n            }\r\n          ]\r\n        },\r\n        options: {\r\n          maintainAspectRatio: false,\r\n          tooltips: {\r\n            mode: mode,\r\n            intersect: intersect\r\n          },\r\n          hover: {\r\n            mode: mode,\r\n            intersect: intersect\r\n          },\r\n          legend: {\r\n            display: false\r\n          },\r\n          scales: {\r\n            yAxes: [{\r\n              // display: false,\r\n              gridLines: {\r\n                display: true,\r\n                lineWidth: '4px',\r\n                color: 'rgba(0, 0, 0, .2)',\r\n                zeroLineColor: 'transparent'\r\n              },\r\n              ticks: $.extend({\r\n                beginAtZero: true,\r\n\r\n                // Include a dollar sign in the ticks\r\n                callback: function (value) {\r\n                  if (value >= 1000) {\r\n                    value /= 1000\r\n                    value += 'k'\r\n                  }\r\n\r\n                  return '$' + value\r\n                }\r\n              }, ticksStyle)\r\n            }],\r\n            xAxes: [{\r\n              display: true,\r\n              gridLines: {\r\n                display: false\r\n              },\r\n              ticks: ticksStyle\r\n            }]\r\n          }\r\n        }\r\n      })\r\n\r\n      var $ultima_semana = $('#ultima-semana')\r\n      // eslint-disable-next-line no-unused-vars\r\n      var ultima_semana = new Chart($ultima_semana, {\r\n        data: {\r\n          labels: ['18th', '20th', '22nd', '24th', '26th', '28th', '30th'],\r\n          datasets: [{\r\n            type: 'line',\r\n            data: [100, 120, 170, 167, 180, 177, 160],\r\n            backgroundColor: 'transparent',\r\n            borderColor: '#007bff',\r\n            pointBorderColor: '#007bff',\r\n            pointBackgroundColor: '#007bff',\r\n            fill: false\r\n            // pointHoverBackgroundColor: '#007bff',\r\n            // pointHoverBorderColor    : '#007bff'\r\n          },\r\n          {\r\n            type: 'line',\r\n            data: [60, 80, 70, 67, 80, 77, 100],\r\n            backgroundColor: 'tansparent',\r\n            borderColor: '#ced4da',\r\n            pointBorderColor: '#ced4da',\r\n            pointBackgroundColor: '#ced4da',\r\n            fill: false\r\n            // pointHoverBackgroundColor: '#ced4da',\r\n            // pointHoverBorderColor    : '#ced4da'\r\n          }]\r\n        },\r\n        options: {\r\n          maintainAspectRatio: false,\r\n          tooltips: {\r\n            mode: mode,\r\n            intersect: intersect\r\n          },\r\n          hover: {\r\n            mode: mode,\r\n            intersect: intersect\r\n          },\r\n          legend: {\r\n            display: false\r\n          },\r\n          scales: {\r\n            yAxes: [{\r\n              // display: false,\r\n              gridLines: {\r\n                display: true,\r\n                lineWidth: '4px',\r\n                color: 'rgba(0, 0, 0, .2)',\r\n                zeroLineColor: 'transparent'\r\n              },\r\n              ticks: $.extend({\r\n                beginAtZero: true,\r\n                suggestedMax: 200\r\n              }, ticksStyle)\r\n            }],\r\n            xAxes: [{\r\n              display: true,\r\n              gridLines: {\r\n                display: false\r\n              },\r\n              ticks: ticksStyle\r\n            }]\r\n          }\r\n        }\r\n      })\r\n\r\n      var $ultimo_mes = $('#ultimo-mes')\r\n      // eslint-disable-next-line no-unused-vars\r\n      var ultimo_mes = new Chart($ultimo_mes, {\r\n        data: {\r\n          labels: ['18th', '20th', '22nd', '24th', '26th', '28th', '30th'],\r\n          datasets: [{\r\n            type: 'line',\r\n            data: [100, 120, 170, 167, 180, 177, 160],\r\n            backgroundColor: 'transparent',\r\n            borderColor: '#007bff',\r\n            pointBorderColor: '#007bff',\r\n            pointBackgroundColor: '#007bff',\r\n            fill: false\r\n            // pointHoverBackgroundColor: '#007bff',\r\n            // pointHoverBorderColor    : '#007bff'\r\n          },\r\n          {\r\n            type: 'line',\r\n            data: [60, 80, 70, 67, 80, 77, 100],\r\n            backgroundColor: 'tansparent',\r\n            borderColor: '#ced4da',\r\n            pointBorderColor: '#ced4da',\r\n            pointBackgroundColor: '#ced4da',\r\n            fill: false\r\n            // pointHoverBackgroundColor: '#ced4da',\r\n            // pointHoverBorderColor    : '#ced4da'\r\n          }]\r\n        },\r\n        options: {\r\n          maintainAspectRatio: false,\r\n          tooltips: {\r\n            mode: mode,\r\n            intersect: intersect\r\n          },\r\n          hover: {\r\n            mode: mode,\r\n            intersect: intersect\r\n          },\r\n          legend: {\r\n            display: false\r\n          },\r\n          scales: {\r\n            yAxes: [{\r\n              // display: false,\r\n              gridLines: {\r\n                display: true,\r\n                lineWidth: '4px',\r\n                color: 'rgba(0, 0, 0, .2)',\r\n                zeroLineColor: 'transparent'\r\n              },\r\n              ticks: $.extend({\r\n                beginAtZero: true,\r\n                suggestedMax: 200\r\n              }, ticksStyle)\r\n            }],\r\n            xAxes: [{\r\n              display: true,\r\n              gridLines: {\r\n                display: false\r\n              },\r\n              ticks: ticksStyle\r\n            }]\r\n          }\r\n        }\r\n      })\r\n\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n})();\r\n\r\n// lgtm [js/unused-local-variable]\r\n","(function () {\r\n\r\n\r\n    const reporte = document.querySelector('#reporte');\r\n    if (reporte) {\r\n        const total_ventas = document.querySelector('#reporte_total_ventas')\r\n        const total_recuados = document.querySelector('#reporte_total_recaudos')\r\n        const costos = document.querySelector('#reporte_costos')\r\n        const ganancia_no_realizada = document.querySelector('#reporte_ganancia_no_realizada')\r\n        const ganancia_realizada = document.querySelector('#reporte_ganancia_realizada')\r\n        const inventario = document.querySelector('#reporte_inventario')\r\n        const numero_ventas = document.querySelector('#reporte_numero_ventas')\r\n        const numero_fiados = document.querySelector('#reporte_numero_fiados')\r\n        const numero_pagos = document.querySelector('#reporte_numero_pagos')\r\n        const numero_cajas = document.querySelector('#reporte_numero_cajas')\r\n        const numero_productos = document.querySelector('#reporte_numero_productos')\r\n        const numero_clientes = document.querySelector('#reporte_numero_clientes')\r\n        const fecha = document.querySelector('#fecha');\r\n        fecha.addEventListener('input', function (e) {\r\n\r\n            cargarInformacion(e.target.value);\r\n        })\r\n\r\n\r\n        llenarIputFecha();\r\n\r\n        function llenarIputFecha() {\r\n            const fecha_actual_utc = new Date();\r\n\r\n            // Ajustar al huso horario de Colombia (UTC-5)\r\n            const fecha_actual_colombia = new Date(fecha_actual_utc.getTime() - (5 * 60 * 60 * 1000));\r\n\r\n            // Formatear la fecha y asignarla al input\r\n            const fecha_actual_formateada = fecha_actual_colombia.toISOString().slice(0, 10);\r\n            fecha.value = fecha_actual_formateada;\r\n\r\n            // Cargar informacin con la fecha ajustada\r\n            cargarInformacion(fecha.value);\r\n        }\r\n\r\n\r\n\r\n        function mostrarInfo(resultado) {\r\n            console.log('asdf')\r\n            console.log(resultado)\r\n            total_ventas.textContent = resultado.total_ventas\r\n            total_recuados.textContent = resultado.total_recaudos\r\n            costos.textContent = resultado.costos\r\n            ganancia_no_realizada.textContent = resultado.ganancia_no_realizada\r\n            ganancia_realizada.textContent = resultado.ganancia_realizada\r\n            inventario.textContent = resultado.inventario\r\n            numero_ventas.textContent = resultado.numero_ventas\r\n            numero_fiados.textContent = resultado.numero_fiados\r\n            numero_pagos.textContent = resultado.numero_pagos\r\n            numero_cajas.textContent = resultado.numero_cajas\r\n            numero_productos.textContent = resultado.numero_productos\r\n            numero_clientes.textContent = resultado.numero_clientes\r\n\r\n        }\r\n\r\n        async function cargarInformacion(fecha) {\r\n\r\n            const datos = new FormData();\r\n            datos.append('fecha', fecha);\r\n            const url = `${location.origin}/api/info-general`;\r\n\r\n            try {\r\n                const respuesta = await fetch(url, {\r\n                    method: 'POST',\r\n                    body: datos\r\n                });\r\n                const resultado = await respuesta.json();\r\n                console.log(resultado)\r\n                // console.log(resultado);\r\n                mostrarInfo(resultado);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n    }\r\n})();","(function () {\r\n    const ventas = document.querySelector('#ventas');\r\n    if (ventas) {\r\n        let tablaVentas;\r\n\r\n        $('#tabla').on('click', '#editar', function (e) {\r\n\r\n\r\n            id = e.currentTarget.dataset.ventaId;\r\n\r\n\r\n            revisarPagosAsociados(id);\r\n\r\n\r\n            // accionesModal();\r\n        })\r\n        $('#tabla').on('click', '#eliminar', function (e) {\r\n            const ventaId = e.currentTarget.dataset.ventaId;\r\n\r\n            alertaEliminarVenta(ventaId, e);\r\n        })\r\n        $('#tabla').on('click', '#imprimir', function (e) {\r\n            const ventaId = e.currentTarget.dataset.ventaId;\r\n            imprimirVenta(ventaId);\r\n        })\r\n\r\n        async function imprimirVenta(id) {\r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n            const url = `${location.origin}/api/imprimir-venta?id=${id}`;\r\n            window.open(url, \"_blank\");\r\n\r\n            // try {\r\n            //     const respuesta = await fetch(url)\r\n            //     const resultado = await respuesta.json();\r\n            //     console.log(resultado)\r\n            // } catch (error) {\r\n            //     console.log(error)\r\n            // }\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n        async function revisarPagosAsociados(id) {\r\n\r\n            const datos = new FormData();\r\n\r\n            datos.append('id', id);\r\n            const url = `${location.origin}/api/revisar-venta`;\r\n            try {\r\n                const respuesta = await fetch(url, {\r\n                    method: 'POST',\r\n                    body: datos\r\n                })\r\n\r\n                const resultado = await respuesta.json();\r\n\r\n\r\n\r\n                eliminarToastAnterior();\r\n\r\n                if (resultado.type == 'error') {\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n                } else {\r\n\r\n                    const idString = id.toString();\r\n                    window.location = `/crear-venta?id=${btoa(idString)}`;\r\n\r\n                }\r\n\r\n                setTimeout(() => {\r\n                    eliminarToastAnterior();\r\n                }, 8000)\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        function alertaEliminarVenta(id, e) {\r\n\r\n            const numero_venta = e.currentTarget.parentElement.parentElement.parentElement.childNodes[1].textContent;\r\n\r\n\r\n            Swal.fire({\r\n                icon: 'warning',\r\n                html: `<h2 class=\"\">esta seguro de eliminar la venta numero <span class=\"font-weight-bold\"> ${numero_venta} </span>?</h2><br><p>Esta accin no se puede deshacer</p>`,\r\n\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                cancelButtonText: `Cancelar`,\r\n\r\n\r\n            }).then(result => {\r\n                if (result.isConfirmed) {\r\n                    eliminarVenta(id)\r\n                }\r\n            })\r\n        }\r\n\r\n        async function eliminarVenta(id) {\r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n\r\n            url = `${location.origin}/api/venta/eliminar`;\r\n            try {\r\n                const respuesta = await fetch(url, {\r\n                    body: datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n\r\n\r\n\r\n                eliminarToastAnterior();\r\n\r\n                if (resultado.type == 'error') {\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n                } else {\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(() => {\r\n                        eliminarToastAnterior();\r\n                    }, 8000)\r\n\r\n\r\n                    tablaVentas.ajax.reload();\r\n                }\r\n            } catch (error) {\r\n\r\n            }\r\n        }\r\n\r\n        mostrarVentas()\r\n        // function mostrarVentas(){\r\n\r\n        //     $(\"#tabla\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n\r\n        //     tablaVentas = $('#tabla').DataTable({\r\n        //         ajax: '/api/ventas',\r\n        //         \"deferRender\":true,\r\n        //         \"retrieve\":true,\r\n        //         \"proccesing\":true,\r\n        //         responsive:true,\r\n\r\n        //     });\r\n\r\n\r\n\r\n        // }  \r\n\r\n        function mostrarVentas() {\r\n            if ($.fn.DataTable.isDataTable('#tabla')) {\r\n                $('#tabla').DataTable().destroy();\r\n            }\r\n         \r\n\r\n            tablaVentas = $('#tabla').DataTable({\r\n                processing: true,\r\n                serverSide: true,\r\n                ajax: {\r\n                    url: '/api/ventas',\r\n                    type: 'GET'\r\n                },\r\n                responsive: true,\r\n\r\n                order: [[1, 'desc']],\r\n                language: {\r\n                    \"decimal\": \"\",\r\n                    \"emptyTable\": \"No hay informacin\",\r\n                    \"info\": \"Mostrando _START_ a _END_ de _TOTAL_ Entradas\",\r\n                    \"infoEmpty\": \"Mostrando 0 a 0 de 0 Entradas\",\r\n                    \"infoFiltered\": \"(filtrado de _MAX_ entradas totales)\",\r\n                    \"lengthMenu\": \"Mostrar _MENU_ Entradas\",\r\n                    \"loadingRecords\": \"Cargando...\",\r\n                    \"processing\": \"Procesando...\",\r\n                    \"search\": \"Buscar:\",\r\n                    \"zeroRecords\": \"No se encontraron resultados\",\r\n                    \"paginate\": {\r\n                        \"first\": \"Primero\",\r\n                        \"last\": \"ltimo\",\r\n                        \"next\": \"Siguiente\",\r\n                        \"previous\": \"Anterior\"\r\n                    }\r\n                }\r\n            \r\n            });\r\n        }\r\n\r\n\r\n        function eliminarToastAnterior() {\r\n            if (document.querySelector('#toastsContainerTopRight')) {\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n    }\r\n})();","(function(){\r\n    const compras = document.querySelector('#compras');\r\n    if(compras){\r\n        let tablaProductosVendidos;\r\n        const formularioStock = document.querySelector('#stockForm');\r\n        const nombre_producto = document.querySelector('#nombre_producto');\r\n        const nuevo_stock = document.querySelector('#nuevo_stock');\r\n        const precio_paquete_nuevo = document.querySelector('#precio_paquete_nuevo');\r\n        const unidades_input_nuevo = document.querySelector('#unidades_nuevo');\r\n        const precio_compra_nuevo = document.querySelector('#precio_compra_nuevo');\r\n        const btnSubmitNewStock = document.querySelector('#btnSubmitNewStock');\r\n        consultarProductos();\r\n\r\n        $('#tabla').on('click', '#agregar_stock', function(e){\r\n           \r\n            idProductoActualizarStock = e.currentTarget.dataset.productoId;\r\n            formularioStock.reset();\r\n            btnSubmitNewStock.disabled = false;\r\n            $('#modal-stock').modal('show');\r\n            $('#stockForm').validate().resetForm();\r\n            // Elimina todas las reglas de validacin\r\n            $('#stockForm').validate().destroy();\r\n            // Elimina las clases de validacin de los elementos\r\n            $('#stockForm').find('.is-invalid').removeClass('is-invalid');\r\n  \r\n \r\n            const nombre = e.currentTarget.parentElement.parentElement.parentElement.childNodes[1].textContent;\r\n            nombre_producto.value = nombre;\r\n            inicializarValidadorStock();\r\n        })\r\n\r\n        precio_paquete_nuevo.addEventListener('input',function(e){\r\n            const precio_paquete = formatearValor(e.target.value);\r\n            precio_paquete_nuevo.value = precio_paquete;\r\n            calcularNuevoPrecioCompra();\r\n        })\r\n        unidades_input_nuevo.addEventListener('input',function(e){\r\n            \r\n            calcularNuevoPrecioCompra();\r\n        })\r\n\r\n        precio_compra_nuevo.addEventListener('input',function(e){\r\n            const precio_compra = formatearValor(e.target.value);\r\n            precio_compra_nuevo.value = precio_compra;\r\n        \r\n        })\r\n\r\n\r\n\r\n       \r\n        function consultarProductos(){\r\n \r\n            $(\"#tabla\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaCompras = $('#tabla').DataTable({\r\n                ajax: '/api/compras',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true,\r\n                initComplete: function () {\r\n                    // Inicializa los botones despus de que la tabla se haya creado\r\n                    var buttons = new $.fn.dataTable.Buttons(tablaCompras, {\r\n                        buttons: [\"copy\", \"csv\", \"excel\", \"pdf\", \"print\", \"colvis\"]\r\n                    }).container().appendTo('#tabla_wrapper .col-md-6:eq(0)');\r\n                }\r\n            });\r\n            \r\n       \r\n       \r\n        }\r\n        function calcularNuevoPrecioCompra(){\r\n            precio_compra_nuevo.value = '';\r\n    \r\n            const precio_paquete = parseFloat((precio_paquete_nuevo.value).replace(/,/g, ''));\r\n            const unidades = parseFloat(unidades_input_nuevo.value);\r\n            if(isNaN(precio_paquete) || isNaN(unidades)){\r\n                return;\r\n            }\r\n            const precio_compra = precio_paquete/unidades;\r\n            precio_compra_nuevo.value = (Math.round(precio_compra)).toLocaleString('en')\r\n        }\r\n\r\n        function formatearValor(valor){\r\n           \r\n            let valor_sin_formato = parseFloat(valor.replace(/,/g, ''));\r\n            if(isNaN(valor_sin_formato)){\r\n                valor_sin_formato = '';\r\n            }\r\n            const valor_formateado =  valor_sin_formato.toLocaleString('en');\r\n            return valor_formateado ;\r\n        }\r\n        async function enviarDatosStock(){\r\n            const datos = new FormData();\r\n     \r\n            datos.append('id', idProductoActualizarStock)\r\n            datos.append('stock', (nuevo_stock.value));\r\n            datos.append('precio_compra', (precio_compra_nuevo.value));\r\n\r\n           btnSubmitNewStock.disabled = true;\r\n\r\n            const url = `${location.origin}/api/producto/editar-stock`;\r\n        \r\n            \r\n            \r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n          \r\n          \r\n                eliminarToastAnterior();\r\n         \r\n                btnSubmitNewStock.disabled = false;\r\n              \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n                   \r\n                    $(\"#tabla\").DataTable().ajax.reload();\r\n               \r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },4000)\r\n\r\n                    formularioStock.reset();\r\n\r\n                    $('#modal-stock').modal('hide');\r\n         \r\n                }\r\n   \r\n            } catch (error) {  \r\n            }\r\n        }\r\n        \r\n        function inicializarValidadorStock(id) {\r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                enviarDatosStock()\r\n         \r\n              }\r\n            });\r\n      \r\n             $('#stockForm').validate({\r\n              rules: {\r\n                \r\n               \r\n                nuevo_stock: {\r\n                    required: true\r\n                },\r\n               \r\n                precio_compra_nuevo:{\r\n                    required: true\r\n                }\r\n              },\r\n              messages: {\r\n                nuevo_stock: {\r\n                    required: \"El nombre es obligatorio\"  \r\n                },\r\n                precio_compra_nuevo: {\r\n                    required: 'la nueva cantidad adquirida es obligatoria'\r\n                }\r\n\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#stockForm').on('valid', function(event) {\r\n            inicializarValidadorStock();\r\n        });\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n    }\r\n})();","(function () {\r\n    const productos = document.querySelector('#productos');\r\n    if (productos) {\r\n        const precio_compra_input = document.querySelector('#precio_compra');\r\n        const precio_venta_input = document.querySelector('#precio_venta');\r\n        const porcentaje_venta = document.querySelector('#porcentaje_venta');\r\n        const precio_paquete_input = document.querySelector('#precio_paquete');\r\n        const unidades_input = document.querySelector('#unidades');\r\n        precio_compra_input.addEventListener('input', function (e) {\r\n            const precio_compra = formatearValor(e.target.value);\r\n            precio_compra_input.value = precio_compra;\r\n            calcularPorcentaje()\r\n        })\r\n        precio_venta_input.addEventListener('input', function (e) {\r\n            const precio_compra = formatearValor(e.target.value);\r\n            precio_venta_input.value = precio_compra;\r\n            calcularPorcentaje();\r\n\r\n        })\r\n        porcentaje_venta.addEventListener('input', function (e) {\r\n            calcularPrecioVenta(e.target.value);\r\n\r\n\r\n        })\r\n        precio_paquete_input.addEventListener('input', function (e) {\r\n            const precio_paquete = formatearValor(e.target.value);\r\n            precio_paquete_input.value = precio_paquete;\r\n            calcularPrecioCompra();\r\n        })\r\n        unidades_input.addEventListener('input', function (e) {\r\n\r\n            calcularPrecioCompra();\r\n        })\r\n\r\n        function calcularPrecioCompra() {\r\n            precio_compra_input.value = '';\r\n            precio_venta_input.value = '';\r\n            porcentaje_venta.value = '';\r\n            const precio_paquete = parseFloat((precio_paquete_input.value).replace(/,/g, ''));\r\n            const unidades = parseFloat(unidades_input.value);\r\n            if (isNaN(precio_paquete) || isNaN(unidades)) {\r\n                return;\r\n            }\r\n            const precio_compra = precio_paquete / unidades;\r\n            precio_compra_input.value = (Math.round(precio_compra)).toLocaleString('en')\r\n            // calcularPrecioVenta(porcentaje_venta.input);\r\n            // calcularPorcentaje();\r\n\r\n        }\r\n\r\n\r\n        // function calcularPrecioVenta(porcentaje){\r\n        //     const precio_compra = parseFloat((precio_compra_input.value).replace(/,/g, ''));\r\n\r\n        //     if(isNaN(precio_compra)){\r\n        //         return;\r\n        //     }\r\n        //     const precio_venta = parseFloat(porcentaje)*precio_compra/100;\r\n        //     precio_venta_input.value = (Math.round(precio_venta / 100) * 100).toLocaleString('en')\r\n        // }\r\n\r\n        function calcularPrecioVenta(porcentaje) {\r\n            const precio_compra = parseFloat((precio_compra_input.value).replace(/,/g, ''));\r\n\r\n            if (isNaN(precio_compra)) {\r\n                return;\r\n            }\r\n\r\n            // Frmula correcta: precio_venta = precio_compra + (precio_compra * porcentaje / 100)\r\n            const precio_venta = precio_compra + (precio_compra * parseFloat(porcentaje) / 100);\r\n\r\n            // Redondear al mltiplo de 100 ms cercano y formatear con comas\r\n            precio_venta_input.value = (Math.round(precio_venta / 100) * 100).toLocaleString('en');\r\n        }\r\n\r\n\r\n        function calcularPorcentaje() {\r\n\r\n            const precio_compra = parseFloat((precio_compra_input.value).replace(/,/g, ''));\r\n            const precio_venta = parseFloat((precio_venta_input.value).replace(/,/g, ''));\r\n            if (isNaN(precio_compra) || isNaN(precio_venta)) {\r\n                return;\r\n            }\r\n            const porcentaje = ((precio_venta - precio_compra) * 100) / precio_compra;\r\n            porcentaje_venta.value = porcentaje.toFixed(2)\r\n        }\r\n\r\n        function formatearValor(valor) {\r\n\r\n            let valor_sin_formato = parseFloat(valor.replace(/,/g, ''));\r\n            if (isNaN(valor_sin_formato)) {\r\n                valor_sin_formato = '';\r\n            }\r\n            const valor_formateado = valor_sin_formato.toLocaleString('en');\r\n            return valor_formateado;\r\n        }\r\n\r\n    }\r\n})();","(function () {\r\n    const productos = document.querySelector('#productos');\r\n    if (productos) {\r\n        const btnRegistrarProducto = document.querySelector('#registrar');\r\n        const formulario = document.querySelector('#productoForm');\r\n        const selectCategorias = document.querySelector('#categoria_id');\r\n        const selectProveedores = document.querySelector('#proveedor_id');\r\n        let formularioValidador;\r\n        let idCategoria = null;\r\n        let idProveedor = null;\r\n        let tablaProductos;\r\n        /* inputs del formulario */\r\n        let id;\r\n        const nombre = document.querySelector('#nombre');\r\n        const codigo = document.querySelector('#codigo');\r\n        const categoria_id = document.querySelector('#categoria_id');\r\n        const proveedor_id = document.querySelector('#proveedor_id');\r\n        const stock = document.querySelector('#stock');\r\n        const stock_minimo = document.querySelector('#stock_minimo');\r\n        const precio_compra = document.querySelector('#precio_compra');\r\n        const precio_venta = document.querySelector('#precio_venta');\r\n        const porcentaje_venta = document.querySelector('#porcentaje_venta');\r\n\r\n        const btnSubmit = document.querySelector('#btnSubmit');\r\n        btnSubmit.addEventListener('click', function () {\r\n            //agregar validacion para el input cateogria_id y proveedor_id\r\n        })\r\n\r\n        mostrarProductos();\r\n        //convertir el nombre a mayusculas\r\n        nombre.addEventListener('input', function (e) {\r\n            nombre.value = (e.target.value).toUpperCase();\r\n\r\n        })\r\n\r\n        btnRegistrarProducto.addEventListener('click', function () {\r\n            id = null;\r\n            idCategoria = null;\r\n            idProveedor = null;\r\n            accionesModal();\r\n        })\r\n\r\n        $('#tabla').on('click', '#editar', function (e) {\r\n            id = e.currentTarget.dataset.productoId;\r\n            accionesModal();\r\n        })\r\n\r\n        $('#tabla').on('click', '#eliminar', function (e) {\r\n            const idProducto = e.currentTarget.dataset.productoId;\r\n            alertaEliminarProducto(idProducto, e);\r\n        })\r\n\r\n        function alertaEliminarProducto(id, e) {\r\n\r\n            const nombre = e.currentTarget.parentElement.parentElement.parentElement.childNodes[2].textContent;\r\n            console.log(nombre)\r\n\r\n            Swal.fire({\r\n                icon: 'warning',\r\n                html: `<h2 class=\"\">esta seguro de eliminar el producto <span class=\"font-weight-bold\"> ${nombre} </span>?</h2><br><p>Esta accin no se puede deshacer</p>`,\r\n\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                cancelButtonText: `Cancelar`,\r\n\r\n\r\n            }).then(result => {\r\n                if (result.isConfirmed) {\r\n                    eliminarProducto(id)\r\n                }\r\n            })\r\n        }\r\n        async function eliminarProducto(id) {\r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n\r\n            url = `${location.origin}/api/producto/eliminar`;\r\n            try {\r\n                const respuesta = await fetch(url, {\r\n                    body: datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n\r\n                eliminarToastAnterior();\r\n\r\n                if (resultado.type == 'error') {\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n                } else {\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(() => {\r\n                        eliminarToastAnterior();\r\n                    }, 8000)\r\n\r\n\r\n                    tablaProductos.ajax.reload();\r\n                }\r\n            } catch (error) {\r\n\r\n            }\r\n        }\r\n\r\n\r\n        // function mostrarProductos(){\r\n\r\n        //     $(\"#tabla\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n\r\n        //     tablaProductos = $('#tabla').DataTable({\r\n        //         language: {\r\n        //             \"decimal\": \"\",\r\n        //             \"emptyTable\": \"No hay informacin\",\r\n        //             \"info\": \"Mostrando _START_ a _END_ de _TOTAL_ Entradas\",\r\n        //             \"infoEmpty\": \"Mostrando 0 to 0 of 0 Entradas\",\r\n        //             \"infoFiltered\": \"(Filtrado de _MAX_ total entradas)\",\r\n        //             \"infoPostFix\": \"\",\r\n        //             \"thousands\": \",\",\r\n        //             \"lengthMenu\": \"Mostrar _MENU_ Entradas\",\r\n        //             \"loadingRecords\": \"Cargando...\",\r\n        //             \"processing\": \"Procesando...\",\r\n        //             \"search\": \"Buscar:\",\r\n        //             \"zeroRecords\": \"Sin resultados encontrados\",\r\n        //             \"paginate\": {\r\n        //                 \"first\": \"Primero\",\r\n        //                 \"last\": \"Ultimo\",\r\n        //                 \"next\": \"Siguiente\",\r\n        //                 \"previous\": \"Anterior\"\r\n        //             }\r\n        //         },\r\n        //         ajax: '/api/productos',\r\n        //         \"deferRender\":true,\r\n        //         \"retrieve\":true,\r\n        //         \"proccesing\":true,\r\n        //         responsive:true\r\n\r\n        //     });\r\n\r\n        //     // $.ajax({\r\n        //     //     url:'/api/productos',\r\n        //     //     dataType:'json',\r\n        //     //     success:function(req){\r\n        //     //         console.log(req)\r\n        //     //     },\r\n        //     //     error:function(error){\r\n        //     //         console.log(error.resposeText)\r\n        //     //     }\r\n        //     // })\r\n\r\n        // }  \r\n\r\n        function mostrarProductos() {\r\n            if ($.fn.DataTable.isDataTable('#tabla')) {\r\n                $('#tabla').DataTable().destroy();\r\n            }\r\n\r\n            tablaProductos = $('#tabla').DataTable({\r\n                processing: true,\r\n                serverSide: true,\r\n                ajax: {\r\n                    url: '/api/productos',\r\n                    type: 'GET'\r\n                },\r\n                responsive: true,\r\n                order: [[1, 'desc']],\r\n                language: {\r\n                    \"decimal\": \"\",\r\n                    \"emptyTable\": \"No hay informacin\",\r\n                    \"info\": \"Mostrando _START_ a _END_ de _TOTAL_ Entradas\",\r\n                    \"infoEmpty\": \"Mostrando 0 a 0 de 0 Entradas\",\r\n                    \"infoFiltered\": \"(filtrado de _MAX_ entradas totales)\",\r\n                    \"lengthMenu\": \"Mostrar _MENU_ Entradas\",\r\n                    \"loadingRecords\": \"Cargando...\",\r\n                    \"processing\": \"Procesando...\",\r\n                    \"search\": \"Buscar:\",\r\n                    \"zeroRecords\": \"No se encontraron resultados\",\r\n                    \"paginate\": {\r\n                        \"first\": \"Primero\",\r\n                        \"last\": \"ltimo\",\r\n                        \"next\": \"Siguiente\",\r\n                        \"previous\": \"Anterior\"\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        /* consultar Categorias */\r\n        async function consultarCategorias() {\r\n            const url = `/api/productos-categorias`;\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const categorias = await respuesta.json();\r\n                llenarSelectCategorias(categorias);\r\n            } catch (error) {\r\n\r\n            }\r\n        }\r\n        /* consultar Proveedores */\r\n        async function consultarProveedores() {\r\n            const url = `/api/productos-proveedores`;\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const proveedores = await respuesta.json();\r\n\r\n                llenarSelectProveedores(proveedores);\r\n            } catch (error) {\r\n\r\n            }\r\n        }\r\n\r\n        function llenarSelectCategorias(categorias) {\r\n            limpiarHtml(selectCategorias);\r\n            // llenarPrimerOption(selectCategorias);\r\n\r\n            // const opcionDisabled =   document.createElement('OPTION');\r\n            //     opcionDisabled.textContent = '--seleccione un producto--';\r\n            //     opcionDisabled.disabled = true;\r\n            //     opcionDisabled.selected = true;\r\n\r\n            //     selectCategorias.appendChild(opcionDisabled); \r\n\r\n            categorias.forEach(categoria => {\r\n\r\n                const opcion = document.createElement('OPTION');\r\n                opcion.value = categoria.id;\r\n                opcion.textContent = categoria.categoria;\r\n                if (categoria.id == idCategoria) {\r\n\r\n                    opcion.selected = true;\r\n                }\r\n\r\n\r\n                selectCategorias.appendChild(opcion)\r\n\r\n            });\r\n            // $('.selectCategoria').select2()\r\n            // $('.selectProveedor').select2()\r\n            // $('.select2bs4').select2({\r\n            //     theme: 'bootstrap4'\r\n            // })\r\n\r\n        }\r\n        function llenarSelectProveedores(proveedores) {\r\n            limpiarHtml(selectProveedores);\r\n\r\n            // const opcionDisabled =   document.createElement('OPTION');\r\n            //     opcionDisabled.textContent = '--seleccione un producto--';\r\n            //     opcionDisabled.disabled = true;\r\n            //     opcionDisabled.selected = true;\r\n\r\n            //     selectProveedores.appendChild(opcionDisabled); \r\n\r\n            //  llenarPrimerOption(selectProveedores);\r\n            proveedores.forEach(proveedor => {\r\n\r\n                const opcion = document.createElement('OPTION');\r\n                opcion.value = proveedor.id;\r\n                opcion.textContent = proveedor.nombre;\r\n                if (proveedor.id == idProveedor) {\r\n\r\n                    opcion.selected = true;\r\n                }\r\n                selectProveedores.appendChild(opcion)\r\n\r\n            });\r\n            $('.selectCategoria').select2()\r\n            $('.selectProveedor').select2()\r\n            $('.select2bs4').select2({\r\n                theme: 'bootstrap4'\r\n            })\r\n\r\n\r\n        }\r\n\r\n        async function enviarDatos() {\r\n\r\n            const datos = new FormData();\r\n            if (id) {\r\n                datos.append('id', id)\r\n            }\r\n            datos.append('nombre', (nombre.value).trim());\r\n            datos.append('codigo', (codigo.value).trim());\r\n            datos.append('categoria_id', (categoria_id.value));\r\n            datos.append('proveedor_id', (proveedor_id.value));\r\n            datos.append('stock', (stock.value));\r\n            datos.append('stock_minimo', (stock_minimo.value));\r\n            datos.append('precio_compra', (precio_compra.value));\r\n            datos.append('precio_venta', (precio_venta.value));\r\n            datos.append('porcentaje_venta', (porcentaje_venta.value));\r\n\r\n            btnSubmit.disabled = true;\r\n\r\n            let url = '';\r\n            if (id) {\r\n                url = `${location.origin}/api/producto/editar`;\r\n            } else {\r\n                url = `${location.origin}/api/producto/crear`;\r\n            }\r\n\r\n            try {\r\n                const respuesta = await fetch(url, {\r\n                    body: datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n\r\n                eliminarToastAnterior();\r\n                btnSubmit.disabled = false;\r\n                if (resultado.type == 'error') {\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n                } else {\r\n                    tablaProductos.ajax.reload()\r\n\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n\r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(() => {\r\n                        eliminarToastAnterior();\r\n                    }, 4000)\r\n\r\n                    formulario.reset();\r\n\r\n                    $('#modal-producto').modal('hide');\r\n\r\n                }\r\n\r\n            } catch (error) {\r\n            }\r\n        }\r\n\r\n        function eliminarToastAnterior() {\r\n            if (document.querySelector('#toastsContainerTopRight')) {\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n\r\n        async function accionesModal() {\r\n            formulario.reset();\r\n            btnSubmit.disabled = false;\r\n            $('#modal-producto').modal('show');\r\n            $('#productoForm').validate().resetForm();\r\n            // Elimina todas las reglas de validacin\r\n            $('#productoForm').validate().destroy();\r\n            // Elimina las clases de validacin de los elementos\r\n            $('#productoForm').find('.is-invalid').removeClass('is-invalid');\r\n            if (id) {\r\n                consultarProducto();\r\n            }\r\n\r\n            await consultarCategorias();\r\n            await consultarProveedores();\r\n\r\n            inicializarValidador();\r\n\r\n\r\n        }\r\n\r\n        async function consultarProducto() {\r\n            try {\r\n                const respuesta = await fetch(`/api/producto?id=${id}`);\r\n                const resultado = await respuesta.json();\r\n\r\n\r\n                llenarFormulario(resultado);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        function llenarFormulario(resultado) {\r\n            idCategoria = resultado.categoria_id;\r\n            idProveedor = resultado.proveedor_id;\r\n            nombre.value = (resultado.nombre).toUpperCase();\r\n            codigo.value = resultado.codigo;\r\n            stock.value = resultado.stock;\r\n            stock_minimo.value = resultado.stock_minimo;\r\n            precio_compra.value = (parseFloat(resultado.precio_compra)).toLocaleString('en');\r\n            precio_venta.value = (parseFloat(resultado.precio_venta)).toLocaleString('en');\r\n            porcentaje_venta.value = resultado.porcentaje_venta;\r\n\r\n        }\r\n        function inicializarValidador() {\r\n            $.validator.setDefaults({\r\n                submitHandler: function () {\r\n                    enviarDatos();\r\n\r\n\r\n                }\r\n            });\r\n\r\n\r\n            $('#productoForm').validate({\r\n                rules: {\r\n                    nombre: {\r\n                        required: true\r\n\r\n                    },\r\n\r\n                    stock: {\r\n                        required: true\r\n                    },\r\n                    stock_minimo: {\r\n                        required: true\r\n                    },\r\n                    precio_compra: {\r\n                        required: true\r\n                    },\r\n                    precio_venta: {\r\n                        required: true\r\n                    },\r\n                    porcentaje_venta: {\r\n                        required: true\r\n                    }\r\n                },\r\n                messages: {\r\n                    nombre: {\r\n                        required: \"El nombre es obligatorio\"\r\n                    },\r\n                    stock: {\r\n                        required: 'El stock inicial es obligatorio'\r\n                    },\r\n                    stock_minimo: {\r\n                        required: 'El Stock mnimo es obligatorio'\r\n                    },\r\n                    precio_compra: {\r\n                        required: 'El precio de compra es obligatorio'\r\n                    },\r\n                    precio_venta: {\r\n                        required: 'El precio de venta es obligatorio'\r\n                    },\r\n                    porcentaje_venta: {\r\n                        required: 'El porcentaje de venta es obligatorio'\r\n                    }\r\n\r\n                },\r\n                errorElement: 'span',\r\n                errorPlacement: function (error, element) {\r\n                    error.addClass('invalid-feedback');\r\n                    element.closest('.form-group').append(error);\r\n                },\r\n                highlight: function (element, errorClass, validClass) {\r\n                    $(element).addClass('is-invalid');\r\n                },\r\n                unhighlight: function (element, errorClass, validClass) {\r\n                    $(element).removeClass('is-invalid');\r\n                }\r\n            });\r\n        };\r\n        $('#productoForm').on('valid', function (event) {\r\n            inicializarValidador();\r\n        });\r\n\r\n        // function llenarPrimerOption(referencia){\r\n        //     const optionDefault =  document.createElement('OPTION');\r\n        //     optionDefault.textContent = 'Seleccione';\r\n\r\n\r\n        //     optionDefault.value=0;\r\n        //     referencia.appendChild(optionDefault)\r\n        // }\r\n        function limpiarHtml(referencia) {\r\n            while (referencia.firstChild) {\r\n                referencia.removeChild(referencia.firstChild);\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n})();","(function(){\r\n    const productos = document.querySelector('#productos');\r\n\r\n    if(productos){\r\n        const formularioStock = document.querySelector('#stockForm');\r\n        const nombre_producto = document.querySelector('#nombre_producto');\r\n        const nuevo_stock = document.querySelector('#nuevo_stock');\r\n        const precio_paquete_nuevo = document.querySelector('#precio_paquete_nuevo');\r\n        const unidades_input_nuevo = document.querySelector('#unidades_nuevo');\r\n        const precio_compra_nuevo = document.querySelector('#precio_compra_nuevo');\r\n        const btnSubmitNewStock = document.querySelector('#btnSubmitNewStock');\r\n\r\n        let idProductoActualizarStock;\r\n        \r\n        $('#tabla').on('click', '#agregar_stock', function(e){\r\n           \r\n            idProductoActualizarStock = e.currentTarget.dataset.productoId;\r\n            formularioStock.reset();\r\n            btnSubmitNewStock.disabled = false;\r\n            $('#modal-stock').modal('show');\r\n            $('#stockForm').validate().resetForm();\r\n            // Elimina todas las reglas de validacin\r\n            $('#stockForm').validate().destroy();\r\n            // Elimina las clases de validacin de los elementos\r\n            $('#stockForm').find('.is-invalid').removeClass('is-invalid');\r\n  \r\n \r\n            const nombre = e.currentTarget.parentElement.parentElement.parentElement.childNodes[2].textContent;\r\n            nombre_producto.value = nombre;\r\n            inicializarValidadorStock();\r\n        })\r\n\r\n        precio_paquete_nuevo.addEventListener('input',function(e){\r\n            const precio_paquete = formatearValor(e.target.value);\r\n            precio_paquete_nuevo.value = precio_paquete;\r\n            calcularNuevoPrecioCompra();\r\n        })\r\n        unidades_input_nuevo.addEventListener('input',function(e){\r\n            \r\n            calcularNuevoPrecioCompra();\r\n        })\r\n\r\n        precio_compra_nuevo.addEventListener('input',function(e){\r\n            const precio_compra = formatearValor(e.target.value);\r\n            precio_compra_nuevo.value = precio_compra;\r\n        \r\n        })\r\n     \r\n\r\n        function calcularNuevoPrecioCompra(){\r\n            precio_compra_nuevo.value = '';\r\n    \r\n            const precio_paquete = parseFloat((precio_paquete_nuevo.value).replace(/,/g, ''));\r\n            const unidades = parseFloat(unidades_input_nuevo.value);\r\n            if(isNaN(precio_paquete) || isNaN(unidades)){\r\n                return;\r\n            }\r\n            const precio_compra = precio_paquete/unidades;\r\n            precio_compra_nuevo.value = (Math.round(precio_compra)).toLocaleString('en')\r\n        }\r\n\r\n        function formatearValor(valor){\r\n           \r\n            let valor_sin_formato = parseFloat(valor.replace(/,/g, ''));\r\n            if(isNaN(valor_sin_formato)){\r\n                valor_sin_formato = '';\r\n            }\r\n            const valor_formateado =  valor_sin_formato.toLocaleString('en');\r\n            return valor_formateado ;\r\n        }\r\n\r\n        async function enviarDatosStock(){\r\n            const datos = new FormData();\r\n     \r\n            datos.append('id', idProductoActualizarStock)\r\n            datos.append('stock', (nuevo_stock.value));\r\n            datos.append('precio_compra', (precio_compra_nuevo.value));\r\n\r\n           btnSubmitNewStock.disabled = true;\r\n\r\n            const url = `${location.origin}/api/producto/editar-stock`;\r\n        \r\n            \r\n            \r\n            try {\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n          \r\n          \r\n                eliminarToastAnterior();\r\n         \r\n                btnSubmitNewStock.disabled = false;\r\n              \r\n                if(resultado.type=='error'){\r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-danger',\r\n                        title: 'Error',\r\n                     \r\n                        body: resultado.msg\r\n                      })\r\n                }else{\r\n                   \r\n                    $(\"#tabla\").DataTable().ajax.reload();\r\n               \r\n                    $(document).Toasts('create', {\r\n                        class: 'bg-azul text-blanco',\r\n                        title: 'Completado',\r\n                        \r\n                        body: resultado.msg\r\n                    })\r\n\r\n                    setTimeout(()=>{\r\n                        eliminarToastAnterior();\r\n                    },4000)\r\n\r\n                    formularioStock.reset();\r\n\r\n                    $('#modal-stock').modal('hide');\r\n         \r\n                }\r\n   \r\n            } catch (error) {  \r\n            }\r\n        }\r\n\r\n        function eliminarToastAnterior(){\r\n            if(document.querySelector('#toastsContainerTopRight')){\r\n                document.querySelector('#toastsContainerTopRight').remove()\r\n            }\r\n        }\r\n\r\n        function inicializarValidadorStock(id) {\r\n            $.validator.setDefaults({\r\n              submitHandler: function () {\r\n                enviarDatosStock()\r\n         \r\n              }\r\n            });\r\n      \r\n             $('#stockForm').validate({\r\n              rules: {\r\n                \r\n               \r\n                nuevo_stock: {\r\n                    required: true\r\n                },\r\n               \r\n                precio_compra_nuevo:{\r\n                    required: true\r\n                }\r\n              },\r\n              messages: {\r\n                nuevo_stock: {\r\n                    required: \"El nombre es obligatorio\"  \r\n                },\r\n                precio_compra_nuevo: {\r\n                    required: 'la nueva cantidad adquirida es obligatoria'\r\n                }\r\n\r\n              },\r\n              errorElement: 'span',\r\n              errorPlacement: function (error, element) {\r\n                error.addClass('invalid-feedback');\r\n                element.closest('.form-group').append(error);\r\n              },\r\n              highlight: function (element, errorClass, validClass) {\r\n                $(element).addClass('is-invalid');\r\n              },\r\n              unhighlight: function (element, errorClass, validClass) {\r\n                $(element).removeClass('is-invalid');\r\n              }\r\n            });\r\n          };\r\n          $('#stockForm').on('valid', function(event) {\r\n            inicializarValidadorStock();\r\n        });\r\n\r\n        \r\n\r\n    \r\n    }\r\n\r\n})();"]}